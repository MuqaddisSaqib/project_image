(function(){"use strict";var m5=document.createElement("style");function g5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}m5.textContent=`livex-chatbot-button{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:50%;box-shadow:0 4px 8px #0000001a;right:0;bottom:0;padding:8px;position:absolute;transition:transform .2s ease-in-out!important}livex-chatbot-button:hover{transform:scale(1.1)!important}
`,document.head.appendChild(m5);var v5={exports:{}},Jp={},y5={exports:{}},Ut={},fh=Symbol.for("react.element"),NL=Symbol.for("react.portal"),BL=Symbol.for("react.fragment"),zL=Symbol.for("react.strict_mode"),FL=Symbol.for("react.profiler"),UL=Symbol.for("react.provider"),jL=Symbol.for("react.context"),VL=Symbol.for("react.forward_ref"),qL=Symbol.for("react.suspense"),HL=Symbol.for("react.memo"),$L=Symbol.for("react.lazy"),b5=Symbol.iterator,w5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_5=Object.assign,x5={};function Ec(e,t,n){this.props=e,this.context=t,this.refs=x5,this.updater=n||w5}function k5(){}function g1(e,t,n){this.props=e,this.context=t,this.refs=x5,this.updater=n||w5}Ec.prototype.isReactComponent={},Ec.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ec.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k5.prototype=Ec.prototype;var v1=g1.prototype=new k5;v1.constructor=g1,_5(v1,Ec.prototype),v1.isPureReactComponent=!0;var S5=Array.isArray,E5=Object.prototype.hasOwnProperty,y1={current:null},A5={key:!0,ref:!0,__self:!0,__source:!0};function C5(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)E5.call(t,r)&&!A5.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:fh,type:e,key:o,ref:a,props:i,_owner:y1.current}}function b1(e){return typeof e=="object"&&e!==null&&e.$$typeof===fh}var T5=/\/+/g;function w1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?function(n){var r={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(i){return r[i]})}(""+e.key):t.toString(36)}function Zp(e,t,n,r,i){var o=typeof e;o!=="undefined"&&o!=="boolean"||(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fh:case NL:a=!0}}if(a)return i=i(a=e),e=r===""?"."+w1(a,0):r,S5(i)?(n="",e!=null&&(n=e.replace(T5,"$&/")+"/"),Zp(i,t,n,"",function(c){return c})):i!=null&&(b1(i)&&(i=function(c,u){return{$$typeof:fh,type:c.type,key:u,ref:c.ref,props:c.props,_owner:c._owner}}(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(T5,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",S5(e))for(var s=0;s<e.length;s++){var l=r+w1(o=e[s],s);a+=Zp(o,t,n,l,i)}else if(l=function(c){return c===null||typeof c!="object"?null:typeof(c=b5&&c[b5]||c["@@iterator"])=="function"?c:null}(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)a+=Zp(o=o.value,t,n,l=r+w1(o,s++),i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ef(e,t,n){if(e==null)return e;var r=[],i=0;return Zp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function GL(e){if(e._status===-1){var t=e._result;(t=t()).then(function(n){e._status!==0&&e._status!==-1||(e._status=1,e._result=n)},function(n){e._status!==0&&e._status!==-1||(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $r={current:null},tf={transition:null},WL={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:tf,ReactCurrentOwner:y1};Ut.Children={map:ef,forEach:function(e,t,n){ef(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ef(e,function(){t++}),t},toArray:function(e){return ef(e,function(t){return t})||[]},only:function(e){if(!b1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Ut.Component=Ec,Ut.Fragment=BL,Ut.Profiler=FL,Ut.PureComponent=g1,Ut.StrictMode=zL,Ut.Suspense=qL,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WL,Ut.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_5({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=y1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E5.call(t,l)&&!A5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:fh,type:e.type,key:i,ref:o,props:r,_owner:a}},Ut.createContext=function(e){return(e={$$typeof:jL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:UL,_context:e},e.Consumer=e},Ut.createElement=C5,Ut.createFactory=function(e){var t=C5.bind(null,e);return t.type=e,t},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(e){return{$$typeof:VL,render:e}},Ut.isValidElement=b1,Ut.lazy=function(e){return{$$typeof:$L,_payload:{_status:-1,_result:e},_init:GL}},Ut.memo=function(e,t){return{$$typeof:HL,type:e,compare:t===void 0?null:t}},Ut.startTransition=function(e){var t=tf.transition;tf.transition={};try{e()}finally{tf.transition=t}},Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ut.useCallback=function(e,t){return $r.current.useCallback(e,t)},Ut.useContext=function(e){return $r.current.useContext(e)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(e){return $r.current.useDeferredValue(e)},Ut.useEffect=function(e,t){return $r.current.useEffect(e,t)},Ut.useId=function(){return $r.current.useId()},Ut.useImperativeHandle=function(e,t,n){return $r.current.useImperativeHandle(e,t,n)},Ut.useInsertionEffect=function(e,t){return $r.current.useInsertionEffect(e,t)},Ut.useLayoutEffect=function(e,t){return $r.current.useLayoutEffect(e,t)},Ut.useMemo=function(e,t){return $r.current.useMemo(e,t)},Ut.useReducer=function(e,t,n){return $r.current.useReducer(e,t,n)},Ut.useRef=function(e){return $r.current.useRef(e)},Ut.useState=function(e){return $r.current.useState(e)},Ut.useSyncExternalStore=function(e,t,n){return $r.current.useSyncExternalStore(e,t,n)},Ut.useTransition=function(){return $r.current.useTransition()},Ut.version="18.2.0",y5.exports=Ut;var re=y5.exports;const po=g5(re);/**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var KL=re,QL=Symbol.for("react.element"),YL=Symbol.for("react.fragment"),XL=Object.prototype.hasOwnProperty,JL=KL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZL={key:!0,ref:!0,__self:!0,__source:!0};function M5(e,t,n){var r,i={},o=null,a=null;for(r in n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref),t)XL.call(t,r)&&!ZL.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:QL,type:e,key:o,ref:a,props:i,_owner:JL.current}}Jp.Fragment=YL,Jp.jsx=M5,Jp.jsxs=M5,v5.exports=Jp;var Gr=v5.exports,nf={},R5={exports:{}},xi={},I5={exports:{}},O5={};/**
     * @license React
     * scheduler.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */(function(e){function t(le,N){var H=le.length;le.push(N);e:for(;0<H;){var F=H-1>>>1,K=le[F];if(!(0<i(K,N)))break e;le[F]=N,le[H]=K,H=F}}function n(le){return le.length===0?null:le[0]}function r(le){if(le.length===0)return null;var N=le[0],H=le.pop();if(H!==N){le[0]=H;e:for(var F=0,K=le.length,ye=K>>>1;F<ye;){var me=2*(F+1)-1,Pe=le[me],Ue=me+1,de=le[Ue];if(0>i(Pe,H))Ue<K&&0>i(de,Pe)?(le[F]=de,le[Ue]=H,F=Ue):(le[F]=Pe,le[me]=H,F=me);else{if(!(Ue<K&&0>i(de,H)))break e;le[F]=de,le[Ue]=H,F=Ue}}}return N}function i(le,N){var H=le.sortIndex-N.sortIndex;return H!==0?H:le.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,h=null,d=3,p=!1,f=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(le){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else{if(!(N.startTime<=le))break;r(c),N.sortIndex=N.expirationTime,t(l,N)}N=n(c)}}function x(le){if(m=!1,w(le),!f)if(n(l)!==null)f=!0,he(E);else{var N=n(c);N!==null&&fe(x,N.startTime-le)}}function E(le,N){f=!1,m&&(m=!1,v(C),C=-1),p=!0;var H=d;try{for(w(N),h=n(l);h!==null&&(!(h.expirationTime>N)||le&&!W());){var F=h.callback;if(typeof F=="function"){h.callback=null,d=h.priorityLevel;var K=F(h.expirationTime<=N);N=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),w(N)}else r(l);h=n(l)}if(h!==null)var ye=!0;else{var me=n(c);me!==null&&fe(x,me.startTime-N),ye=!1}return ye}finally{h=null,d=H,p=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,T=!1,S=null,C=-1,P=5,U=-1;function W(){return!(e.unstable_now()-U<P)}function te(){if(S!==null){var le=e.unstable_now();U=le;var N=!0;try{N=S(!0,le)}finally{N?M():(T=!1,S=null)}}else T=!1}if(typeof _=="function")M=function(){_(te)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ae=ne.port2;ne.port1.onmessage=te,M=function(){ae.postMessage(null)}}else M=function(){b(te,0)};function he(le){S=le,T||(T=!0,M())}function fe(le,N){C=b(function(){le(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(le){le.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,he(E))},e.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<le?Math.floor(1e3/le):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(le){switch(d){case 1:case 2:case 3:var N=3;break;default:N=d}var H=d;d=N;try{return le()}finally{d=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(le,N){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var H=d;d=le;try{return N()}finally{d=H}},e.unstable_scheduleCallback=function(le,N,H){var F=e.unstable_now();switch(typeof H=="object"&&H!==null?H=typeof(H=H.delay)=="number"&&0<H?F+H:F:H=F,le){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return le={id:u++,callback:N,priorityLevel:le,startTime:H,expirationTime:K=H+K,sortIndex:-1},H>F?(le.sortIndex=H,t(c,le),n(l)===null&&le===n(c)&&(m?(v(C),C=-1):m=!0,fe(x,H-F))):(le.sortIndex=K,t(l,le),f||p||(f=!0,he(E))),le},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(le){var N=d;return function(){var H=d;d=N;try{return le.apply(this,arguments)}finally{d=H}}}})(O5),I5.exports=O5;var eD=I5.exports,L5=re,ki=eD;/**
     * @license React
     * react-dom.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D5=new Set,mh={};function al(e,t){Ac(e,t),Ac(e+"Capture",t)}function Ac(e,t){for(mh[e]=t,e=0;e<t.length;e++)D5.add(t[e])}var wa=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),_1=Object.prototype.hasOwnProperty,tD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P5={},N5={};function Wr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Wr(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Wr(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Wr(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Wr(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Wr(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Wr(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){br[e]=new Wr(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){br[e]=new Wr(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){br[e]=new Wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var x1=/[\-:]([a-z])/g;function k1(e){return e[1].toUpperCase()}function S1(e,t,n,r){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(function(o,a,s,l){if(a==null||function(c,u,h,d){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return!d&&(h!==null?!h.acceptsBooleans:(c=c.toLowerCase().slice(0,5))!=="data-"&&c!=="aria-");default:return!1}}(o,a,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}(t,n,i,r)&&(n=null),r||i===null?function(o){return!!_1.call(N5,o)||!_1.call(P5,o)&&(tD.test(o)?N5[o]=!0:(P5[o]=!0,!1))}(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type!==3&&"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(n=(i=i.type)===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x1,k1);br[t]=new Wr(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x1,k1);br[t]=new Wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x1,k1);br[t]=new Wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Wr(e,1,!1,e.toLowerCase(),null,!1,!1)}),br.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){br[e]=new Wr(e,1,!1,e.toLowerCase(),null,!0,!0)});var _a=L5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rf=Symbol.for("react.element"),Cc=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),B5=Symbol.for("react.provider"),z5=Symbol.for("react.context"),C1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),M1=Symbol.for("react.suspense_list"),R1=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),F5=Symbol.for("react.offscreen"),U5=Symbol.iterator;function gh(e){return e===null||typeof e!="object"?null:typeof(e=U5&&e[U5]||e["@@iterator"])=="function"?e:null}var I1,Tn=Object.assign;function vh(e){if(I1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I1=t&&t[1]||""}return`
`+I1+e}var O1=!1;function L1(e,t){if(!e||O1)return"";O1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,0>--s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{O1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vh(e):""}function nD(e){switch(e.tag){case 5:return vh(e.type);case 16:return vh("Lazy");case 13:return vh("Suspense");case 19:return vh("SuspenseList");case 0:case 2:case 15:return e=L1(e.type,!1);case 11:return e=L1(e.type.render,!1);case 1:return e=L1(e.type,!0);default:return""}}function D1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tc:return"Fragment";case Cc:return"Portal";case A1:return"Profiler";case E1:return"StrictMode";case T1:return"Suspense";case M1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z5:return(e.displayName||"Context")+".Consumer";case B5:return(e._context.displayName||"Context")+".Provider";case C1:var t=e.render;return(e=e.displayName)||(e=(e=t.displayName||t.name||"")!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R1:return(t=e.displayName||null)!==null?t:D1(e.type)||"Memo";case es:t=e._payload,e=e._init;try{return D1(e(t))}catch{}}return null}function rD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D1(t);case 8:return t===E1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function of(e){e._valueTracker||(e._valueTracker=function(t){var n=j5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),i=""+t[n];if(!t.hasOwnProperty(n)&&r!==void 0&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return o.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}(e))}function V5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j5(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function af(e){if((e=e||(typeof document<"u"?document:void 0))===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}function P1(e,t){var n=t.checked;return Tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H5(e,t){(t=t.checked)!=null&&S1(e,"checked",t,!1)}function N1(e,t){H5(e,t);var n=ts(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset")return void e.removeAttribute("value");t.hasOwnProperty("value")?B1(e,t.type,n):t.hasOwnProperty("defaultValue")&&B1(e,t.type,ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}(n=e.name)!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function B1(e,t,n){t==="number"&&af(e.ownerDocument)===e||(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yh=Array.isArray;function Mc(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ts(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function z1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(yh(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ts(n)}}function W5(e,t){var n=ts(t.value),r=ts(t.defaultValue);n!=null&&((n=""+n)!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function K5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var U1,j1,Y5=(j1=function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for((U1=U1||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=U1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return j1(e,t)})}:j1);function bh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3)return void(n.nodeValue=t)}e.textContent=t}var wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iD=["Webkit","ms","Moz","O"];function X5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wh.hasOwnProperty(e)&&wh[e]?(""+t).trim():t+"px"}function J5(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(wh).forEach(function(e){iD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wh[t]=wh[e]})});var oD=Tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V1(e,t){if(t){if(oD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function q1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H1=null;function $1(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G1=null,Rc=null,Ic=null;function Z5(e){if(e=jh(e)){if(typeof G1!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Cf(t),G1(e.stateNode,e.type,t))}}function ex(e){Rc?Ic?Ic.push(e):Ic=[e]:Rc=e}function tx(){if(Rc){var e=Rc,t=Ic;if(Ic=Rc=null,Z5(e),t)for(e=0;e<t.length;e++)Z5(t[e])}}function nx(e,t){return e(t)}function rx(){}var W1=!1;function ix(e,t,n){if(W1)return e(t,n);W1=!0;try{return nx(e,t,n)}finally{W1=!1,(Rc!==null||Ic!==null)&&(rx(),tx())}}function _h(e,t){var n=e.stateNode;if(n===null)return null;var r=Cf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!((e=e.type)==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var K1=!1;if(wa)try{var xh={};Object.defineProperty(xh,"passive",{get:function(){K1=!0}}),window.addEventListener("test",xh,xh),window.removeEventListener("test",xh,xh)}catch{K1=!1}function aD(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var kh=!1,sf=null,lf=!1,Q1=null,sD={onError:function(e){kh=!0,sf=e}};function lD(e,t,n,r,i,o,a,s,l){kh=!1,sf=null,aD.apply(sD,arguments)}function sl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 4098&(t=e).flags&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ox(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate)!==null&&(t=e.memoizedState),t!==null)return t.dehydrated}return null}function ax(e){if(sl(e)!==e)throw Error(Ie(188))}function sx(e){return e=function(t){var n=t.alternate;if(!n){if((n=sl(t))===null)throw Error(Ie(188));return n!==t?null:t}for(var r=t,i=n;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if((i=o.return)!==null){r=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return ax(o),t;if(a===i)return ax(o),n;a=a.sibling}throw Error(Ie(188))}if(r.return!==i.return)r=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,i=a;break}if(l===i){s=!0,i=o,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,i=o;break}if(l===i){s=!0,i=a,r=o;break}l=l.sibling}if(!s)throw Error(Ie(189))}}if(r.alternate!==i)throw Error(Ie(190))}if(r.tag!==3)throw Error(Ie(188));return r.stateNode.current===r?t:n}(e),e!==null?lx(e):null}function lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lx(e);if(t!==null)return t;e=e.sibling}return null}var cx=ki.unstable_scheduleCallback,ux=ki.unstable_cancelCallback,cD=ki.unstable_shouldYield,uD=ki.unstable_requestPaint,Vn=ki.unstable_now,hD=ki.unstable_getCurrentPriorityLevel,Y1=ki.unstable_ImmediatePriority,hx=ki.unstable_UserBlockingPriority,X1=ki.unstable_NormalPriority,dD=ki.unstable_LowPriority,dx=ki.unstable_IdlePriority,cf=null,jo=null,fo=Math.clz32?Math.clz32:function(e){return e>>>=0,e===0?32:31-(pD(e)/fD|0)|0},pD=Math.log,fD=Math.LN2,J1=64,Z1=4194304;function Sh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uf(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(a!==0){var s=a&~i;s!==0?r=Sh(s):(o&=a)!==0&&(r=Sh(o))}else(a=n&~i)!==0?r=Sh(a):o!==0&&(r=Sh(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&((i=r&-r)>=(o=t&-t)||i===16&&4194240&o))return t;if(4&r&&(r|=16&n),(t=e.entangledLanes)!==0)for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-fo(t)),r|=e[n],t&=~i;return r}function mD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ev(e){return(e=-1073741825&e.pendingLanes)!==0?e:1073741824&e?1073741824:0}function px(){var e=J1;return!(4194240&(J1<<=1))&&(J1=64),e}function tv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-fo(t)]=n}function nv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var an=0;function fx(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var mx,rv,gx,vx,yx,iv=!1,hf=[],ns=null,rs=null,is=null,Ah=new Map,Ch=new Map,os=[],gD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(t.pointerId)}}function Th(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=jh(t))!==null&&rv(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wx(e){var t=cl(e.target);if(t!==null){var n=sl(t);if(n!==null){if((t=n.tag)===13){if((t=ox(n))!==null)return e.blockedOn=t,void yx(e.priority,function(){gx(n)})}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=n.tag===3?n.stateNode.containerInfo:null)}}e.blockedOn=null}function df(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=av(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n!==null)return(t=jh(n))!==null&&rv(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);H1=r,n.target.dispatchEvent(r),H1=null,t.shift()}return!0}function _x(e,t,n){df(e)&&n.delete(t)}function vD(){iv=!1,ns!==null&&df(ns)&&(ns=null),rs!==null&&df(rs)&&(rs=null),is!==null&&df(is)&&(is=null),Ah.forEach(_x),Ch.forEach(_x)}function Mh(e,t){e.blockedOn===t&&(e.blockedOn=null,iv||(iv=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,vD)))}function Rh(e){function t(i){return Mh(i,e)}if(0<hf.length){Mh(hf[0],e);for(var n=1;n<hf.length;n++){var r=hf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ns!==null&&Mh(ns,e),rs!==null&&Mh(rs,e),is!==null&&Mh(is,e),Ah.forEach(t),Ch.forEach(t),n=0;n<os.length;n++)(r=os[n]).blockedOn===e&&(r.blockedOn=null);for(;0<os.length&&(n=os[0]).blockedOn===null;)wx(n),n.blockedOn===null&&os.shift()}var Oc=_a.ReactCurrentBatchConfig,pf=!0;function yD(e,t,n,r){var i=an,o=Oc.transition;Oc.transition=null;try{an=1,ov(e,t,n,r)}finally{an=i,Oc.transition=o}}function bD(e,t,n,r){var i=an,o=Oc.transition;Oc.transition=null;try{an=4,ov(e,t,n,r)}finally{an=i,Oc.transition=o}}function ov(e,t,n,r){if(pf){var i=av(e,t,n,r);if(i===null)kv(e,t,r,ff,n),bx(e,r);else if(function(a,s,l,c,u){switch(s){case"focusin":return ns=Th(ns,a,s,l,c,u),!0;case"dragenter":return rs=Th(rs,a,s,l,c,u),!0;case"mouseover":return is=Th(is,a,s,l,c,u),!0;case"pointerover":var h=u.pointerId;return Ah.set(h,Th(Ah.get(h)||null,a,s,l,c,u)),!0;case"gotpointercapture":return h=u.pointerId,Ch.set(h,Th(Ch.get(h)||null,a,s,l,c,u)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bx(e,r),4&t&&-1<gD.indexOf(e)){for(;i!==null;){var o=jh(i);if(o!==null&&mx(o),(o=av(e,t,n,r))===null&&kv(e,t,r,ff,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else kv(e,t,r,null,n)}}var ff=null;function av(e,t,n,r){if(ff=null,(e=cl(e=$1(r)))!==null)if((t=sl(e))===null)e=null;else if((n=t.tag)===13){if((e=ox(t))!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ff=e,null}function xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hD()){case Y1:return 1;case hx:return 4;case X1:case dD:return 16;case dx:return 536870912;default:return 16}default:return 16}}var ll=null,sv=null,mf=null;function kx(){if(mf)return mf;var e,t,n=sv,r=n.length,i="value"in ll?ll.value:ll.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return mf=i.slice(e,1<t?1-t:void 0)}function gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode)===0&&t===13&&(e=13):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vf(){return!0}function Sx(){return!1}function Si(e){function t(n,r,i,o,a){for(var s in this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vf:Sx,this.isPropagationStopped=Sx,this}return Tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),t}var lv,cv,Ih,Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uv=Si(Lc),Oh=Tn({},Lc,{view:0,detail:0}),wD=Si(Oh),yf=Tn({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ih&&(Ih&&e.type==="mousemove"?(lv=e.screenX-Ih.screenX,cv=e.screenY-Ih.screenY):cv=lv=0,Ih=e),lv)},movementY:function(e){return"movementY"in e?e.movementY:cv}}),Ex=Si(yf),_D=Si(Tn({},yf,{dataTransfer:0})),hv=Si(Tn({},Oh,{relatedTarget:0})),xD=Si(Tn({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0})),kD=Tn({},Lc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SD=Si(kD),Ax=Si(Tn({},Lc,{data:0})),ED={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=CD[e])&&!!t[e]}function dv(){return TD}var MD=Tn({},Oh,{key:function(e){if(e.key){var t=ED[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gf(e))===13?"Enter":String.fromCharCode(e):e.type==="keydown"||e.type==="keyup"?AD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(e){return e.type==="keypress"?gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RD=Si(MD),Cx=Si(Tn({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ID=Si(Tn({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv})),OD=Si(Tn({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0})),LD=Tn({},yf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DD=Si(LD),PD=[9,13,27,32],pv=wa&&"CompositionEvent"in window,Lh=null;wa&&"documentMode"in document&&(Lh=document.documentMode);var ND=wa&&"TextEvent"in window&&!Lh,Tx=wa&&(!pv||Lh&&8<Lh&&11>=Lh),Mx=String.fromCharCode(32),Rx=!1;function Ix(e,t){switch(e){case"keyup":return PD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(e){return typeof(e=e.detail)=="object"&&"data"in e?e.data:null}var Dc=!1,BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BD[e.type]:t==="textarea"}function Dx(e,t,n,r){ex(r),0<(t=Sf(t,"onChange")).length&&(n=new uv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bf=null,Dh=null;function zD(e){Jx(e,0)}function wf(e){if(V5(Fc(e)))return e}function FD(e,t){if(e==="change")return t}var Px=!1;if(wa){var fv;if(wa){var mv="oninput"in document;if(!mv){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),mv=typeof Nx.oninput=="function"}fv=mv}else fv=!1;Px=fv&&(!document.documentMode||9<document.documentMode)}function Bx(){bf&&(bf.detachEvent("onpropertychange",zx),Dh=bf=null)}function zx(e){if(e.propertyName==="value"&&wf(Dh)){var t=[];Dx(t,Dh,e,$1(e)),ix(zD,t)}}function UD(e,t,n){e==="focusin"?(Bx(),Dh=n,(bf=t).attachEvent("onpropertychange",zx)):e==="focusout"&&Bx()}function jD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wf(Dh)}function VD(e,t){if(e==="click")return wf(t)}function qD(e,t){if(e==="input"||e==="change")return wf(t)}var mo=typeof Object.is=="function"?Object.is:function(e,t){return e===t&&(e!==0||1/e==1/t)||e!=e&&t!=t};function Ph(e,t){if(mo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_1.call(t,i)||!mo(e[i],t[i]))return!1}return!0}function Fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ux(e,t){var n,r=Fx(e);for(e=0;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fx(r)}}function jx(e,t){return!(!e||!t)&&(e===t||(!e||e.nodeType!==3)&&(t&&t.nodeType===3?jx(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Vx(){for(var e=window,t=af();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(!n)break;t=af((e=t.contentWindow).document)}return t}function gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HD(e){var t=Vx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&gv(n)){if(t=r.start,(e=r.end)===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ux(n,o);var a=Ux(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $D=wa&&"documentMode"in document&&11>=document.documentMode,Pc=null,vv=null,Nh=null,yv=!1;function qx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||Pc==null||Pc!==af(r)||("selectionStart"in(r=Pc)&&gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Nh&&Ph(Nh,r)||(Nh=r,0<(r=Sf(vv,"onSelect")).length&&(t=new uv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pc)))}function _f(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nc={animationend:_f("Animation","AnimationEnd"),animationiteration:_f("Animation","AnimationIteration"),animationstart:_f("Animation","AnimationStart"),transitionend:_f("Transition","TransitionEnd")},bv={},Hx={};function xf(e){if(bv[e])return bv[e];if(!Nc[e])return e;var t,n=Nc[e];for(t in n)if(n.hasOwnProperty(t)&&t in Hx)return bv[e]=n[t];return e}wa&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);var $x=xf("animationend"),Gx=xf("animationiteration"),Wx=xf("animationstart"),Kx=xf("transitionend"),Qx=new Map,Yx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){Qx.set(e,t),al(t,[e])}for(var wv=0;wv<Yx.length;wv++){var _v=Yx[wv];as(_v.toLowerCase(),"on"+(_v[0].toUpperCase()+_v.slice(1)))}as($x,"onAnimationEnd"),as(Gx,"onAnimationIteration"),as(Wx,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(Kx,"onTransitionEnd"),Ac("onMouseEnter",["mouseout","mouseover"]),Ac("onMouseLeave",["mouseout","mouseover"]),Ac("onPointerEnter",["pointerout","pointerover"]),Ac("onPointerLeave",["pointerout","pointerover"]),al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),al("onBeforeInput",["compositionend","keypress","textInput","paste"]),al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bh));function Xx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(i,o,a,s,l,c,u,h,d){if(lD.apply(this,arguments),kh){if(!kh)throw Error(Ie(198));var p=sf;kh=!1,sf=null,lf||(lf=!0,Q1=p)}}(r,t,void 0,e),e.currentTarget=null}function Jx(e,t){t=(4&t)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Xx(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Xx(i,s,c),o=l}}}if(lf)throw e=Q1,lf=!1,Q1=null,e}function bn(e,t){var n=t[Mv];n===void 0&&(n=t[Mv]=new Set);var r=e+"__bubble";n.has(r)||(Zx(t,e,2,!1),n.add(r))}function xv(e,t,n){var r=0;t&&(r|=4),Zx(n,e,r,t)}var kf="_reactListening"+Math.random().toString(36).slice(2);function zh(e){if(!e[kf]){e[kf]=!0,D5.forEach(function(n){n!=="selectionchange"&&(GD.has(n)||xv(n,!1,e),xv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kf]||(t[kf]=!0,xv("selectionchange",!1,t))}}function Zx(e,t,n,r){switch(xx(t)){case 1:var i=yD;break;case 4:i=bD;break;default:i=ov}n=i.bind(null,t,n,e),i=void 0,!K1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kv(e,t,n,r,i){var o=r;if(!(1&t)&&!(2&t)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&((l=a.stateNode.containerInfo)===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if((a=cl(s))===null)return;if((l=a.tag)===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}ix(function(){var c=o,u=$1(n),h=[];e:{var d=Qx.get(e);if(d!==void 0){var p=uv,f=e;switch(e){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":p=RD;break;case"focusin":f="focus",p=hv;break;case"focusout":f="blur",p=hv;break;case"beforeblur":case"afterblur":p=hv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ID;break;case $x:case Gx:case Wx:p=xD;break;case Kx:p=OD;break;case"scroll":p=wD;break;case"wheel":p=DD;break;case"copy":case"cut":case"paste":p=SD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cx}var m=(4&t)!=0,b=!m&&e==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var _,w=c;w!==null;){var x=(_=w).stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=_h(w,v))!=null&&m.push(Fh(w,x,_))),b)break;w=w.return}0<m.length&&(d=new p(d,f,null,n,u),h.push({event:d,listeners:m}))}}if(!(7&t)){if(p=e==="mouseout"||e==="pointerout",(!(d=e==="mouseover"||e==="pointerover")||n===H1||!(f=n.relatedTarget||n.fromElement)||!cl(f)&&!f[xa])&&(p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(p=c,(f=(f=n.relatedTarget||n.toElement)?cl(f):null)!==null&&(f!==(b=sl(f))||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=c),p!==f)){if(m=Ex,x="onMouseLeave",v="onMouseEnter",w="mouse",e!=="pointerout"&&e!=="pointerover"||(m=Cx,x="onPointerLeave",v="onPointerEnter",w="pointer"),b=p==null?d:Fc(p),_=f==null?d:Fc(f),(d=new m(x,w+"leave",p,n,u)).target=b,d.relatedTarget=_,x=null,cl(u)===c&&((m=new m(v,w+"enter",f,n,u)).target=_,m.relatedTarget=b,x=m),b=x,p&&f)e:{for(v=f,w=0,_=m=p;_;_=Bc(_))w++;for(_=0,x=v;x;x=Bc(x))_++;for(;0<w-_;)m=Bc(m),w--;for(;0<_-w;)v=Bc(v),_--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break e;m=Bc(m),v=Bc(v)}m=null}else m=null;p!==null&&e3(h,d,p,m,!1),f!==null&&b!==null&&e3(h,b,f,m,!0)}if((p=(d=c?Fc(c):window).nodeName&&d.nodeName.toLowerCase())==="select"||p==="input"&&d.type==="file")var E=FD;else if(Lx(d))if(Px)E=qD;else{E=jD;var M=UD}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=VD);switch(E&&(E=E(e,c))?Dx(h,E,n,u):(M&&M(e,d,c),e==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&B1(d,"number",d.value)),M=c?Fc(c):window,e){case"focusin":(Lx(M)||M.contentEditable==="true")&&(Pc=M,vv=c,Nh=null);break;case"focusout":Nh=vv=Pc=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,qx(h,n,u);break;case"selectionchange":if($D)break;case"keydown":case"keyup":qx(h,n,u)}var T;if(pv)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Dc?Ix(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Tx&&n.locale!=="ko"&&(Dc||S!=="onCompositionStart"?S==="onCompositionEnd"&&Dc&&(T=kx()):(sv="value"in(ll=u)?ll.value:ll.textContent,Dc=!0)),0<(M=Sf(c,S)).length&&(S=new Ax(S,e,null,n,u),h.push({event:S,listeners:M}),(T||(T=Ox(n))!==null)&&(S.data=T))),(T=ND?function(C,P){switch(C){case"compositionend":return Ox(P);case"keypress":return P.which!==32?null:(Rx=!0,Mx);case"textInput":return(C=P.data)===Mx&&Rx?null:C;default:return null}}(e,n):function(C,P){if(Dc)return C==="compositionend"||!pv&&Ix(C,P)?(C=kx(),mf=sv=ll=null,Dc=!1,C):null;switch(C){case"paste":default:return null;case"keypress":if(!(P.ctrlKey||P.altKey||P.metaKey)||P.ctrlKey&&P.altKey){if(P.char&&1<P.char.length)return P.char;if(P.which)return String.fromCharCode(P.which)}return null;case"compositionend":return Tx&&P.locale!=="ko"?null:P.data}}(e,n))&&0<(c=Sf(c,"onBeforeInput")).length&&(u=new Ax("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T)}Jx(h,t)})}function Fh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,(o=_h(e,n))!=null&&r.unshift(Fh(e,o,i)),(o=_h(e,t))!=null&&r.push(Fh(e,o,i))),e=e.return}return r}function Bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e3(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=_h(n,o))!=null&&a.unshift(Fh(n,l,s)):i||(l=_h(n,o))!=null&&a.push(Fh(n,l,s))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var WD=/\r\n?/g,KD=/\u0000|\uFFFD/g;function t3(e){return(typeof e=="string"?e:""+e).replace(WD,`
`).replace(KD,"")}function Ef(e,t,n){if(t=t3(t),t3(e)!==t&&n)throw Error(Ie(425))}function Af(){}var Sv=null,Ev=null;function Av(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cv=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,n3=typeof Promise=="function"?Promise:void 0,YD=typeof queueMicrotask=="function"?queueMicrotask:n3!==void 0?function(e){return n3.resolve(null).then(e).catch(XD)}:Cv;function XD(e){setTimeout(function(){throw e})}function Tv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if((n=i.data)==="/$"){if(r===0)return e.removeChild(i),void Rh(t);r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rh(t)}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if((t=e.data)==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function r3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zc=Math.random().toString(36).slice(2),Vo="__reactFiber$"+zc,Uh="__reactProps$"+zc,xa="__reactContainer$"+zc,Mv="__reactEvents$"+zc,JD="__reactListeners$"+zc,ZD="__reactHandles$"+zc;function cl(e){var t=e[Vo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xa]||n[Vo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=r3(e);e!==null;){if(n=e[Vo])return n;e=r3(e)}return t}n=(e=n).parentNode}return null}function jh(e){return!(e=e[Vo]||e[xa])||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Cf(e){return e[Uh]||null}var Rv=[],Uc=-1;function ls(e){return{current:e}}function kn(e){0>Uc||(e.current=Rv[Uc],Rv[Uc]=null,Uc--)}function pn(e,t){Uc++,Rv[Uc]=e.current,e.current=t}var cs={},Mr=ls(cs),oi=ls(!1),ul=cs;function jc(e,t){var n=e.type.contextTypes;if(!n)return cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ei(e){return(e=e.childContextTypes)!=null}function Iv(){kn(oi),kn(Mr)}function i3(e,t,n){if(Mr.current!==cs)throw Error(Ie(168));pn(Mr,t),pn(oi,n)}function o3(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(Ie(108,rD(e)||"Unknown",i));return Tn({},n,r)}function Tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,ul=Mr.current,pn(Mr,e),pn(oi,oi.current),!0}function a3(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=o3(e,t,ul),r.__reactInternalMemoizedMergedChildContext=e,kn(oi),kn(Mr),pn(Mr,e)):kn(oi),pn(oi,n)}var ka=null,Mf=!1,Ov=!1;function s3(e){ka===null?ka=[e]:ka.push(e)}function us(){if(!Ov&&ka!==null){Ov=!0;var e=0,t=an;try{var n=ka;for(an=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ka=null,Mf=!1}catch(i){throw ka!==null&&(ka=ka.slice(e+1)),cx(Y1,us),i}finally{an=t,Ov=!1}}return null}var Vc=[],qc=0,Rf=null,If=0,Qi=[],Yi=0,hl=null,qo=1,Sa="";function dl(e,t){Vc[qc++]=If,Vc[qc++]=Rf,Rf=e,If=t}function l3(e,t,n){Qi[Yi++]=qo,Qi[Yi++]=Sa,Qi[Yi++]=hl,hl=e;var r=qo;e=Sa;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var o=32-fo(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,qo=1<<32-fo(t)+i|n<<i|r,Sa=o+e}else qo=1<<o|n<<i|r,Sa=e}function Lv(e){e.return!==null&&(dl(e,1),l3(e,1,0))}function Dv(e){for(;e===Rf;)Rf=Vc[--qc],Vc[qc]=null,If=Vc[--qc],Vc[qc]=null;for(;e===hl;)hl=Qi[--Yi],Qi[Yi]=null,Sa=Qi[--Yi],Qi[Yi]=null,qo=Qi[--Yi],Qi[Yi]=null}var Ai=null,Ci=null,Sn=!1,go=null;function c3(e,t){var n=eo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,(t=e.deletions)===null?(e.deletions=[n],e.flags|=16):t.push(n)}function u3(e,t){switch(e.tag){case 5:var n=e.type;return(t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)!==null&&(e.stateNode=t,Ai=e,Ci=ss(t.firstChild),!0);case 6:return(t=e.pendingProps===""||t.nodeType!==3?null:t)!==null&&(e.stateNode=t,Ai=e,Ci=null,!0);case 13:return(t=t.nodeType!==8?null:t)!==null&&(n=hl!==null?{id:qo,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=eo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ai=e,Ci=null,!0);default:return!1}}function Pv(e){return(1&e.mode)!=0&&(128&e.flags)==0}function Nv(e){if(Sn){var t=Ci;if(t){var n=t;if(!u3(e,t)){if(Pv(e))throw Error(Ie(418));t=ss(n.nextSibling);var r=Ai;t&&u3(e,t)?c3(r,n):(e.flags=-4097&e.flags|2,Sn=!1,Ai=e)}}else{if(Pv(e))throw Error(Ie(418));e.flags=-4097&e.flags|2,Sn=!1,Ai=e}}}function h3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ai=e}function Of(e){if(e!==Ai)return!1;if(!Sn)return h3(e),Sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=(t=e.type)!=="head"&&t!=="body"&&!Av(e.type,e.memoizedProps)),t&&(t=Ci)){if(Pv(e))throw d3(),Error(Ie(418));for(;t;)c3(e,t),t=ss(t.nextSibling)}if(h3(e),e.tag===13){if(!(e=(e=e.memoizedState)!==null?e.dehydrated:null))throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ci=ss(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ci=null}}else Ci=Ai?ss(e.stateNode.nextSibling):null;return!0}function d3(){for(var e=Ci;e;)e=ss(e.nextSibling)}function Hc(){Ci=Ai=null,Sn=!1}function Bv(e){go===null?go=[e]:go.push(e)}var eP=_a.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=Tn({},t),e=e.defaultProps)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Lf=ls(null),Df=null,$c=null,zv=null;function Fv(){zv=$c=Df=null}function Uv(e){var t=Lf.current;kn(Lf),e._currentValue=t}function jv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gc(e,t){Df=e,zv=$c=null,(e=e.dependencies)!==null&&e.firstContext!==null&&(e.lanes&t&&(ai=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(zv!==e)if(e={context:e,memoizedValue:t,next:null},$c===null){if(Df===null)throw Error(Ie(308));$c=e,Df.dependencies={lanes:0,firstContext:e}}else $c=$c.next=e;return t}var pl=null;function Vv(e){pl===null?pl=[e]:pl.push(e)}function p3(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Vv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ea(e,r)}function Ea(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,(n=e.alternate)!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var hs=!1;function qv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ds(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(2&Yt)!=0){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ea(e,n)}return(i=r.interleaved)===null?(t.next=t,Vv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ea(e,n)}function Pf(e,t,n){if((t=t.updateQueue)!==null&&(t=t.shared,(4194240&n)!=0)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,nv(e,n)}}function m3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&n===(r=r.updateQueue)){var i=null,o=null;if((n=n.firstBaseUpdate)!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}(e=n.lastBaseUpdate)===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nf(e,t,n,r){var i=e.updateQueue;hs=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=e.alternate;u!==null&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(o!==null){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,p=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(d=t,p=n,m.tag){case 1:if(typeof(f=m.payload)=="function"){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if((d=typeof(f=m.payload)=="function"?f.call(p,h,d):f)==null)break e;h=Tn({},h,d);break e;case 2:hs=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,(d=i.effects)===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,a|=d;if((s=s.next)===null){if((s=i.shared.pending)===null)break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,(t=i.shared.interleaved)!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);gl|=a,e.lanes=a,e.memoizedState=h}}function g3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var v3=new L5.Component().refs;function Hv(e,t,n,r){n=(n=n(r,t=e.memoizedState))==null?t:Tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bf={isMounted:function(e){return!!(e=e._reactInternals)&&sl(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yr(),i=vs(e),o=Aa(r,i);o.payload=t,n!=null&&(o.callback=n),(t=ds(e,o,i))!==null&&(yo(t,e,i,r),Pf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yr(),i=vs(e),o=Aa(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),(t=ds(e,o,i))!==null&&(yo(t,e,i,r),Pf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yr(),r=vs(e),i=Aa(n,r);i.tag=2,t!=null&&(i.callback=t),(t=ds(e,i,r))!==null&&(yo(t,e,r,n),Pf(t,e,r))}};function y3(e,t,n,r,i,o,a){return typeof(e=e.stateNode).shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||!Ph(n,r)||!Ph(i,o)}function b3(e,t,n){var r=!1,i=cs,o=t.contextType;return typeof o=="object"&&o!==null?o=Xi(o):(i=Ei(t)?ul:Mr.current,o=(r=(r=t.contextTypes)!=null)?jc(e,i):cs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bf,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function w3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bf.enqueueReplaceState(t,t.state,null)}function $v(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=v3,qv(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Xi(o):(o=Ei(t)?ul:Mr.current,i.context=jc(e,o)),i.state=e.memoizedState,typeof(o=t.getDerivedStateFromProps)=="function"&&(Hv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bf.enqueueReplaceState(i,i.state,null),Nf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vh(e,t,n){if((e=n.ref)!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===v3&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function zf(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _3(e){return(0,e._init)(e._payload)}function x3(e){function t(b,v){if(e){var _=b.deletions;_===null?(b.deletions=[v],b.flags|=16):_.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return(b=bs(b,v)).index=0,b.sibling=null,b}function o(b,v,_){return b.index=_,e?(_=b.alternate)!==null?(_=_.index)<v?(b.flags|=2,v):_:(b.flags|=2,v):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,v,_,w){return v===null||v.tag!==6?((v=Cy(_,b.mode,w)).return=b,v):((v=i(v,_)).return=b,v)}function l(b,v,_,w){var x=_.type;return x===Tc?u(b,v,_.props.children,w,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===es&&_3(x)===v.type)?((w=i(v,_.props)).ref=Vh(b,v,_),w.return=b,w):((w=r0(_.type,_.key,_.props,null,b.mode,w)).ref=Vh(b,v,_),w.return=b,w)}function c(b,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?((v=Ty(_,b.mode,w)).return=b,v):((v=i(v,_.children||[])).return=b,v)}function u(b,v,_,w,x){return v===null||v.tag!==7?((v=bl(_,b.mode,w,x)).return=b,v):((v=i(v,_)).return=b,v)}function h(b,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return(v=Cy(""+v,b.mode,_)).return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rf:return(_=r0(v.type,v.key,v.props,null,b.mode,_)).ref=Vh(b,null,v),_.return=b,_;case Cc:return(v=Ty(v,b.mode,_)).return=b,v;case es:return h(b,(0,v._init)(v._payload),_)}if(yh(v)||gh(v))return(v=bl(v,b.mode,_,null)).return=b,v;zf(b,v)}return null}function d(b,v,_,w){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:s(b,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rf:return _.key===x?l(b,v,_,w):null;case Cc:return _.key===x?c(b,v,_,w):null;case es:return d(b,v,(x=_._init)(_._payload),w)}if(yh(_)||gh(_))return x!==null?null:u(b,v,_,w,null);zf(b,_)}return null}function p(b,v,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return s(v,b=b.get(_)||null,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rf:return l(v,b=b.get(w.key===null?_:w.key)||null,w,x);case Cc:return c(v,b=b.get(w.key===null?_:w.key)||null,w,x);case es:return p(b,v,_,(0,w._init)(w._payload),x)}if(yh(w)||gh(w))return u(v,b=b.get(_)||null,w,x,null);zf(v,w)}return null}function f(b,v,_,w){for(var x=null,E=null,M=v,T=v=0,S=null;M!==null&&T<_.length;T++){M.index>T?(S=M,M=null):S=M.sibling;var C=d(b,M,_[T],w);if(C===null){M===null&&(M=S);break}e&&M&&C.alternate===null&&t(b,M),v=o(C,v,T),E===null?x=C:E.sibling=C,E=C,M=S}if(T===_.length)return n(b,M),Sn&&dl(b,T),x;if(M===null){for(;T<_.length;T++)(M=h(b,_[T],w))!==null&&(v=o(M,v,T),E===null?x=M:E.sibling=M,E=M);return Sn&&dl(b,T),x}for(M=r(b,M);T<_.length;T++)(S=p(M,b,T,_[T],w))!==null&&(e&&S.alternate!==null&&M.delete(S.key===null?T:S.key),v=o(S,v,T),E===null?x=S:E.sibling=S,E=S);return e&&M.forEach(function(P){return t(b,P)}),Sn&&dl(b,T),x}function m(b,v,_,w){var x=gh(_);if(typeof x!="function")throw Error(Ie(150));if((_=x.call(_))==null)throw Error(Ie(151));for(var E=x=null,M=v,T=v=0,S=null,C=_.next();M!==null&&!C.done;T++,C=_.next()){M.index>T?(S=M,M=null):S=M.sibling;var P=d(b,M,C.value,w);if(P===null){M===null&&(M=S);break}e&&M&&P.alternate===null&&t(b,M),v=o(P,v,T),E===null?x=P:E.sibling=P,E=P,M=S}if(C.done)return n(b,M),Sn&&dl(b,T),x;if(M===null){for(;!C.done;T++,C=_.next())(C=h(b,C.value,w))!==null&&(v=o(C,v,T),E===null?x=C:E.sibling=C,E=C);return Sn&&dl(b,T),x}for(M=r(b,M);!C.done;T++,C=_.next())(C=p(M,b,T,C.value,w))!==null&&(e&&C.alternate!==null&&M.delete(C.key===null?T:C.key),v=o(C,v,T),E===null?x=C:E.sibling=C,E=C);return e&&M.forEach(function(U){return t(b,U)}),Sn&&dl(b,T),x}return function b(v,_,w,x){if(typeof w=="object"&&w!==null&&w.type===Tc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rf:e:{for(var E=w.key,M=_;M!==null;){if(M.key===E){if((E=w.type)===Tc){if(M.tag===7){n(v,M.sibling),(_=i(M,w.props.children)).return=v,v=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===es&&_3(E)===M.type){n(v,M.sibling),(_=i(M,w.props)).ref=Vh(v,M,w),_.return=v,v=_;break e}n(v,M);break}t(v,M),M=M.sibling}w.type===Tc?((_=bl(w.props.children,v.mode,x,w.key)).return=v,v=_):((x=r0(w.type,w.key,w.props,null,v.mode,x)).ref=Vh(v,_,w),x.return=v,v=x)}return a(v);case Cc:e:{for(M=w.key;_!==null;){if(_.key===M){if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(v,_.sibling),(_=i(_,w.children||[])).return=v,v=_;break e}n(v,_);break}t(v,_),_=_.sibling}(_=Ty(w,v.mode,x)).return=v,v=_}return a(v);case es:return b(v,_,(M=w._init)(w._payload),x)}if(yh(w))return f(v,_,w,x);if(gh(w))return m(v,_,w,x);zf(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(v,_.sibling),(_=i(_,w)).return=v,v=_):(n(v,_),(_=Cy(w,v.mode,x)).return=v,v=_),a(v)):n(v,_)}}var Wc=x3(!0),k3=x3(!1),qh={},Ho=ls(qh),Hh=ls(qh),$h=ls(qh);function fl(e){if(e===qh)throw Error(Ie(174));return e}function Gv(e,t){switch(pn($h,t),pn(Hh,e),pn(Ho,qh),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:F1(null,"");break;default:t=F1(t=(e=e===8?t.parentNode:t).namespaceURI||null,e=e.tagName)}kn(Ho),pn(Ho,t)}function Kc(){kn(Ho),kn(Hh),kn($h)}function S3(e){fl($h.current);var t=fl(Ho.current),n=F1(t,e.type);t!==n&&(pn(Hh,e),pn(Ho,n))}function Wv(e){Hh.current===e&&(kn(Ho),kn(Hh))}var Pn=ls(0);function Ff(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&((n=n.dehydrated)===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(128&t.flags)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kv=[];function Qv(){for(var e=0;e<Kv.length;e++)Kv[e]._workInProgressVersionPrimary=null;Kv.length=0}var Uf=_a.ReactCurrentDispatcher,Yv=_a.ReactCurrentBatchConfig,ml=0,Mn=null,ur=null,hr=null,jf=!1,Gh=!1,Wh=0,tP=0;function Rr(){throw Error(Ie(321))}function Xv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mo(e[n],t[n]))return!1;return!0}function Jv(e,t,n,r,i,o){if(ml=o,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uf.current=e===null||e.memoizedState===null?oP:aP,e=n(r,i),Gh){o=0;do{if(Gh=!1,Wh=0,25<=o)throw Error(Ie(301));o+=1,hr=ur=null,t.updateQueue=null,Uf.current=sP,e=n(r,i)}while(Gh)}if(Uf.current=Hf,t=ur!==null&&ur.next!==null,ml=0,hr=ur=Mn=null,jf=!1,t)throw Error(Ie(300));return e}function Zv(){var e=Wh!==0;return Wh=0,e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Mn.memoizedState=hr=e:hr=hr.next=e,hr}function Ji(){if(ur===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=ur.next;var t=hr===null?Mn.memoizedState:hr.next;if(t!==null)hr=t,ur=e;else{if(e===null)throw Error(Ie(310));e={memoizedState:(ur=e).memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},hr===null?Mn.memoizedState=hr=e:hr=hr.next=e}return hr}function Kh(e,t){return typeof t=="function"?t(e):t}function ey(e){var t=Ji(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=ur,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((ml&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,Mn.lanes|=u,gl|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,mo(r,t.memoizedState)||(ai=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if((e=n.interleaved)!==null){i=e;do o=i.lane,Mn.lanes|=o,gl|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ty(e){var t=Ji(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);mo(o,t.memoizedState)||(ai=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function E3(){}function A3(e,t){var n=Mn,r=Ji(),i=t(),o=!mo(r.memoizedState,i);if(o&&(r.memoizedState=i,ai=!0),r=r.queue,ny(M3.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||hr!==null&&1&hr.memoizedState.tag){if(n.flags|=2048,Qh(9,T3.bind(null,n,r,i,t),void 0,null),dr===null)throw Error(Ie(349));30&ml||C3(n,t,i)}return i}function C3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},(t=Mn.updateQueue)===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(n=t.stores)===null?t.stores=[e]:n.push(e)}function T3(e,t,n,r){t.value=n,t.getSnapshot=r,R3(t)&&I3(e)}function M3(e,t,n){return n(function(){R3(t)&&I3(e)})}function R3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mo(e,n)}catch{return!0}}function I3(e){var t=Ea(e,1);t!==null&&yo(t,e,1,-1)}function O3(e){var t=$o();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:e},t.queue=e,e=e.dispatch=iP.bind(null,Mn,e),[t.memoizedState,e]}function Qh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},(t=Mn.updateQueue)===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect)===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function L3(){return Ji().memoizedState}function Vf(e,t,n,r){var i=$o();Mn.flags|=e,i.memoizedState=Qh(1|t,n,void 0,r===void 0?null:r)}function qf(e,t,n,r){var i=Ji();r=r===void 0?null:r;var o=void 0;if(ur!==null){var a=ur.memoizedState;if(o=a.destroy,r!==null&&Xv(r,a.deps))return void(i.memoizedState=Qh(t,n,o,r))}Mn.flags|=e,i.memoizedState=Qh(1|t,n,o,r)}function D3(e,t){return Vf(8390656,8,e,t)}function ny(e,t){return qf(2048,8,e,t)}function P3(e,t){return qf(4,2,e,t)}function N3(e,t){return qf(4,4,e,t)}function B3(e,t){return typeof t=="function"?(e=e(),t(e),function(){t(null)}):t!=null?(e=e(),t.current=e,function(){t.current=null}):void 0}function z3(e,t,n){return n=n!=null?n.concat([e]):null,qf(4,4,B3.bind(null,t,e),n)}function ry(){}function F3(e,t){var n=Ji();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function U3(e,t){var n=Ji();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function j3(e,t,n){return 21&ml?(mo(n,t)||(n=px(),Mn.lanes|=n,gl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ai=!0),e.memoizedState=n)}function nP(e,t){var n=an;an=n!==0&&4>n?n:4,e(!0);var r=Yv.transition;Yv.transition={};try{e(!1),t()}finally{an=n,Yv.transition=r}}function V3(){return Ji().memoizedState}function rP(e,t,n){var r=vs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q3(e)?H3(t,n):(n=p3(e,t,n,r))!==null&&(yo(n,e,r,Yr()),$3(n,t,r))}function iP(e,t,n){var r=vs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q3(e))H3(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer)!==null)try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,mo(s,a)){var l=t.interleaved;return l===null?(i.next=i,Vv(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch{}(n=p3(e,t,i,r))!==null&&(yo(n,e,r,i=Yr()),$3(n,t,r))}}function q3(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function H3(e,t){Gh=jf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $3(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,nv(e,n)}}var Hf={readContext:Xi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},oP={readContext:Xi,useCallback:function(e,t){return $o().memoizedState=[e,t===void 0?null:t],e},useContext:Xi,useEffect:D3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vf(4194308,4,B3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vf(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rP.bind(null,Mn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:O3,useDebugValue:ry,useDeferredValue:function(e){return $o().memoizedState=e},useTransition:function(){var e=O3(!1),t=e[0];return e=nP.bind(null,e[1]),$o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Mn,i=$o();if(Sn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),dr===null)throw Error(Ie(349));30&ml||C3(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,D3(M3.bind(null,r,o,e),[e]),r.flags|=2048,Qh(9,T3.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=$o(),t=dr.identifierPrefix;if(Sn){var n=Sa;t=":"+t+"R"+(n=(qo&~(1<<32-fo(qo)-1)).toString(32)+n),0<(n=Wh++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=tP++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aP={readContext:Xi,useCallback:F3,useContext:Xi,useEffect:ny,useImperativeHandle:z3,useInsertionEffect:P3,useLayoutEffect:N3,useMemo:U3,useReducer:ey,useRef:L3,useState:function(){return ey(Kh)},useDebugValue:ry,useDeferredValue:function(e){return j3(Ji(),ur.memoizedState,e)},useTransition:function(){return[ey(Kh)[0],Ji().memoizedState]},useMutableSource:E3,useSyncExternalStore:A3,useId:V3,unstable_isNewReconciler:!1},sP={readContext:Xi,useCallback:F3,useContext:Xi,useEffect:ny,useImperativeHandle:z3,useInsertionEffect:P3,useLayoutEffect:N3,useMemo:U3,useReducer:ty,useRef:L3,useState:function(){return ty(Kh)},useDebugValue:ry,useDeferredValue:function(e){var t=Ji();return ur===null?t.memoizedState=e:j3(t,ur.memoizedState,e)},useTransition:function(){return[ty(Kh)[0],Ji().memoizedState]},useMutableSource:E3,useSyncExternalStore:A3,useId:V3,unstable_isNewReconciler:!1};function Qc(e,t){try{var n="",r=t;do n+=nD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function iy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function G3(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xf||(Xf=!0,by=r),oy(0,t)},n}function W3(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){oy(0,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){oy(0,t),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function K3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lP;var i=new Set;r.set(t,i)}else(i=r.get(t))===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vP.bind(null,e,t,n),t.then(e,e))}function Q3(e){do{var t;if((t=e.tag===13)&&(t=(t=e.memoizedState)===null||t.dehydrated!==null),t)return e;e=e.return}while(e!==null);return null}function Y3(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:((t=Aa(-1,1)).tag=2,ds(n,t,1))),n.lanes|=1),e)}var cP=_a.ReactCurrentOwner,ai=!1;function si(e,t,n,r){t.child=e===null?k3(t,null,n,r):Wc(t,e.child,n,r)}function X3(e,t,n,r,i){n=n.render;var o=t.ref;return Gc(t,i),r=Jv(e,t,n,r,o,i),n=Zv(),e===null||ai?(Sn&&n&&Lv(t),t.flags|=1,si(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ca(e,t,i))}function J3(e,t,n,r,i){if(e===null){var o=n.type;return typeof o!="function"||Ay(o)||o.defaultProps!==void 0||n.compare!==null||n.defaultProps!==void 0?((e=r0(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Z3(e,t,o,r,i))}if(o=e.child,(e.lanes&i)==0){var a=o.memoizedProps;if((n=(n=n.compare)!==null?n:Ph)(a,r)&&e.ref===t.ref)return Ca(e,t,i)}return t.flags|=1,(e=bs(o,r)).ref=t.ref,e.return=t,t.child=e}function Z3(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ph(o,r)&&e.ref===t.ref){if(ai=!1,t.pendingProps=r=o,(e.lanes&i)==0)return t.lanes=e.lanes,Ca(e,t,i);131072&e.flags&&(ai=!0)}}return ay(e,t,n,r,i)}function e6(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Xc,Ti),Ti|=n;else{if(!(1073741824&n))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(Xc,Ti),Ti|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pn(Xc,Ti),Ti|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pn(Xc,Ti),Ti|=r;return si(e,t,i,n),t.child}function t6(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ay(e,t,n,r,i){var o=Ei(n)?ul:Mr.current;return o=jc(t,o),Gc(t,i),n=Jv(e,t,n,r,o,i),r=Zv(),e===null||ai?(Sn&&r&&Lv(t),t.flags|=1,si(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ca(e,t,i))}function n6(e,t,n,r,i){if(Ei(n)){var o=!0;Tf(t)}else o=!1;if(Gc(t,i),t.stateNode===null)Gf(e,t),b3(t,n,r),$v(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xi(c):c=jc(t,c=Ei(n)?ul:Mr.current);var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&w3(t,a,r,c),hs=!1;var d=t.memoizedState;a.state=d,Nf(t,r,a,i),l=t.memoizedState,s!==r||d!==l||oi.current||hs?(typeof u=="function"&&(Hv(t,n,u,r),l=t.memoizedState),(s=hs||y3(t,n,s,r,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,f3(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,h=t.pendingProps,d=a.context,typeof(l=n.contextType)=="object"&&l!==null?l=Xi(l):l=jc(t,l=Ei(n)?ul:Mr.current);var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&w3(t,a,r,l),hs=!1,d=t.memoizedState,a.state=d,Nf(t,r,a,i);var f=t.memoizedState;s!==h||d!==f||oi.current||hs?(typeof p=="function"&&(Hv(t,n,p,r),f=t.memoizedState),(c=hs||y3(t,n,c,r,d,f,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return sy(e,t,n,r,o,i)}function sy(e,t,n,r,i,o){t6(e,t);var a=(128&t.flags)!=0;if(!r&&!a)return i&&a3(t,n,!1),Ca(e,t,o);r=t.stateNode,cP.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Wc(t,e.child,null,o),t.child=Wc(t,null,s,o)):si(e,t,s,o),t.memoizedState=r.state,i&&a3(t,n,!0),t.child}function r6(e){var t=e.stateNode;t.pendingContext?i3(0,t.pendingContext,t.pendingContext!==t.context):t.context&&i3(0,t.context,!1),Gv(e,t.containerInfo)}function i6(e,t,n,r,i){return Hc(),Bv(i),t.flags|=256,si(e,t,n,r),t.child}var o6,ly,a6,s6,cy={dehydrated:null,treeContext:null,retryLane:0};function uy(e){return{baseLanes:e,cachePool:null,transitions:null}}function l6(e,t,n){var r,i=t.pendingProps,o=Pn.current,a=!1,s=(128&t.flags)!=0;if((r=s)||(r=(e===null||e.memoizedState!==null)&&(2&o)!=0),r?(a=!0,t.flags&=-129):e!==null&&e.memoizedState===null||(o|=1),pn(Pn,1&o),e===null)return Nv(t),(e=t.memoizedState)!==null&&(e=e.dehydrated)!==null?(1&t.mode?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},!(1&i)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=i0(s,i,0,null),e=bl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=uy(n),t.memoizedState=cy,e):hy(t,s));if((o=e.memoizedState)!==null&&(r=o.dehydrated)!==null)return function(c,u,h,d,p,f,m){if(h)return 256&u.flags?(u.flags&=-257,$f(c,u,m,d=iy(Error(Ie(422))))):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(f=d.fallback,p=u.mode,d=i0({mode:"visible",children:d.children},p,0,null),(f=bl(f,p,m,null)).flags|=2,d.return=u,f.return=u,d.sibling=f,u.child=d,1&u.mode&&Wc(u,c.child,null,m),u.child.memoizedState=uy(m),u.memoizedState=cy,f);if(!(1&u.mode))return $f(c,u,m,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset)var b=d.dgst;return d=b,$f(c,u,m,d=iy(f=Error(Ie(419)),d,void 0))}if(b=(m&c.childLanes)!=0,ai||b){if((d=dr)!==null){switch(m&-m){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}(p=p&(d.suspendedLanes|m)?0:p)!==0&&p!==f.retryLane&&(f.retryLane=p,Ea(c,p),yo(d,c,p,-1))}return Ey(),$f(c,u,m,d=iy(Error(Ie(421))))}return p.data==="$?"?(u.flags|=128,u.child=c.child,u=yP.bind(null,c),p._reactRetry=u,null):(c=f.treeContext,Ci=ss(p.nextSibling),Ai=u,Sn=!0,go=null,c!==null&&(Qi[Yi++]=qo,Qi[Yi++]=Sa,Qi[Yi++]=hl,qo=c.id,Sa=c.overflow,hl=u),u=hy(u,d.children),u.flags|=4096,u)}(e,t,s,i,r,o,n);if(a){a=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return!(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=bs(o,l)).subtreeFlags=14680064&o.subtreeFlags,r!==null?a=bs(r,a):(a=bl(a,s,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=(s=e.child.memoizedState)===null?uy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=cy,i}return e=(a=e.child).sibling,i=bs(a,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&((n=t.deletions)===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function hy(e,t){return(t=i0({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $f(e,t,n,r){return r!==null&&Bv(r),Wc(t,e.child,null,n),(e=hy(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function c6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jv(e.return,t,n)}function dy(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function u6(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(si(e,t,r.children,n),(2&(r=Pn.current))!=0)r=1&r|2,t.flags|=128;else{if(e!==null&&128&e.flags)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c6(e,n,t);else if(e.tag===19)c6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pn(Pn,r),(1&t.mode)==0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)(e=n.alternate)!==null&&Ff(e)===null&&(i=n),n=n.sibling;(n=i)===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dy(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if((e=i.alternate)!==null&&Ff(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dy(t,!0,n,null,o);break;case"together":dy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gf(e,t){!(1&t.mode)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ca(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gl|=t.lanes,(n&t.childLanes)==0)return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(n=bs(e=t.child,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,(n=n.sibling=bs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yh(e,t){if(!Sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uP(e,t,n){var r=t.pendingProps;switch(Dv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(t),null;case 1:case 17:return Ei(t.type)&&Iv(),Kr(t),null;case 3:return r=t.stateNode,Kc(),kn(oi),kn(Mr),Qv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),e!==null&&e.child!==null||(Of(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,go!==null&&(xy(go),go=null))),ly(e,t),Kr(t),null;case 5:Wv(t);var i=fl($h.current);if(n=t.type,e!==null&&t.stateNode!=null)a6(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return Kr(t),null}if(e=fl(Ho.current),Of(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vo]=t,r[Uh]=o,e=(1&t.mode)!=0,n){case"dialog":bn("cancel",r),bn("close",r);break;case"iframe":case"object":case"embed":bn("load",r);break;case"video":case"audio":for(i=0;i<Bh.length;i++)bn(Bh[i],r);break;case"source":bn("error",r);break;case"img":case"image":case"link":bn("error",r),bn("load",r);break;case"details":bn("toggle",r);break;case"input":q5(r,o),bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},bn("invalid",r);break;case"textarea":G5(r,o),bn("invalid",r)}for(var a in V1(n,o),i=null,o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ef(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ef(r.textContent,s,e),i=["children",""+s]):mh.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&bn("scroll",r)}switch(n){case"input":of(r),$5(r,o,!0);break;case"textarea":of(r),K5(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Af)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Vo]=t,e[Uh]=r,o6(e,t,!1,!1),t.stateNode=e;e:{switch(a=q1(n,r),n){case"dialog":bn("cancel",e),bn("close",e),i=r;break;case"iframe":case"object":case"embed":bn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bh.length;i++)bn(Bh[i],e);i=r;break;case"source":bn("error",e),i=r;break;case"img":case"image":case"link":bn("error",e),bn("load",e),i=r;break;case"details":bn("toggle",e),i=r;break;case"input":q5(e,r),i=P1(e,r),bn("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Tn({},r,{value:void 0}),bn("invalid",e);break;case"textarea":G5(e,r),i=z1(e,r),bn("invalid",e)}for(o in V1(n,i),s=i)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?J5(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0)!=null&&Y5(e,l):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&bh(e,l):typeof l=="number"&&bh(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&bn("scroll",e):l!=null&&S1(e,o,l,a))}switch(n){case"input":of(e),$5(e,r,!1);break;case"textarea":of(e),K5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ts(r.value));break;case"select":e.multiple=!!r.multiple,(o=r.value)!=null?Mc(e,!!r.multiple,o,!1):r.defaultValue!=null&&Mc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kr(t),null;case 6:if(e&&t.stateNode!=null)s6(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=fl($h.current),fl(Ho.current),Of(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vo]=t,(o=r.nodeValue!==n)&&(e=Ai)!==null)switch(e.tag){case 3:Ef(r.nodeValue,n,(1&e.mode)!=0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ef(r.nodeValue,n,(1&e.mode)!=0)}o&&(t.flags|=4)}else(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r))[Vo]=t,t.stateNode=r}return Kr(t),null;case 13:if(kn(Pn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sn&&Ci!==null&&1&t.mode&&!(128&t.flags))d3(),Hc(),t.flags|=98560,o=!1;else if(o=Of(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ie(318));if(!(o=(o=t.memoizedState)!==null?o.dehydrated:null))throw Error(Ie(317));o[Vo]=t}else Hc(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Kr(t),o=!1}else go!==null&&(xy(go),go=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=r!==null)!=(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,1&t.mode&&(e===null||1&Pn.current?or===0&&(or=3):Ey())),t.updateQueue!==null&&(t.flags|=4),Kr(t),null);case 4:return Kc(),ly(e,t),e===null&&zh(t.stateNode.containerInfo),Kr(t),null;case 10:return Uv(t.type._context),Kr(t),null;case 19:if(kn(Pn),(o=t.memoizedState)===null)return Kr(t),null;if(r=(128&t.flags)!=0,(a=o.rendering)===null)if(r)Yh(o,!1);else{if(or!==0||e!==null&&128&e.flags)for(e=t.child;e!==null;){if((a=Ff(e))!==null){for(t.flags|=128,Yh(o,!1),(r=a.updateQueue)!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)e=r,(o=n).flags&=14680066,(a=o.alternate)===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pn(Pn,1&Pn.current|2),t.child}e=e.sibling}o.tail!==null&&Vn()>Jc&&(t.flags|=128,r=!0,Yh(o,!1),t.lanes=4194304)}else{if(!r)if((e=Ff(a))!==null){if(t.flags|=128,r=!0,(n=e.updateQueue)!==null&&(t.updateQueue=n,t.flags|=4),Yh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Sn)return Kr(t),null}else 2*Vn()-o.renderingStartTime>Jc&&n!==1073741824&&(t.flags|=128,r=!0,Yh(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):((n=o.last)!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vn(),t.sibling=null,n=Pn.current,pn(Pn,r?1&n|2:1&n),t):(Kr(t),null);case 22:case 23:return Sy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Ti&&(Kr(t),6&t.subtreeFlags&&(t.flags|=8192)):Kr(t),null;case 24:case 25:return null}throw Error(Ie(156,t.tag))}function hP(e,t){switch(Dv(t),t.tag){case 1:return Ei(t.type)&&Iv(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Kc(),kn(oi),kn(Mr),Qv(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Wv(t),null;case 13:if(kn(Pn),(e=t.memoizedState)!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));Hc()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kn(Pn),null;case 4:return Kc(),null;case 10:return Uv(t.type._context),null;case 22:case 23:return Sy(),null;default:return null}}o6=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ly=function(){},a6=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,fl(Ho.current);var o,a=null;switch(n){case"input":i=P1(e,i),r=P1(e,r),a=[];break;case"select":i=Tn({},i,{value:void 0}),r=Tn({},r,{value:void 0}),a=[];break;case"textarea":i=z1(e,i),r=z1(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Af)}for(c in V1(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mh.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&bn("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},s6=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wf=!1,Ir=!1,dP=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Yc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nn(e,t,r)}else n.current=null}function h6(e,t,n){try{n()}catch(r){Nn(e,t,r)}}var d6=!1;function Xh(e,t,n){var r=t.updateQueue;if((r=r!==null?r.lastEffect:null)!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&h6(t,n,o)}i=i.next}while(i!==r)}}function Kf(e,t){if((t=(t=t.updateQueue)!==null?t.lastEffect:null)!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function py(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function p6(e){var t=e.alternate;t!==null&&(e.alternate=null,p6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode)!==null&&(delete t[Vo],delete t[Uh],delete t[Mv],delete t[JD],delete t[ZD]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function f6(e){return e.tag===5||e.tag===3||e.tag===4}function m6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||f6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(2&e.flags||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),(n=n._reactRootContainer)!=null||t.onclick!==null||(t.onclick=Af));else if(r!==4&&(e=e.child)!==null)for(fy(e,t,n),e=e.sibling;e!==null;)fy(e,t,n),e=e.sibling}function my(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child)!==null)for(my(e,t,n),e=e.sibling;e!==null;)my(e,t,n),e=e.sibling}var Qr=null,Go=!1;function ps(e,t,n){for(n=n.child;n!==null;)g6(e,t,n),n=n.sibling}function g6(e,t,n){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(cf,n)}catch{}switch(n.tag){case 5:Ir||Yc(n,t);case 6:var r=Qr,i=Go;Qr=null,ps(e,t,n),Go=i,(Qr=r)!==null&&(Go?(e=Qr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qr.removeChild(n.stateNode));break;case 18:Qr!==null&&(Go?(e=Qr,n=n.stateNode,e.nodeType===8?Tv(e.parentNode,n):e.nodeType===1&&Tv(e,n),Rh(e)):Tv(Qr,n.stateNode));break;case 4:r=Qr,i=Go,Qr=n.stateNode.containerInfo,Go=!0,ps(e,t,n),Qr=r,Go=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue)!==null&&(r=r.lastEffect)!==null){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(2&o||4&o)&&h6(n,t,a),i=i.next}while(i!==r)}ps(e,t,n);break;case 1:if(!Ir&&(Yc(n,t),typeof(r=n.stateNode).componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nn(n,t,s)}ps(e,t,n);break;case 21:ps(e,t,n);break;case 22:1&n.mode?(Ir=(r=Ir)||n.memoizedState!==null,ps(e,t,n),Ir=r):ps(e,t,n);break;default:ps(e,t,n)}}function v6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dP),t.forEach(function(r){var i=bP.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qr=s.stateNode,Go=!1;break e;case 3:case 4:Qr=s.stateNode.containerInfo,Go=!0;break e}s=s.return}if(Qr===null)throw Error(Ie(160));g6(o,a,i),Qr=null,Go=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nn(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;t!==null;)y6(t,e),t=t.sibling}function y6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wo(t,e),Ta(e),4&r){try{Xh(3,e,e.return),Kf(3,e)}catch(m){Nn(e,e.return,m)}try{Xh(5,e,e.return)}catch(m){Nn(e,e.return,m)}}break;case 1:Wo(t,e),Ta(e),512&r&&n!==null&&Yc(n,n.return);break;case 5:if(Wo(t,e),Ta(e),512&r&&n!==null&&Yc(n,n.return),32&e.flags){var i=e.stateNode;try{bh(i,"")}catch(m){Nn(e,e.return,m)}}if(4&r&&(i=e.stateNode)!=null){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&H5(i,o),q1(s,a);var c=q1(s,o);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?J5(i,h):u==="dangerouslySetInnerHTML"?Y5(i,h):u==="children"?bh(i,h):S1(i,u,h,c)}switch(s){case"input":N1(i,o);break;case"textarea":W5(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Mc(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Mc(i,!!o.multiple,o.defaultValue,!0):Mc(i,!!o.multiple,o.multiple?[]:"",!1))}i[Uh]=o}catch(m){Nn(e,e.return,m)}}break;case 6:if(Wo(t,e),Ta(e),4&r){if(e.stateNode===null)throw Error(Ie(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Nn(e,e.return,m)}}break;case 3:if(Wo(t,e),Ta(e),4&r&&n!==null&&n.memoizedState.isDehydrated)try{Rh(t.containerInfo)}catch(m){Nn(e,e.return,m)}break;case 4:default:Wo(t,e),Ta(e);break;case 13:Wo(t,e),Ta(e),8192&(i=e.child).flags&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yy=Vn())),4&r&&v6(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,1&e.mode?(Ir=(c=Ir)||u,Wo(t,e),Ir=c):Wo(t,e),Ta(e),8192&r){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&(1&e.mode)!=0)for(Ye=e,u=e.child;u!==null;){for(h=Ye=u;Ye!==null;){switch(p=(d=Ye).child,d.tag){case 0:case 11:case 14:case 15:Xh(4,d,d.return);break;case 1:Yc(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Nn(r,n,m)}}break;case 5:Yc(d,d.return);break;case 22:if(d.memoizedState!==null){_6(h);continue}}p!==null?(p.return=d,Ye=p):_6(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?typeof(o=i.style).setProperty=="function"?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,a=(l=h.memoizedProps.style)!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=X5("display",a))}catch(m){Nn(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Nn(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wo(t,e),Ta(e),4&r&&v6(e);case 21:}}function Ta(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;n!==null;){if(f6(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(bh(i,""),r.flags&=-33),my(e,m6(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;fy(e,m6(e),o);break;default:throw Error(Ie(161))}}catch(a){Nn(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pP(e,t,n){Ye=e,b6(e)}function b6(e,t,n){for(var r=(1&e.mode)!=0;Ye!==null;){var i=Ye,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Wf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ir;s=Wf;var c=Ir;if(Wf=a,(Ir=l)&&!c)for(Ye=i;Ye!==null;)l=(a=Ye).child,a.tag===22&&a.memoizedState!==null?x6(i):l!==null?(l.return=a,Ye=l):x6(i);for(;o!==null;)Ye=o,b6(o),o=o.sibling;Ye=i,Wf=s,Ir=c}w6(e)}else 8772&i.subtreeFlags&&o!==null?(o.return=i,Ye=o):w6(e)}}function w6(e){for(;Ye!==null;){var t=Ye;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ir||Kf(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ir)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&g3(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}g3(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Rh(h)}}}break;default:throw Error(Ie(163))}Ir||512&t.flags&&py(t)}catch(d){Nn(t,t.return,d)}}if(t===e){Ye=null;break}if((n=t.sibling)!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function _6(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function x6(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kf(4,t)}catch(l){Nn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nn(t,i,l)}}var o=t.return;try{py(t)}catch(l){Nn(t,o,l)}break;case 5:var a=t.return;try{py(t)}catch(l){Nn(t,a,l)}}}catch(l){Nn(t,t.return,l)}if(t===e){Ye=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ye=s;break}Ye=t.return}}var k6,fP=Math.ceil,Qf=_a.ReactCurrentDispatcher,gy=_a.ReactCurrentOwner,Zi=_a.ReactCurrentBatchConfig,Yt=0,dr=null,Kn=null,wr=0,Ti=0,Xc=ls(0),or=0,Jh=null,gl=0,Yf=0,vy=0,Zh=null,Mi=null,yy=0,Jc=1/0,fs=null,Xf=!1,by=null,ms=null,Jf=!1,gs=null,Zf=0,ed=0,wy=null,e0=-1,t0=0;function Yr(){return 6&Yt?Vn():e0!==-1?e0:e0=Vn()}function vs(e){return 1&e.mode?2&Yt&&wr!==0?wr&-wr:eP.transition!==null?(t0===0&&(t0=px()),t0):(e=an)!==0?e:e=(e=window.event)===void 0?16:xx(e.type):1}function yo(e,t,n,r){if(50<ed)throw ed=0,wy=null,Error(Ie(185));Eh(e,n,r),2&Yt&&e===dr||(e===dr&&(!(2&Yt)&&(Yf|=n),or===4&&ys(e,wr)),li(e,r),n===1&&Yt===0&&!(1&t.mode)&&(Jc=Vn()+500,Mf&&us()))}function li(e,t){var n=e.callbackNode;(function(i,o){for(var a=i.suspendedLanes,s=i.pingedLanes,l=i.expirationTimes,c=i.pendingLanes;0<c;){var u=31-fo(c),h=1<<u,d=l[u];d===-1?h&a&&!(h&s)||(l[u]=mD(h,o)):d<=o&&(i.expiredLanes|=h),c&=~h}})(e,t);var r=uf(e,e===dr?wr:0);if(r===0)n!==null&&ux(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ux(n),t===1)e.tag===0?function(i){Mf=!0,s3(i)}(E6.bind(null,e)):s3(E6.bind(null,e)),YD(function(){!(6&Yt)&&us()}),n=null;else{switch(fx(r)){case 1:n=Y1;break;case 4:n=hx;break;case 16:default:n=X1;break;case 536870912:n=dx}n=O6(n,S6.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S6(e,t){if(e0=-1,t0=0,(6&Yt)!=0)throw Error(Ie(327));var n=e.callbackNode;if(eu()&&e.callbackNode!==n)return null;var r=uf(e,e===dr?wr:0);if(r===0)return null;if(30&r||r&e.expiredLanes||t)t=n0(e,r);else{t=r;var i=Yt;Yt|=2;var o=C6();for(dr===e&&wr===t||(fs=null,Jc=Vn()+500,yl(e,t));;)try{gP();break}catch(s){A6(e,s)}Fv(),Qf.current=o,Yt=i,Kn!==null?t=0:(dr=null,wr=0,t=or)}if(t!==0){if(t===2&&(i=ev(e))!==0&&(r=i,t=_y(e,i)),t===1)throw n=Jh,yl(e,0),ys(e,r),li(e,Vn()),n;if(t===6)ys(e,r);else{if(i=e.current.alternate,(30&r)==0&&!function(s){for(var l=s;;){if(16384&l.flags){var c=l.updateQueue;if(c!==null&&(c=c.stores)!==null)for(var u=0;u<c.length;u++){var h=c[u],d=h.getSnapshot;h=h.value;try{if(!mo(d(),h))return!1}catch{return!1}}}if(c=l.child,16384&l.subtreeFlags&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}(i)&&((t=n0(e,r))===2&&(o=ev(e))!==0&&(r=o,t=_y(e,o)),t===1))throw n=Jh,yl(e,0),ys(e,r),li(e,Vn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:case 5:Zc(e,Mi,fs);break;case 3:if(ys(e,r),(130023424&r)===r&&10<(t=yy+500-Vn())){if(uf(e,0)!==0)break;if(((i=e.suspendedLanes)&r)!==r){Yr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Cv(Zc.bind(null,e,Mi,fs),t);break}Zc(e,Mi,fs);break;case 4:if(ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-fo(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Vn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fP(r/1960))-r)){e.timeoutHandle=Cv(Zc.bind(null,e,Mi,fs),r);break}Zc(e,Mi,fs);break;default:throw Error(Ie(329))}}}return li(e,Vn()),e.callbackNode===n?S6.bind(null,e):null}function _y(e,t){var n=Zh;return e.current.memoizedState.isDehydrated&&(yl(e,t).flags|=256),(e=n0(e,t))!==2&&(t=Mi,Mi=n,t!==null&&xy(t)),e}function xy(e){Mi===null?Mi=e:Mi.push.apply(Mi,e)}function ys(e,t){for(t&=~vy,t&=~Yf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fo(t),r=1<<n;e[n]=-1,t&=~r}}function E6(e){if(6&Yt)throw Error(Ie(327));eu();var t=uf(e,0);if(!(1&t))return li(e,Vn()),null;var n=n0(e,t);if(e.tag!==0&&n===2){var r=ev(e);r!==0&&(t=r,n=_y(e,r))}if(n===1)throw n=Jh,yl(e,0),ys(e,t),li(e,Vn()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zc(e,Mi,fs),li(e,Vn()),null}function ky(e,t){var n=Yt;Yt|=1;try{return e(t)}finally{(Yt=n)===0&&(Jc=Vn()+500,Mf&&us())}}function vl(e){gs!==null&&gs.tag===0&&!(6&Yt)&&eu();var t=Yt;Yt|=1;var n=Zi.transition,r=an;try{if(Zi.transition=null,an=1,e)return e()}finally{an=r,Zi.transition=n,!(6&(Yt=t))&&us()}}function Sy(){Ti=Xc.current,kn(Xc)}function yl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QD(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(Dv(r),r.tag){case 1:(r=r.type.childContextTypes)!=null&&Iv();break;case 3:Kc(),kn(oi),kn(Mr),Qv();break;case 5:Wv(r);break;case 4:Kc();break;case 13:case 19:kn(Pn);break;case 10:Uv(r.type._context);break;case 22:case 23:Sy()}n=n.return}if(dr=e,Kn=e=bs(e.current,null),wr=Ti=t,or=0,Jh=null,vy=Yf=gl=0,Mi=Zh=null,pl!==null){for(t=0;t<pl.length;t++)if((r=(n=pl[t]).interleaved)!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}pl=null}return e}function A6(e,t){for(;;){var n=Kn;try{if(Fv(),Uf.current=Hf,jf){for(var r=Mn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jf=!1}if(ml=0,hr=ur=Mn=null,Gh=!1,Wh=0,gy.current=null,n===null||n.return===null){or=1,Jh=t,Kn=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=wr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,h=u.tag;if(!(1&u.mode)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Q3(a);if(p!==null){p.flags&=-257,Y3(p,a,s,0,t),1&p.mode&&K3(o,c,t),l=c;var f=(t=p).updateQueue;if(f===null){var m=new Set;m.add(l),t.updateQueue=m}else f.add(l);break e}if(!(1&t)){K3(o,c,t),Ey();break e}l=Error(Ie(426))}else if(Sn&&1&s.mode){var b=Q3(a);if(b!==null){!(65536&b.flags)&&(b.flags|=256),Y3(b,a,s,0,t),Bv(Qc(l,s));break e}}o=l=Qc(l,s),or!==4&&(or=2),Zh===null?Zh=[o]:Zh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,m3(o,G3(0,l,t));break e;case 1:s=l;var v=o.type,_=o.stateNode;if(!(128&o.flags)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ms===null||!ms.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,m3(o,W3(o,s,t));break e}}o=o.return}while(o!==null)}M6(n)}catch(w){t=w,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}}function C6(){var e=Qf.current;return Qf.current=Hf,e===null?Hf:e}function Ey(){or!==0&&or!==3&&or!==2||(or=4),dr===null||!(268435455&gl)&&!(268435455&Yf)||ys(dr,wr)}function n0(e,t){var n=Yt;Yt|=2;var r=C6();for(dr===e&&wr===t||(fs=null,yl(e,t));;)try{mP();break}catch(i){A6(e,i)}if(Fv(),Yt=n,Qf.current=r,Kn!==null)throw Error(Ie(261));return dr=null,wr=0,or}function mP(){for(;Kn!==null;)T6(Kn)}function gP(){for(;Kn!==null&&!cD();)T6(Kn)}function T6(e){var t=k6(e.alternate,e,Ti);e.memoizedProps=e.pendingProps,t===null?M6(e):Kn=t,gy.current=null}function M6(e){var t=e;do{var n=t.alternate;if(e=t.return,(32768&t.flags)==0){if((n=uP(n,t,Ti))!==null)return void(Kn=n)}else{if((n=hP(n,t))!==null)return n.flags&=32767,void(Kn=n);if(e===null)return or=6,void(Kn=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if((t=t.sibling)!==null)return void(Kn=t);Kn=t=e}while(t!==null);or===0&&(or=5)}function Zc(e,t,n){var r=an,i=Zi.transition;try{Zi.transition=null,an=1,function(o,a,s,l){do eu();while(gs!==null);if(6&Yt)throw Error(Ie(327));s=o.finishedWork;var c=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(Ie(177));o.callbackNode=null,o.callbackPriority=0;var u=s.lanes|s.childLanes;if(function(p,f){var m=p.pendingLanes&~f;p.pendingLanes=f,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=f,p.mutableReadLanes&=f,p.entangledLanes&=f,f=p.entanglements;var b=p.eventTimes;for(p=p.expirationTimes;0<m;){var v=31-fo(m),_=1<<v;f[v]=0,b[v]=-1,p[v]=-1,m&=~_}}(o,u),o===dr&&(Kn=dr=null,wr=0),!(2064&s.subtreeFlags)&&!(2064&s.flags)||Jf||(Jf=!0,O6(X1,function(){return eu(),null})),u=(15990&s.flags)!=0,(15990&s.subtreeFlags)!=0||u){u=Zi.transition,Zi.transition=null;var h=an;an=1;var d=Yt;Yt|=4,gy.current=null,function(p,f){if(Sv=pf,gv(p=Vx())){if("selectionStart"in p)var m={start:p.selectionStart,end:p.selectionEnd};else e:{var b=(m=(m=p.ownerDocument)&&m.defaultView||window).getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var v=b.anchorOffset,_=b.focusNode;b=b.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var w=0,x=-1,E=-1,M=0,T=0,S=p,C=null;t:for(;;){for(var P;S!==m||v!==0&&S.nodeType!==3||(x=w+v),S!==_||b!==0&&S.nodeType!==3||(E=w+b),S.nodeType===3&&(w+=S.nodeValue.length),(P=S.firstChild)!==null;)C=S,S=P;for(;;){if(S===p)break t;if(C===m&&++M===v&&(x=w),C===_&&++T===b&&(E=w),(P=S.nextSibling)!==null)break;C=(S=C).parentNode}S=P}m=x===-1||E===-1?null:{start:x,end:E}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ev={focusedElem:p,selectionRange:m},pf=!1,Ye=f;Ye!==null;)if(p=(f=Ye).child,(1028&f.subtreeFlags)!=0&&p!==null)p.return=f,Ye=p;else for(;Ye!==null;){f=Ye;try{var U=f.alternate;if(1024&f.flags)switch(f.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(U!==null){var W=U.memoizedProps,te=U.memoizedState,ne=f.stateNode,ae=ne.getSnapshotBeforeUpdate(f.elementType===f.type?W:vo(f.type,W),te);ne.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var he=f.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;default:throw Error(Ie(163))}}catch(fe){Nn(f,f.return,fe)}if((p=f.sibling)!==null){p.return=f.return,Ye=p;break}Ye=f.return}U=d6,d6=!1}(o,s),y6(s,o),HD(Ev),pf=!!Sv,Ev=Sv=null,o.current=s,pP(s),uD(),Yt=d,an=h,Zi.transition=u}else o.current=s;if(Jf&&(Jf=!1,gs=o,Zf=c),u=o.pendingLanes,u===0&&(ms=null),function(p){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(cf,p,void 0,(128&p.current.flags)==128)}catch{}}(s.stateNode),li(o,Vn()),a!==null)for(l=o.onRecoverableError,s=0;s<a.length;s++)c=a[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(Xf)throw Xf=!1,o=by,by=null,o;1&Zf&&o.tag!==0&&eu(),u=o.pendingLanes,1&u?o===wy?ed++:(ed=0,wy=o):ed=0,us()}(e,t,n,r)}finally{Zi.transition=i,an=r}return null}function eu(){if(gs!==null){var e=fx(Zf),t=Zi.transition,n=an;try{if(Zi.transition=null,an=16>e?16:e,gs===null)var r=!1;else{if(e=gs,gs=null,Zf=0,(6&Yt)!=0)throw Error(Ie(331));var i=Yt;for(Yt|=4,Ye=e.current;Ye!==null;){var o=Ye,a=o.child;if(16&Ye.flags){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(Ye=c;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:Xh(8,u,o)}var h=u.child;if(h!==null)h.return=u,Ye=h;else for(;Ye!==null;){var d=(u=Ye).sibling,p=u.return;if(p6(u),u===c){Ye=null;break}if(d!==null){d.return=p,Ye=d;break}Ye=p}}}var f=o.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Ye=o}}if(2064&o.subtreeFlags&&a!==null)a.return=o,Ye=a;else e:for(;Ye!==null;){if(2048&(o=Ye).flags)switch(o.tag){case 0:case 11:case 15:Xh(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ye=v;break e}Ye=o.return}}var _=e.current;for(Ye=_;Ye!==null;){var w=(a=Ye).child;if(2064&a.subtreeFlags&&w!==null)w.return=a,Ye=w;else e:for(a=_;Ye!==null;){if(2048&(s=Ye).flags)try{switch(s.tag){case 0:case 11:case 15:Kf(9,s)}}catch(E){Nn(s,s.return,E)}if(s===a){Ye=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,Ye=x;break e}Ye=s.return}}if(Yt=i,us(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(cf,e)}catch{}r=!0}return r}finally{an=n,Zi.transition=t}}return!1}function R6(e,t,n){e=ds(e,t=G3(0,t=Qc(n,t),1),1),t=Yr(),e!==null&&(Eh(e,1,t),li(e,t))}function Nn(e,t,n){if(e.tag===3)R6(e,e,n);else for(;t!==null;){if(t.tag===3){R6(t,e,n);break}if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=ds(t,e=W3(t,e=Qc(n,e),1),1),e=Yr(),t!==null&&(Eh(t,1,e),li(t,e));break}}t=t.return}}function vP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&n,dr===e&&(wr&n)===n&&(or===4||or===3&&(130023424&wr)===wr&&500>Vn()-yy?yl(e,0):vy|=n),li(e,t)}function I6(e,t){t===0&&(1&e.mode?(t=Z1,!(130023424&(Z1<<=1))&&(Z1=4194304)):t=1);var n=Yr();(e=Ea(e,t))!==null&&(Eh(e,t,n),li(e,n))}function yP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I6(e,n)}function bP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),I6(e,n)}function O6(e,t){return cx(e,t)}function wP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eo(e,t,n,r){return new wP(e,t,n,r)}function Ay(e){return!(!(e=e.prototype)||!e.isReactComponent)}function bs(e,t){var n=e.alternate;return n===null?((n=eo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function r0(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Ay(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Tc:return bl(n.children,i,o,t);case E1:a=8,i|=8;break;case A1:return(e=eo(12,n,t,2|i)).elementType=A1,e.lanes=o,e;case T1:return(e=eo(13,n,t,i)).elementType=T1,e.lanes=o,e;case M1:return(e=eo(19,n,t,i)).elementType=M1,e.lanes=o,e;case F5:return i0(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B5:a=10;break e;case z5:a=9;break e;case C1:a=11;break e;case R1:a=14;break e;case es:a=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return(t=eo(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function bl(e,t,n,r){return(e=eo(7,e,r,t)).lanes=n,e}function i0(e,t,n,r){return(e=eo(22,e,r,t)).elementType=F5,e.lanes=n,e.stateNode={isHidden:!1},e}function Cy(e,t,n){return(e=eo(6,e,null,t)).lanes=n,e}function Ty(e,t,n){return(t=eo(4,e.children!==null?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _P(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function My(e,t,n,r,i,o,a,s,l){return e=new _P(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=eo(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qv(o),e}function L6(e){if(!e)return cs;e:{if(sl(e=e._reactInternals)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if(Ei(n))return o3(e,n,t)}return t}function D6(e,t,n,r,i,o,a,s,l){return(e=My(n,r,!0,e,0,o,0,s,l)).context=L6(null),n=e.current,(o=Aa(r=Yr(),i=vs(n))).callback=t??null,ds(n,o,i),e.current.lanes=i,Eh(e,i,r),li(e,r),e}function o0(e,t,n,r){var i=t.current,o=Yr(),a=vs(i);return n=L6(n),t.context===null?t.context=n:t.pendingContext=n,(t=Aa(o,a)).payload={element:e},(r=r===void 0?null:r)!==null&&(t.callback=r),(e=ds(i,t,a))!==null&&(yo(e,i,a,o),Pf(e,i,a)),a}function a0(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function P6(e,t){if((e=e.memoizedState)!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ry(e,t){P6(e,t),(e=e.alternate)&&P6(e,t)}k6=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ai=!0;else{if(!(e.lanes&n)&&!(128&t.flags))return ai=!1,function(h,d,p){switch(d.tag){case 3:r6(d),Hc();break;case 5:S3(d);break;case 1:Ei(d.type)&&Tf(d);break;case 4:Gv(d,d.stateNode.containerInfo);break;case 10:var f=d.type._context,m=d.memoizedProps.value;pn(Lf,f._currentValue),f._currentValue=m;break;case 13:if((f=d.memoizedState)!==null)return f.dehydrated!==null?(pn(Pn,1&Pn.current),d.flags|=128,null):p&d.child.childLanes?l6(h,d,p):(pn(Pn,1&Pn.current),(h=Ca(h,d,p))!==null?h.sibling:null);pn(Pn,1&Pn.current);break;case 19:if(f=(p&d.childLanes)!=0,(128&h.flags)!=0){if(f)return u6(h,d,p);d.flags|=128}if((m=d.memoizedState)!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),pn(Pn,Pn.current),f)break;return null;case 22:case 23:return d.lanes=0,e6(h,d,p)}return Ca(h,d,p)}(e,t,n);ai=(131072&e.flags)!=0}else ai=!1,Sn&&1048576&t.flags&&l3(t,If,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gf(e,t),e=t.pendingProps;var i=jc(t,Mr.current);Gc(t,n),i=Jv(null,t,r,e,i,n);var o=Zv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ei(r)?(o=!0,Tf(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qv(t),i.updater=Bf,t.stateNode=i,i._reactInternals=t,$v(t,r,e,n),t=sy(null,t,r,!0,o,n)):(t.tag=0,Sn&&o&&Lv(t),si(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gf(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(h){if(typeof h=="function")return Ay(h)?1:0;if(h!=null){if((h=h.$$typeof)===C1)return 11;if(h===R1)return 14}return 2}(r),e=vo(r,e),i){case 0:t=ay(null,t,r,e,n);break e;case 1:t=n6(null,t,r,e,n);break e;case 11:t=X3(null,t,r,e,n);break e;case 14:t=J3(null,t,r,vo(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ay(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,n6(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(r6(t),e===null)throw Error(Ie(387));r=t.pendingProps,i=(o=t.memoizedState).element,f3(e,t),Nf(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=i6(e,t,r,n,i=Qc(Error(Ie(423)),t));break e}if(r!==i){t=i6(e,t,r,n,i=Qc(Error(Ie(424)),t));break e}for(Ci=ss(t.stateNode.containerInfo.firstChild),Ai=t,Sn=!0,go=null,n=k3(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Hc(),r===i){t=Ca(e,t,n);break e}si(e,t,r,n)}t=t.child}return t;case 5:return S3(t),e===null&&Nv(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Av(r,i)?a=null:o!==null&&Av(r,o)&&(t.flags|=32),t6(e,t),si(e,t,a,n),t.child;case 6:return e===null&&Nv(t),null;case 13:return l6(e,t,n);case 4:return Gv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wc(t,null,r,n):si(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,X3(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return si(e,t,t.pendingProps,n),t.child;case 8:case 12:return si(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,pn(Lf,r._currentValue),r._currentValue=a,o!==null)if(mo(o.value,a)){if(o.children===i.children&&!oi.current){t=Ca(e,t,n);break e}}else for((o=t.child)!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){(l=Aa(-1,n&-n)).tag=2;var c=o.updateQueue;if(c!==null){var u=(c=c.shared).pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,(l=o.alternate)!==null&&(l.lanes|=n),jv(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if((a=o.return)===null)throw Error(Ie(341));a.lanes|=n,(s=a.alternate)!==null&&(s.lanes|=n),jv(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if((o=a.sibling)!==null){o.return=a.return,a=o;break}a=a.return}o=a}si(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Gc(t,n),r=r(i=Xi(i)),t.flags|=1,si(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),J3(e,t,r,i=vo(r.type,i),n);case 15:return Z3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Gf(e,t),t.tag=1,Ei(r)?(e=!0,Tf(t)):e=!1,Gc(t,n),b3(t,r,i),$v(t,r,i,n),sy(null,t,r,!0,e,n);case 19:return u6(e,t,n);case 22:return e6(e,t,n)}throw Error(Ie(156,t.tag))};var N6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Iy(e){this._internalRoot=e}function s0(e){this._internalRoot=e}function Oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function B6(){}function c0(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=a0(a);s.call(l)}}o0(t,a,e,i)}else a=function(l,c,u,h,d){if(d){if(typeof h=="function"){var p=h;h=function(){var v=a0(f);p.call(v)}}var f=D6(c,h,l,0,null,!1,0,"",B6);return l._reactRootContainer=f,l[xa]=f.current,zh(l.nodeType===8?l.parentNode:l),vl(),f}for(;d=l.lastChild;)l.removeChild(d);if(typeof h=="function"){var m=h;h=function(){var v=a0(b);m.call(v)}}var b=My(l,0,!1,null,0,!1,0,"",B6);return l._reactRootContainer=b,l[xa]=b.current,zh(l.nodeType===8?l.parentNode:l),vl(function(){o0(c,b,u,h)}),b}(n,t,e,i,r);return a0(a)}s0.prototype.render=Iy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));o0(e,t,null,null)},s0.prototype.unmount=Iy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vl(function(){o0(null,e,null,null)}),t[xa]=null}},s0.prototype.unstable_scheduleHydration=function(e){if(e){var t=vx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<os.length&&t!==0&&t<os[n].priority;n++);os.splice(n,0,e),n===0&&wx(e)}},mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sh(t.pendingLanes);n!==0&&(nv(t,1|n),li(t,Vn()),!(6&Yt)&&(Jc=Vn()+500,us()))}break;case 13:vl(function(){var r=Ea(e,1);if(r!==null){var i=Yr();yo(r,e,1,i)}}),Ry(e,1)}},rv=function(e){if(e.tag===13){var t=Ea(e,134217728);t!==null&&yo(t,e,134217728,Yr()),Ry(e,134217728)}},gx=function(e){if(e.tag===13){var t=vs(e),n=Ea(e,t);n!==null&&yo(n,e,t,Yr()),Ry(e,t)}},vx=function(){return an},yx=function(e,t){var n=an;try{return an=e,t()}finally{an=n}},G1=function(e,t,n){switch(t){case"input":if(N1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cf(r);if(!i)throw Error(Ie(90));V5(r),N1(r,i)}}}break;case"textarea":W5(e,n);break;case"select":(t=n.value)!=null&&Mc(e,!!n.multiple,t,!1)}},nx=ky,rx=vl;var xP={usingClientEntryPoint:!1,Events:[jh,Fc,Cf,ex,tx,ky]},td={findFiberByHostInstance:cl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kP={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return(e=sx(e))===null?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{cf=u0.inject(kP),jo=u0}catch{}}xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xP,xi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(t))throw Error(Ie(200));return function(r,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cc,key:a==null?null:""+a,children:r,containerInfo:i,implementation:o}}(e,t,null,n)},xi.createRoot=function(e,t){if(!Oy(e))throw Error(Ie(299));var n=!1,r="",i=N6;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=My(e,1,!1,null,0,n,0,r,i),e[xa]=t.current,zh(e.nodeType===8?e.parentNode:e),new Iy(t)},xi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=(e=sx(t))===null?null:e.stateNode},xi.flushSync=function(e){return vl(e)},xi.hydrate=function(e,t,n){if(!l0(t))throw Error(Ie(200));return c0(null,e,t,!0,n)},xi.hydrateRoot=function(e,t,n){if(!Oy(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=N6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=D6(t,null,e,1,n??null,i,0,o,a),e[xa]=t.current,zh(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new s0(t)},xi.render=function(e,t,n){if(!l0(t))throw Error(Ie(200));return c0(null,e,t,!1,n)},xi.unmountComponentAtNode=function(e){if(!l0(e))throw Error(Ie(40));return!!e._reactRootContainer&&(vl(function(){c0(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0)},xi.unstable_batchedUpdates=ky,xi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!l0(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return c0(e,t,n,!1,r)},xi.version="18.2.0-next-9e3b772b8-20220608",function e(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),R5.exports=xi;var Ly=R5.exports,z6=Ly;nf.createRoot=z6.createRoot,nf.hydrateRoot=z6.hydrateRoot;var F6={exports:{}};function U6(){}function j6(){}j6.resetWarningCache=U6,F6.exports=function(){function e(r,i,o,a,s,l){if(l!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:j6,resetWarningCache:U6};return n.PropTypes=n,n}();const Dy=g5(F6.exports);var SP=Object.defineProperty,V6=e=>{throw TypeError(e)},EP=(e,t,n)=>((r,i,o)=>i in r?SP(r,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[i]=o)(e,typeof t!="symbol"?t+"":t,n),Py=(e,t,n)=>t.has(e)||V6("Cannot "+n),oe=(e,t,n)=>(Py(e,t,"read from private field"),n?n.call(e):t.get(e)),vt=(e,t,n)=>t.has(e)?V6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Xe=(e,t,n,r)=>(Py(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Pt=(e,t,n)=>(Py(e,t,"access private method"),n),Ny=(e,t,n,r)=>({set _(i){Xe(e,t,i,n)},get _(){return oe(e,t,r)}}),AP=function(){function e(n){var r=this;this._insertTag=function(i){var o;o=r.tags.length===0?r.insertionPoint?r.insertionPoint.nextSibling:r.prepend?r.container.firstChild:r.before:r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0||n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(o){var a=document.createElement("style");return a.setAttribute("data-emotion",o.key),o.nonce!==void 0&&a.setAttribute("nonce",o.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(o){if(o.sheet)return o.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===o)return document.styleSheets[a]}(r);try{i.insertRule(n,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Or="-ms-",q6="-moz-",Xt="-webkit-",H6="comm",By="rule",zy="decl",$6="@keyframes",CP=Math.abs,h0=String.fromCharCode,TP=Object.assign;function G6(e){return e.trim()}function Jt(e,t,n){return e.replace(t,n)}function Fy(e,t){return e.indexOf(t)}function _r(e,t){return 0|e.charCodeAt(t)}function nd(e,t,n){return e.slice(t,n)}function Ko(e){return e.length}function Uy(e){return e.length}function d0(e,t){return t.push(e),e}var p0=1,tu=1,W6=0,ci=0,Qn=0,nu="";function f0(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:p0,column:tu,length:a,return:""}}function rd(e,t){return TP(f0("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ri(){return Qn=ci<W6?_r(nu,ci++):0,tu++,Qn===10&&(tu=1,p0++),Qn}function Qo(){return _r(nu,ci)}function m0(){return ci}function id(e,t){return nd(nu,e,t)}function od(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K6(e){return p0=tu=1,W6=Ko(nu=e),ci=0,[]}function Q6(e){return nu="",e}function g0(e){return G6(id(ci-1,jy(e===91?e+2:e===40?e+1:e)))}function MP(e){for(;(Qn=Qo())&&Qn<33;)Ri();return od(e)>2||od(Qn)>3?"":" "}function RP(e,t){for(;--t&&Ri()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return id(e,m0()+(t<6&&Qo()==32&&Ri()==32))}function jy(e){for(;Ri();)switch(Qn){case e:return ci;case 34:case 39:e!==34&&e!==39&&jy(Qn);break;case 40:e===41&&jy(e);break;case 92:Ri()}return ci}function IP(e,t){for(;Ri()&&e+Qn!==57&&(e+Qn!==84||Qo()!==47););return"/*"+id(t,ci-1)+"*"+h0(e===47?e:Ri())}function OP(e){for(;!od(Qo());)Ri();return id(e,ci)}function LP(e){return Q6(v0("",null,null,null,[""],e=K6(e),0,[0],e))}function v0(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,d=0,p=0,f=0,m=1,b=1,v=1,_=0,w="",x=i,E=o,M=r,T=w;b;)switch(f=_,_=Ri()){case 40:if(f!=108&&_r(T,h-1)==58){Fy(T+=Jt(g0(_),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:T+=g0(_);break;case 9:case 10:case 13:case 32:T+=MP(f);break;case 92:T+=RP(m0()-1,7);continue;case 47:switch(Qo()){case 42:case 47:d0(DP(IP(Ri(),m0()),t,n),l);break;default:T+="/"}break;case 123*m:s[c++]=Ko(T)*v;case 125*m:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+u:v==-1&&(T=Jt(T,/\f/g,"")),p>0&&Ko(T)-h&&d0(p>32?X6(T+";",r,n,h-1):X6(Jt(T," ","")+";",r,n,h-2),l);break;case 59:T+=";";default:if(d0(M=Y6(T,t,n,c,u,i,s,w,x=[],E=[],h),o),_===123)if(u===0)v0(T,t,M,M,x,o,h,s,E);else switch(d===99&&_r(T,3)===110?100:d){case 100:case 108:case 109:case 115:v0(e,M,M,r&&d0(Y6(e,M,M,0,0,i,s,w,i,x=[],h),E),i,E,h,s,r?x:E);break;default:v0(T,M,M,M,[""],E,0,s,E)}}c=u=p=0,m=v=1,w=T="",h=a;break;case 58:h=1+Ko(T),p=f;default:if(m<1){if(_==123)--m;else if(_==125&&m++==0&&(Qn=ci>0?_r(nu,--ci):0,tu--,Qn===10&&(tu=1,p0--),Qn==125))continue}switch(T+=h0(_),_*m){case 38:v=u>0?1:(T+="\f",-1);break;case 44:s[c++]=(Ko(T)-1)*v,v=1;break;case 64:Qo()===45&&(T+=g0(Ri())),d=Qo(),u=h=Ko(w=T+=OP(m0())),_++;break;case 45:f===45&&Ko(T)==2&&(m=0)}}return o}function Y6(e,t,n,r,i,o,a,s,l,c,u){for(var h=i-1,d=i===0?o:[""],p=Uy(d),f=0,m=0,b=0;f<r;++f)for(var v=0,_=nd(e,h+1,h=CP(m=a[f])),w=e;v<p;++v)(w=G6(m>0?d[v]+" "+_:Jt(_,/&\f/g,d[v])))&&(l[b++]=w);return f0(e,t,n,i===0?By:s,l,c,u)}function DP(e,t,n){return f0(e,t,n,H6,h0(Qn),nd(e,2,-2),0)}function X6(e,t,n,r){return f0(e,t,n,zy,nd(e,0,r),nd(e,r+1,-1),r)}function ru(e,t){for(var n="",r=Uy(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function PP(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case zy:return e.return=e.return||e.value;case H6:return"";case $6:return e.return=e.value+"{"+ru(e.children,r)+"}";case By:e.value=e.props.join(",")}return Ko(n=ru(e.children,r))?e.return=e.value+"{"+n+"}":""}function NP(e){return function(t){t.root||(t=t.return)&&e(t)}}function J6(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var BP=function(e,t,n){for(var r=0,i=0;r=i,i=Qo(),r===38&&i===12&&(t[n]=1),!od(i);)Ri();return id(e,ci)},zP=function(e,t){return Q6(function(n,r){var i=-1,o=44;do switch(od(o)){case 0:o===38&&Qo()===12&&(r[i]=1),n[i]+=BP(ci-1,r,i);break;case 2:n[i]+=g0(o);break;case 4:if(o===44){n[++i]=Qo()===58?"&\f":"",r[i]=n[i].length;break}default:n[i]+=h0(o)}while(o=Ri());return n}(K6(e),t))},Z6=new WeakMap,FP=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(!(n=n.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||Z6.get(n))&&!r){Z6.set(e,!0);for(var i=[],o=zP(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},UP=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function ek(e,t){switch(function(n,r){return 45^_r(n,0)?(((r<<2^_r(n,0))<<2^_r(n,1))<<2^_r(n,2))<<2^_r(n,3):0}(e,t)){case 5103:return Xt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xt+e+q6+e+Or+e+e;case 6828:case 4268:return Xt+e+Or+e+e;case 6165:return Xt+e+Or+"flex-"+e+e;case 5187:return Xt+e+Jt(e,/(\w+).+(:[^]+)/,Xt+"box-$1$2"+Or+"flex-$1$2")+e;case 5443:return Xt+e+Or+"flex-item-"+Jt(e,/flex-|-self/,"")+e;case 4675:return Xt+e+Or+"flex-line-pack"+Jt(e,/align-content|flex-|-self/,"")+e;case 5548:return Xt+e+Or+Jt(e,"shrink","negative")+e;case 5292:return Xt+e+Or+Jt(e,"basis","preferred-size")+e;case 6060:return Xt+"box-"+Jt(e,"-grow","")+Xt+e+Or+Jt(e,"grow","positive")+e;case 4554:return Xt+Jt(e,/([^-])(transform)/g,"$1"+Xt+"$2")+e;case 6187:return Jt(Jt(Jt(e,/(zoom-|grab)/,Xt+"$1"),/(image-set)/,Xt+"$1"),e,"")+e;case 5495:case 3959:return Jt(e,/(image-set\([^]*)/,Xt+"$1$`$1");case 4968:return Jt(Jt(e,/(.+:)(flex-)?(.*)/,Xt+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xt+e+e;case 4095:case 3583:case 4068:case 2532:return Jt(e,/(.+)-inline(.+)/,Xt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ko(e)-1-t>6)switch(_r(e,t+1)){case 109:if(_r(e,t+4)!==45)break;case 102:return Jt(e,/(.+:)(.+)-([^]+)/,"$1"+Xt+"$2-$3$1"+q6+(_r(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Fy(e,"stretch")?ek(Jt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_r(e,t+1)!==115)break;case 6444:switch(_r(e,Ko(e)-3-(~Fy(e,"!important")&&10))){case 107:return Jt(e,":",":"+Xt)+e;case 101:return Jt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xt+(_r(e,14)===45?"inline-":"")+"box$3$1"+Xt+"$2$3$1"+Or+"$2box$3")+e}break;case 5936:switch(_r(e,t+11)){case 114:return Xt+e+Or+Jt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xt+e+Or+Jt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xt+e+Or+Jt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Xt+e+Or+e+e}return e}var jP=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case zy:e.return=ek(e.value,e.length);break;case $6:return ru([rd(e,{value:Jt(e.value,"@","@"+Xt)})],r);case By:if(e.length)return function(i,o){return i.map(o).join("")}(e.props,function(i){switch(function(o,a){return(o=a.exec(o))?o[0]:o}(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ru([rd(e,{props:[Jt(i,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ru([rd(e,{props:[Jt(i,/:(plac\w+)/,":"+Xt+"input-$1")]}),rd(e,{props:[Jt(i,/:(plac\w+)/,":-moz-$1")]}),rd(e,{props:[Jt(i,/:(plac\w+)/,Or+"input-$1")]})],r)}return""})}}],tk=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){p.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r,i=e.stylisPlugins||jP,o={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(p){for(var f=p.getAttribute("data-emotion").split(" "),m=1;m<f.length;m++)o[f[m]]=!0;a.push(p)});var s,l,c=[FP,UP],u=[PP,NP(function(p){l.insert(p)})],h=function(p){var f=Uy(p);return function(m,b,v,_){for(var w="",x=0;x<f;x++)w+=p[x](m,b,v,_)||"";return w}}(c.concat(i,u));s=function(p,f,m,b){l=m,function(v){ru(LP(v),h)}(p?p+"{"+f.styles+"}":f.styles),b&&(d.inserted[f.name]=!0)};var d={key:t,sheet:new AP({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return d.sheet.hydrate(a),d};function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(null,arguments)}var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nk,rk={exports:{}},tn={};/** @license React v16.13.1
     * react-is.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */rk.exports=function(){if(nk)return tn;nk=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,_=e?Symbol.for("react.scope"):60119;function w(E){if(typeof E=="object"&&E!==null){var M=E.$$typeof;switch(M){case t:switch(E=E.type){case l:case c:case r:case o:case i:case h:return E;default:switch(E=E&&E.$$typeof){case s:case u:case f:case p:case a:return E;default:return M}}case n:return M}}}function x(E){return w(E)===c}return tn.AsyncMode=l,tn.ConcurrentMode=c,tn.ContextConsumer=s,tn.ContextProvider=a,tn.Element=t,tn.ForwardRef=u,tn.Fragment=r,tn.Lazy=f,tn.Memo=p,tn.Portal=n,tn.Profiler=o,tn.StrictMode=i,tn.Suspense=h,tn.isAsyncMode=function(E){return x(E)||w(E)===l},tn.isConcurrentMode=x,tn.isContextConsumer=function(E){return w(E)===s},tn.isContextProvider=function(E){return w(E)===a},tn.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},tn.isForwardRef=function(E){return w(E)===u},tn.isFragment=function(E){return w(E)===r},tn.isLazy=function(E){return w(E)===f},tn.isMemo=function(E){return w(E)===p},tn.isPortal=function(E){return w(E)===n},tn.isProfiler=function(E){return w(E)===o},tn.isStrictMode=function(E){return w(E)===i},tn.isSuspense=function(E){return w(E)===h},tn.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===c||E===o||E===i||E===h||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===f||E.$$typeof===p||E.$$typeof===a||E.$$typeof===s||E.$$typeof===u||E.$$typeof===b||E.$$typeof===v||E.$$typeof===_||E.$$typeof===m)},tn.typeOf=w,tn}();var ik=rk.exports,ok={};ok[ik.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ok[ik.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};function ak(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var Vy=function(e,t,n){var r=e.key+"-"+t.name;n===!1&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},sk=function(e,t,n){Vy(e,t,n);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var i=t;do e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}},VP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qP=!1,HP=/[A-Z]|^ms/g,$P=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lk=function(e){return e.charCodeAt(1)===45},ck=function(e){return e!=null&&typeof e!="boolean"},qy=J6(function(e){return lk(e)?e:e.replace(HP,"-$&").toLowerCase()}),uk=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace($P,function(n,r,i){return Yo={name:r,styles:i,next:Yo},r})}return VP[e]===1||lk(e)||typeof t!="number"||t===0?t:t+"px"},GP="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function sd(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(i.anim===1)return Yo={name:i.name,styles:i.styles,next:Yo},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)Yo={name:a.name,styles:a.styles,next:Yo},a=a.next;return o.styles+";"}return function(h,d,p){var f="";if(Array.isArray(p))for(var m=0;m<p.length;m++)f+=sd(h,d,p[m])+";";else for(var b in p){var v=p[b];if(typeof v!="object"){var _=v;d!=null&&d[_]!==void 0?f+=b+"{"+d[_]+"}":ck(_)&&(f+=qy(b)+":"+uk(b,_)+";")}else{if(b==="NO_COMPONENT_SELECTOR"&&qP)throw new Error(GP);if(!Array.isArray(v)||typeof v[0]!="string"||d!=null&&d[v[0]]!==void 0){var w=sd(h,d,v);switch(b){case"animation":case"animationName":f+=qy(b)+":"+w+";";break;default:f+=b+"{"+w+"}"}}else for(var x=0;x<v.length;x++)ck(v[x])&&(f+=qy(b)+":"+uk(b,v[x])+";")}}return f}(e,t,n);case"function":if(e!==void 0){var s=Yo,l=n(e);return Yo=s,sd(e,t,l)}}var c=n;if(t==null)return c;var u=t[c];return u!==void 0?u:c}var Yo,hk=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function Hy(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Yo=void 0;var o=e[0];o==null||o.raw===void 0?(r=!1,i+=sd(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=sd(n,t,e[a]),r&&(i+=o[a]);hk.lastIndex=0;for(var s,l="";(s=hk.exec(i))!==null;)l+="-"+s[1];var c=function(u){for(var h,d=0,p=0,f=u.length;f>=4;++p,f-=4)h=1540483477*(65535&(h=255&u.charCodeAt(p)|(255&u.charCodeAt(++p))<<8|(255&u.charCodeAt(++p))<<16|(255&u.charCodeAt(++p))<<24))+(59797*(h>>>16)<<16),d=1540483477*(65535&(h^=h>>>24))+(59797*(h>>>16)<<16)^1540483477*(65535&d)+(59797*(d>>>16)<<16);switch(f){case 3:d^=(255&u.charCodeAt(p+2))<<16;case 2:d^=(255&u.charCodeAt(p+1))<<8;case 1:d=1540483477*(65535&(d^=255&u.charCodeAt(p)))+(59797*(d>>>16)<<16)}return(((d=1540483477*(65535&(d^=d>>>13))+(59797*(d>>>16)<<16))^d>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Yo}}var dk=!!re.useInsertionEffect&&re.useInsertionEffect||function(e){return e()},pk=re.createContext(typeof HTMLElement<"u"?tk({key:"css"}):null),WP=pk.Provider,fk=function(e){return re.forwardRef(function(t,n){var r=re.useContext(pk);return e(t,r,n)})},mk=re.createContext({}),y0={}.hasOwnProperty,$y="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gk=function(e,t){var n={};for(var r in t)y0.call(t,r)&&(n[r]=t[r]);return n[$y]=e,n},KP=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Vy(t,n,r),dk(function(){return sk(t,n,r)}),null},QP=fk(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[$y],o=[r],a="";typeof e.className=="string"?a=ak(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=Hy(o,void 0,re.useContext(mk));a+=t.key+"-"+s.name;var l={};for(var c in e)y0.call(e,c)&&c!=="css"&&c!==$y&&(l[c]=e[c]);return l.className=a,n&&(l.ref=n),re.createElement(re.Fragment,null,re.createElement(KP,{cache:t,serialized:s,isStringTag:typeof i=="string"}),re.createElement(i,l))}),vk=QP,wl=Gr.Fragment;function G(e,t,n){return y0.call(t,"css")?Gr.jsx(vk,gk(e,t),n):Gr.jsx(e,t,n)}function Fe(e,t,n){return y0.call(t,"css")?Gr.jsxs(vk,gk(e,t),n):Gr.jsxs(e,t,n)}var YP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,XP=J6(function(e){return YP.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hy(t)}var bk,wk=function(){var e=yk.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},JP=XP,ZP=function(e){return e!=="theme"},_k=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JP:ZP},xk=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},eN=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Vy(t,n,r),dk(function(){return sk(t,n,r)}),null},ht=function e(t,n){var r,i,o=t.__emotion_real===t,a=o&&t.__emotion_base||t;n!==void 0&&(r=n.label,i=n.target);var s=xk(t,n,o),l=s||_k(a),c=!l("as");return function(){var u=arguments,h=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(r!==void 0&&h.push("label:"+r+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var d=u.length,p=1;p<d;p++)h.push(u[p],u[0][p])}var f=fk(function(m,b,v){var _=c&&m.as||a,w="",x=[],E=m;if(m.theme==null){for(var M in E={},m)E[M]=m[M];E.theme=re.useContext(mk)}typeof m.className=="string"?w=ak(b.registered,x,m.className):m.className!=null&&(w=m.className+" ");var T=Hy(h.concat(x),b.registered,E);w+=b.key+"-"+T.name,i!==void 0&&(w+=" "+i);var S=c&&s===void 0?_k(_):l,C={};for(var P in m)c&&P==="as"||S(P)&&(C[P]=m[P]);return C.className=w,v&&(C.ref=v),re.createElement(re.Fragment,null,re.createElement(eN,{cache:b,serialized:T,isStringTag:typeof _=="string"}),re.createElement(_,C))});return f.displayName=r!==void 0?r:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=a,f.__emotion_styles=h,f.__emotion_forwardProp=s,Object.defineProperty(f,"toString",{value:function(){return"."+i}}),f.withComponent=function(m,b){return e(m,Xr({},n,b,{shouldForwardProp:xk(f,b,!0)})).apply(void 0,h)},f}},kk={exports:{}},Gy={};/**
     * @license React
     * use-sync-external-store-shim.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */kk.exports=function(){if(bk)return Gy;bk=1;var e=po,t=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(l){var c=l.getSnapshot;l=l.value;try{var u=c();return!t(l,u)}catch{return!0}}var s=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?function(l,c){return c()}:function(l,c){var u=c(),h=n({inst:{value:u,getSnapshot:c}}),d=h[0].inst,p=h[1];return i(function(){d.value=u,d.getSnapshot=c,a(d)&&p({inst:d})},[l,u,c]),r(function(){return a(d)&&p({inst:d}),l(function(){a(d)&&p({inst:d})})},[l]),o(u),u};return Gy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:s,Gy}();var Sk,tN=kk.exports,Ek={exports:{}},Wy={};/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */Ek.exports=function(){if(Sk)return Wy;Sk=1;var e=po,t=tN,n=typeof Object.is=="function"?Object.is:function(l,c){return l===c&&(l!==0||1/l==1/c)||l!=l&&c!=c},r=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return Wy.useSyncExternalStoreWithSelector=function(l,c,u,h,d){var p=i(null);if(p.current===null){var f={hasValue:!1,value:null};p.current=f}else f=p.current;p=a(function(){function b(E){if(!w){if(w=!0,v=E,E=h(E),d!==void 0&&f.hasValue){var M=f.value;if(d(M,E))return _=M}return _=E}if(M=_,n(v,E))return M;var T=h(E);return d!==void 0&&d(M,T)?M:(v=E,_=T)}var v,_,w=!1,x=u===void 0?null:u;return[function(){return b(c())},x===null?void 0:function(){return b(x())}]},[c,u,h,d]);var m=r(l,p[0],p[1]);return o(function(){f.hasValue=!0,f.value=m},[m]),s(m),m},Wy}();var nN=Ek.exports;let Ak=function(e){e()};const rN=()=>Ak,Ck=Symbol.for("react-redux-context"),Tk=typeof globalThis<"u"?globalThis:{};function iN(){var e;if(!re.createContext)return{};const t=(e=Tk[Ck])!=null?e:Tk[Ck]=new Map;let n=t.get(re.createContext);return n||(n=re.createContext(null),t.set(re.createContext,n)),n}const ws=iN();function Ky(e=ws){return function(){return re.useContext(e)}}const Mk=Ky();let Rk=()=>{throw new Error("uSES not initialized!")};const oN=(e,t)=>e===t;function aN(e=ws){const t=e===ws?Mk:Ky(e);return function(n,r={}){const{equalityFn:i=oN,stabilityCheck:o,noopCheck:a}=typeof r=="function"?{equalityFn:r}:r,{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:h}=t();re.useRef(!0);const d=re.useCallback({[n.name]:f=>n(f)}[n.name],[n,u,o]),p=Rk(l.addNestedSub,s.getState,c||s.getState,d,i);return re.useDebugValue(p),p}}const b0=aN(),Ik={notify(){},get:()=>[]};function sN(e,t){let n,r=Ik,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=e.subscribe(a),r=function(){const u=rN();let h=null,d=null;return{clear(){h=null,d=null},notify(){u(()=>{let p=h;for(;p;)p.callback(),p=p.next})},get(){let p=[],f=h;for(;f;)p.push(f),f=f.next;return p},subscribe(p){let f=!0,m=d={callback:p,next:null,prev:d};return m.prev?m.prev.next=m:h=m,function(){!f||h===null||(f=!1,m.next?m.next.prev=m.prev:d=m.prev,m.prev?m.prev.next=m.next:h=m.next)}}}}())}function l(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ik)}const c={addNestedSub:function(u){s();const h=r.subscribe(u);let d=!1;return()=>{d||(d=!0,h(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const lN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?re.useLayoutEffect:re.useEffect;function cN({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=re.useMemo(()=>{const c=sN(e);return{store:e,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),s=re.useMemo(()=>e.getState(),[e]);lN(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=t||ws;return re.createElement(l.Provider,{value:a},n)}function Ok(e=ws){const t=e===ws?Mk:Ky(e);return function(){const{store:n}=t();return n}}const uN=Ok();function hN(e=ws){const t=e===ws?uN:Ok(e);return function(){return t().dispatch}}const dN=hN();(e=>{Rk=e})(nN.useSyncExternalStoreWithSelector),(e=>{Ak=e})(Ly.unstable_batchedUpdates);var Lk=typeof global=="object"&&global&&global.Object===Object&&global,pN=typeof self=="object"&&self&&self.Object===Object&&self,bo=Lk||pN||Function("return this")(),_s=bo.Symbol,Dk=Object.prototype,fN=Dk.hasOwnProperty,mN=Dk.toString,ld=_s?_s.toStringTag:void 0,gN=Object.prototype.toString,vN="[object Null]",yN="[object Undefined]",Pk=_s?_s.toStringTag:void 0;function _l(e){return e==null?e===void 0?yN:vN:Pk&&Pk in Object(e)?function(t){var n=fN.call(t,ld),r=t[ld];try{t[ld]=void 0;var i=!0}catch{}var o=mN.call(t);return i&&(n?t[ld]=r:delete t[ld]),o}(e):function(t){return gN.call(t)}(e)}function xs(e){return e!=null&&typeof e=="object"}var bN="[object Symbol]";function w0(e){return typeof e=="symbol"||xs(e)&&_l(e)==bN}function Nk(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ii=Array.isArray,wN=1/0,Bk=_s?_s.prototype:void 0,zk=Bk?Bk.toString:void 0;function Fk(e){if(typeof e=="string")return e;if(Ii(e))return Nk(e,Fk)+"";if(w0(e))return zk?zk.call(e):"";var t=e+"";return t=="0"&&1/e==-wN?"-0":t}var _N=/\s/,xN=/^\s+/;function kN(e){return e&&e.slice(0,function(t){for(var n=t.length;n--&&_N.test(t.charAt(n)););return n}(e)+1).replace(xN,"")}function Oi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Uk=NaN,SN=/^[-+]0x[0-9a-f]+$/i,EN=/^0b[01]+$/i,AN=/^0o[0-7]+$/i,CN=parseInt;function jk(e){if(typeof e=="number")return e;if(w0(e))return Uk;if(Oi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=kN(e);var n=EN.test(e);return n||AN.test(e)?CN(e.slice(2),n?2:8):SN.test(e)?Uk:+e}function Qy(e){return e}var TN="[object AsyncFunction]",MN="[object Function]",RN="[object GeneratorFunction]",IN="[object Proxy]";function Yy(e){if(!Oi(e))return!1;var t=_l(e);return t==MN||t==RN||t==TN||t==IN}var Xy=bo["__core-js_shared__"],Vk=function(){var e=/[^.]+$/.exec(Xy&&Xy.keys&&Xy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ON=Function.prototype.toString;function xl(e){if(e!=null){try{return ON.call(e)}catch{}try{return e+""}catch{}}return""}var LN=/^\[object .+?Constructor\]$/,DN=Function.prototype,PN=Object.prototype,NN=DN.toString,BN=PN.hasOwnProperty,zN=RegExp("^"+NN.call(BN).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FN(e){return!(!Oi(e)||function(t){return!!Vk&&Vk in t}(e))&&(Yy(e)?zN:LN).test(xl(e))}function kl(e,t){var n=function(r,i){return r==null?void 0:r[i]}(e,t);return FN(n)?n:void 0}var Jy=kl(bo,"WeakMap"),qk=Object.create,UN=function(){function e(){}return function(t){if(!Oi(t))return{};if(qk)return qk(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),jN=Date.now;function VN(e){return function(){return e}}var _0=function(){try{var e=kl(Object,"defineProperty");return e({},"",{}),e}catch{}}(),qN=_0?function(e,t){return _0(e,"toString",{configurable:!0,enumerable:!1,value:VN(t),writable:!0})}:Qy,HN=function(e){var t=0,n=0;return function(){var r=jN(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(qN),$N=9007199254740991,GN=/^(?:0|[1-9]\d*)$/;function x0(e,t){var n=typeof e;return!!(t=t??$N)&&(n=="number"||n!="symbol"&&GN.test(e))&&e>-1&&e%1==0&&e<t}function Zy(e,t,n){t=="__proto__"&&_0?_0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function cd(e,t){return e===t||e!=e&&t!=t}var WN=Object.prototype.hasOwnProperty;function Hk(e,t,n){var r=e[t];(!WN.call(e,t)||!cd(r,n)||n===void 0&&!(t in e))&&Zy(e,t,n)}var $k=Math.max;function KN(e,t){return HN(function(n,r,i){return r=$k(r===void 0?n.length-1:r,0),function(){for(var o=arguments,a=-1,s=$k(o.length-r,0),l=Array(s);++a<s;)l[a]=o[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=o[a];return c[r]=i(l),function(u,h,d){switch(d.length){case 0:return u.call(h);case 1:return u.call(h,d[0]);case 2:return u.call(h,d[0],d[1]);case 3:return u.call(h,d[0],d[1],d[2])}return u.apply(h,d)}(n,this,c)}}(e,t,Qy),e+"")}var QN=9007199254740991;function eb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=QN}function ud(e){return e!=null&&eb(e.length)&&!Yy(e)}var YN=Object.prototype;function k0(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||YN)}function Gk(e){return xs(e)&&_l(e)=="[object Arguments]"}var Wk=Object.prototype,XN=Wk.hasOwnProperty,JN=Wk.propertyIsEnumerable,hd=Gk(function(){return arguments}())?Gk:function(e){return xs(e)&&XN.call(e,"callee")&&!JN.call(e,"callee")},Kk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qk=Kk&&typeof module=="object"&&module&&!module.nodeType&&module,Yk=Qk&&Qk.exports===Kk?bo.Buffer:void 0,dd=(Yk?Yk.isBuffer:void 0)||function(){return!1},wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;var Xk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pd=Xk&&typeof module=="object"&&module&&!module.nodeType&&module,tb=pd&&pd.exports===Xk&&Lk.process,Jk=function(){try{return pd&&pd.require&&pd.require("util").types||tb&&tb.binding&&tb.binding("util")}catch{}}(),Zk=Jk&&Jk.isTypedArray,S0=Zk?function(e){return function(t){return e(t)}}(Zk):function(e){return xs(e)&&eb(e.length)&&!!wn[_l(e)]},ZN=Object.prototype.hasOwnProperty;function e8(e,t){var n=Ii(e),r=!n&&hd(e),i=!n&&!r&&dd(e),o=!n&&!r&&!i&&S0(e),a=n||r||i||o,s=a?function(u,h){for(var d=-1,p=Array(u);++d<u;)p[d]=h(d);return p}(e.length,String):[],l=s.length;for(var c in e)(t||ZN.call(e,c))&&(!a||!(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||x0(c,l)))&&s.push(c);return s}function t8(e,t){return function(n){return e(t(n))}}var eB=t8(Object.keys,Object),tB=Object.prototype.hasOwnProperty;function n8(e){if(!k0(e))return eB(e);var t=[];for(var n in Object(e))tB.call(e,n)&&n!="constructor"&&t.push(n);return t}function r8(e){return ud(e)?e8(e):n8(e)}var nB=Object.prototype.hasOwnProperty;function rB(e){if(!Oi(e))return function(i){var o=[];if(i!=null)for(var a in Object(i))o.push(a);return o}(e);var t=k0(e),n=[];for(var r in e)r=="constructor"&&(t||!nB.call(e,r))||n.push(r);return n}function nb(e){return ud(e)?e8(e,!0):rB(e)}var iB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oB=/^\w*$/;function rb(e,t){if(Ii(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!w0(e))||oB.test(e)||!iB.test(e)||t!=null&&e in Object(t)}var fd=kl(Object,"create"),aB=Object.prototype.hasOwnProperty,sB=Object.prototype.hasOwnProperty;function Sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E0(e,t){for(var n=e.length;n--;)if(cd(e[n][0],t))return n;return-1}Sl.prototype.clear=function(){this.__data__=fd?fd(null):{},this.size=0},Sl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Sl.prototype.get=function(e){var t=this.__data__;if(fd){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return aB.call(t,e)?t[e]:void 0},Sl.prototype.has=function(e){var t=this.__data__;return fd?t[e]!==void 0:sB.call(t,e)},Sl.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fd&&t===void 0?"__lodash_hash_undefined__":t,this};var lB=Array.prototype.splice;function Ma(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ma.prototype.clear=function(){this.__data__=[],this.size=0},Ma.prototype.delete=function(e){var t=this.__data__,n=E0(t,e);return!(n<0)&&(n==t.length-1?t.pop():lB.call(t,n,1),--this.size,!0)},Ma.prototype.get=function(e){var t=this.__data__,n=E0(t,e);return n<0?void 0:t[n][1]},Ma.prototype.has=function(e){return E0(this.__data__,e)>-1},Ma.prototype.set=function(e,t){var n=this.__data__,r=E0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var md=kl(bo,"Map");function A0(e,t){var n=e.__data__;return function(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ra(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ra.prototype.clear=function(){this.size=0,this.__data__={hash:new Sl,map:new(md||Ma),string:new Sl}},Ra.prototype.delete=function(e){var t=A0(this,e).delete(e);return this.size-=t?1:0,t},Ra.prototype.get=function(e){return A0(this,e).get(e)},Ra.prototype.has=function(e){return A0(this,e).has(e)},Ra.prototype.set=function(e,t){var n=A0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var cB="Expected a function";function ib(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cB);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ib.Cache||Ra),n}ib.Cache=Ra;var uB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hB=/\\(\\)?/g,dB=function(e){var t=ib(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uB,function(n,r,i,o){t.push(i?o.replace(hB,"$1"):r||n)}),t});function C0(e,t){return Ii(e)?e:rb(e,t)?[e]:dB(function(n){return n==null?"":Fk(n)}(e))}var pB=1/0;function gd(e){if(typeof e=="string"||w0(e))return e;var t=e+"";return t=="0"&&1/e==-pB?"-0":t}function ob(e,t){for(var n=0,r=(t=C0(t,e)).length;e!=null&&n<r;)e=e[gd(t[n++])];return n&&n==r?e:void 0}function i8(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var ab=t8(Object.getPrototypeOf,Object),fB="[object Object]",mB=Function.prototype,gB=Object.prototype,o8=mB.toString,vB=gB.hasOwnProperty,yB=o8.call(Object);function Xo(e){var t=this.__data__=new Ma(e);this.size=t.size}Xo.prototype.clear=function(){this.__data__=new Ma,this.size=0},Xo.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xo.prototype.get=function(e){return this.__data__.get(e)},Xo.prototype.has=function(e){return this.__data__.has(e)},Xo.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ma){var r=n.__data__;if(!md||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ra(r)}return n.set(e,t),this.size=n.size,this};var a8=typeof exports=="object"&&exports&&!exports.nodeType&&exports,s8=a8&&typeof module=="object"&&module&&!module.nodeType&&module,l8=s8&&s8.exports===a8?bo.Buffer:void 0;function c8(){return[]}l8&&l8.allocUnsafe;var bB=Object.prototype.propertyIsEnumerable,u8=Object.getOwnPropertySymbols,h8=u8?function(e){return e==null?[]:(e=Object(e),function(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}(u8(e),function(t){return bB.call(e,t)}))}:c8,wB=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i8(t,h8(e)),e=ab(e);return t}:c8;function d8(e,t,n){var r=t(e);return Ii(e)?r:i8(r,n(e))}function p8(e){return d8(e,r8,h8)}var sb=kl(bo,"DataView"),lb=kl(bo,"Promise"),cb=kl(bo,"Set"),f8="[object Map]",m8="[object Promise]",g8="[object Set]",v8="[object WeakMap]",y8="[object DataView]",_B=xl(sb),xB=xl(md),kB=xl(lb),SB=xl(cb),EB=xl(Jy),Ia=_l;(sb&&Ia(new sb(new ArrayBuffer(1)))!=y8||md&&Ia(new md)!=f8||lb&&Ia(lb.resolve())!=m8||cb&&Ia(new cb)!=g8||Jy&&Ia(new Jy)!=v8)&&(Ia=function(e){var t=_l(e),n=t=="[object Object]"?e.constructor:void 0,r=n?xl(n):"";if(r)switch(r){case _B:return y8;case xB:return f8;case kB:return m8;case SB:return g8;case EB:return v8}return t});var T0=bo.Uint8Array;function AB(e,t){var n=function(r){var i=new r.constructor(r.byteLength);return new T0(i).set(new T0(r)),i}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function M0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ra;++t<n;)this.add(e[t])}function CB(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function TB(e,t){return e.has(t)}M0.prototype.add=M0.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},M0.prototype.has=function(e){return this.__data__.has(e)};var MB=1,RB=2;function b8(e,t,n,r,i,o){var a=n&MB,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,p=n&RB?new M0:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var f=e[h],m=t[h];if(r)var b=a?r(m,f,h,t,e,o):r(f,m,h,e,t,o);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!CB(t,function(v,_){if(!TB(p,_)&&(f===v||i(f,v,n,r,o)))return p.push(_)})){d=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function IB(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function OB(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var LB=1,DB=2,PB="[object Boolean]",NB="[object Date]",BB="[object Error]",zB="[object Map]",FB="[object Number]",UB="[object RegExp]",jB="[object Set]",VB="[object String]",qB="[object Symbol]",HB="[object ArrayBuffer]",$B="[object DataView]",w8=_s?_s.prototype:void 0,ub=w8?w8.valueOf:void 0,GB=1,WB=Object.prototype.hasOwnProperty,KB=1,_8="[object Arguments]",x8="[object Array]",R0="[object Object]",k8=Object.prototype.hasOwnProperty;function QB(e,t,n,r,i,o){var a=Ii(e),s=Ii(t),l=a?x8:Ia(e),c=s?x8:Ia(t),u=(l=l==_8?R0:l)==R0,h=(c=c==_8?R0:c)==R0,d=l==c;if(d&&dd(e)){if(!dd(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new Xo),a||S0(e)?b8(e,t,n,r,i,o):function(v,_,w,x,E,M,T){switch(w){case $B:if(v.byteLength!=_.byteLength||v.byteOffset!=_.byteOffset)return!1;v=v.buffer,_=_.buffer;case HB:return!(v.byteLength!=_.byteLength||!M(new T0(v),new T0(_)));case PB:case NB:case FB:return cd(+v,+_);case BB:return v.name==_.name&&v.message==_.message;case UB:case VB:return v==_+"";case zB:var S=IB;case jB:var C=x&LB;if(S||(S=OB),v.size!=_.size&&!C)return!1;var P=T.get(v);if(P)return P==_;x|=DB,T.set(v,_);var U=b8(S(v),S(_),x,E,M,T);return T.delete(v),U;case qB:if(ub)return ub.call(v)==ub.call(_)}return!1}(e,t,l,n,r,i,o);if(!(n&KB)){var p=u&&k8.call(e,"__wrapped__"),f=h&&k8.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,b=f?t.value():t;return o||(o=new Xo),i(m,b,n,r,o)}}return!!d&&(o||(o=new Xo),function(v,_,w,x,E,M){var T=w&GB,S=p8(v),C=S.length;if(C!=p8(_).length&&!T)return!1;for(var P=C;P--;){var U=S[P];if(!(T?U in _:WB.call(_,U)))return!1}var W=M.get(v),te=M.get(_);if(W&&te)return W==_&&te==v;var ne=!0;M.set(v,_),M.set(_,v);for(var ae=T;++P<C;){var he=v[U=S[P]],fe=_[U];if(x)var le=T?x(fe,he,U,_,v,M):x(he,fe,U,v,_,M);if(!(le===void 0?he===fe||E(he,fe,w,x,M):le)){ne=!1;break}ae||(ae=U=="constructor")}if(ne&&!ae){var N=v.constructor,H=_.constructor;N!=H&&"constructor"in v&&"constructor"in _&&!(typeof N=="function"&&N instanceof N&&typeof H=="function"&&H instanceof H)&&(ne=!1)}return M.delete(v),M.delete(_),ne}(e,t,n,r,i,o))}function hb(e,t,n,r,i){return e===t||(e==null||t==null||!xs(e)&&!xs(t)?e!=e&&t!=t:QB(e,t,n,r,hb,i))}var YB=1,XB=2;function S8(e){return e==e&&!Oi(e)}function E8(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}}function JB(e){var t=function(n){for(var r=r8(n),i=r.length;i--;){var o=r[i],a=n[o];r[i]=[o,a,S8(a)]}return r}(e);return t.length==1&&t[0][2]?E8(t[0][0],t[0][1]):function(n){return n===e||function(r,i,o,a){var s=o.length,l=s;if(r==null)return!l;for(r=Object(r);s--;){var c=o[s];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++s<l;){var u=(c=o[s])[0],h=r[u],d=c[1];if(c[2]){if(h===void 0&&!(u in r))return!1}else{var p=new Xo;if(!hb(d,h,YB|XB,a,p))return!1}}return!0}(n,0,t)}}function ZB(e,t){return e!=null&&t in Object(e)}function ez(e,t){return e!=null&&function(n,r,i){for(var o=-1,a=(r=C0(r,n)).length,s=!1;++o<a;){var l=gd(r[o]);if(!(s=n!=null&&i(n,l)))break;n=n[l]}return s||++o!=a?s:!!(a=n==null?0:n.length)&&eb(a)&&x0(l,a)&&(Ii(n)||hd(n))}(e,t,ZB)}var tz=1,nz=2;function rz(e,t){return rb(e)&&S8(t)?E8(gd(e),t):function(n){var r=function(i,o,a){var s=i==null?void 0:ob(i,o);return s===void 0?a:s}(n,e);return r===void 0&&r===t?ez(n,e):hb(t,r,tz|nz)}}function iz(e){return rb(e)?function(t){return function(n){return n==null?void 0:n[t]}}(gd(e)):function(t){return function(n){return ob(n,t)}}(e)}function A8(e){return typeof e=="function"?e:e==null?Qy:typeof e=="object"?Ii(e)?rz(e[0],e[1]):JB(e):iz(e)}var oz=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(t(i[s],s,i)===!1)break}return e},db=function(){return bo.Date.now()},az=Math.max,sz=Math.min;function lz(e,t,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,d=!0;if(typeof e!="function")throw new TypeError("Expected a function");function p(_){var w=r,x=i;return r=i=void 0,c=_,a=e.apply(x,w)}function f(_){var w=_-l;return l===void 0||w>=t||w<0||h&&_-c>=o}function m(){var _=db();if(f(_))return b(_);s=setTimeout(m,function(w){var x=t-(w-l);return h?sz(x,o-(w-c)):x}(_))}function b(_){return s=void 0,d&&r?p(_):(r=i=void 0,a)}function v(){var _=db(),w=f(_);if(r=arguments,i=this,l=_,w){if(s===void 0)return function(x){return c=x,s=setTimeout(m,t),u?p(x):a}(l);if(h)return clearTimeout(s),s=setTimeout(m,t),p(l)}return s===void 0&&(s=setTimeout(m,t)),a}return t=jk(t)||0,Oi(n)&&(u=!!n.leading,o=(h="maxWait"in n)?az(jk(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),v.cancel=function(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return s===void 0?a:b(db())},v}function pb(e,t,n){(n!==void 0&&!cd(e[t],n)||n===void 0&&!(t in e))&&Zy(e,t,n)}function fb(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]}function cz(e){return function(t,n,r,i){var o=!r;r||(r={});for(var a=-1,s=n.length;++a<s;){var l=n[a],c=void 0;c===void 0&&(c=t[l]),o?Zy(r,l,c):Hk(r,l,c)}return r}(e,nb(e))}function uz(e,t,n,r,i,o,a){var s=fb(e,n),l=fb(t,n),c=a.get(l);if(c)pb(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,h=u===void 0;if(h){var d=Ii(l),p=!d&&dd(l),f=!d&&!p&&S0(l);u=l,d||p||f?Ii(s)?u=s:function(m){return xs(m)&&ud(m)}(s)?u=function(m,b){var v=-1,_=m.length;for(b||(b=Array(_));++v<_;)b[v]=m[v];return b}(s):p?(h=!1,u=function(m,b){return m.slice()}(l)):f?(h=!1,u=AB(l)):u=[]:function(m){if(!xs(m)||_l(m)!=fB)return!1;var b=ab(m);if(b===null)return!0;var v=vB.call(b,"constructor")&&b.constructor;return typeof v=="function"&&v instanceof v&&o8.call(v)==yB}(l)||hd(l)?(u=s,hd(s)?u=cz(s):(!Oi(s)||Yy(s))&&(u=function(m){return typeof m.constructor!="function"||k0(m)?{}:UN(ab(m))}(l))):h=!1}h&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),pb(e,n,u)}}function C8(e,t,n,r,i){e!==t&&oz(t,function(o,a){if(i||(i=new Xo),Oi(o))uz(e,t,a,n,C8,r,i);else{var s=r?r(fb(e,a),o,a+"",e,t,i):void 0;s===void 0&&(s=o),pb(e,a,s)}},nb)}function mb(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hz="[object Map]",dz="[object Set]",pz=Object.prototype.hasOwnProperty;function ar(e){if(e==null)return!0;if(ud(e)&&(Ii(e)||typeof e=="string"||typeof e.splice=="function"||dd(e)||S0(e)||hd(e)))return!e.length;var t=Ia(e);if(t==hz||t==dz)return!e.size;if(k0(e))return!n8(e).length;for(var n in e)if(pz.call(e,n))return!1;return!0}function fz(e){return e==null}var gb=function(e){return KN(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,a&&function(l,c,u){if(!Oi(u))return!1;var h=typeof c;return!!(h=="number"?ud(u)&&x0(c,u.length):h=="string"&&c in u)&&cd(u[c],l)}(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}(function(e,t,n){C8(e,t,n)}),mz="Expected a function";function gz(e,t,n,r){if(!Oi(e))return e;for(var i=-1,o=(t=C0(t,e)).length,a=o-1,s=e;s!=null&&++i<o;){var l=gd(t[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=a){var u=s[l];(c=void 0)==void 0&&(c=Oi(u)?u:x0(t[i+1])?[]:{})}Hk(s,l,c),s=s[l]}return e}function vz(e,t){if(e==null)return{};var n=Nk(function(r){return d8(r,nb,wB)}(e),function(r){return[r]});return t=A8(t),function(r,i,o){for(var a=-1,s=i.length,l={};++a<s;){var c=i[a],u=ob(r,c);o(u,c)&&gz(l,C0(c,r),u)}return l}(e,n,function(r,i){return t(r,i[0])})}function yz(e,t){return vz(e,function(n){if(typeof n!="function")throw new TypeError(mz);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}(A8(t)))}function vd(e,t){return vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vd(e,t)}function T8(e){return(T8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function M8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M8=function(){return!!e})()}function vb(e){var t=typeof Map=="function"?new Map:void 0;return vb=function(n){if(n===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return function(i,o,a){if(M8())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,o);var l=new(i.bind.apply(i,s));return a&&vd(l,a.prototype),l}(n,arguments,T8(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),vd(r,n)},vb(e)}var Jo=function(e){function t(n){return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this)}return function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,vd(n,r)}(t,e),t}(vb(Error));function yb(e){return Math.round(255*e)}function bz(e,t,n){return yb(e)+","+yb(t)+","+yb(n)}function yd(e,t,n,r){if(r===void 0&&(r=bz),t===0)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2;return r(s+u,l+u,c+u)}var R8={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},wz=/^#[a-fA-F0-9]{6}$/,_z=/^#[a-fA-F0-9]{8}$/,xz=/^#[a-fA-F0-9]{3}$/,kz=/^#[a-fA-F0-9]{4}$/,bb=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,Sz=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,Ez=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Az=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function El(e){if(typeof e!="string")throw new Jo(3);var t=function(d){if(typeof d!="string")return d;var p=d.toLowerCase();return R8[p]?"#"+R8[p]:d}(e);if(t.match(wz))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(_z)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(xz))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(kz)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=bb.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=Sz.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=Ez.exec(t);if(a){var s="rgb("+yd(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",l=bb.exec(s);if(!l)throw new Jo(4,t,s);return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10)}}var c=Az.exec(t.substring(0,50));if(c){var u="rgb("+yd(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",h=bb.exec(u);if(!h)throw new Jo(4,t,u);return{red:parseInt(""+h[1],10),green:parseInt(""+h[2],10),blue:parseInt(""+h[3],10),alpha:parseFloat(""+c[4])>1?parseFloat(""+c[4])/100:parseFloat(""+c[4])}}throw new Jo(5)}function ks(e){return function(t){var n=t.red/255,r=t.green/255,i=t.blue/255,o=Math.max(n,r,i),a=Math.min(n,r,i),s=(o+a)/2;if(o===a)return t.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:t.alpha}:{hue:0,saturation:0,lightness:s};var l,c=o-a,u=s>.5?c/(2-o-a):c/(o+a);switch(o){case n:l=(r-i)/c+(r<i?6:0);break;case r:l=(i-n)/c+2;break;default:l=(n-r)/c+4}return l*=60,t.alpha!==void 0?{hue:l,saturation:u,lightness:s,alpha:t.alpha}:{hue:l,saturation:u,lightness:s}}(El(e))}var wb=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function Al(e){var t=e.toString(16);return t.length===1?"0"+t:t}function _b(e){return Al(Math.round(255*e))}function Cz(e,t,n){return wb("#"+_b(e)+_b(t)+_b(n))}function I0(e,t,n){return yd(e,t,n,Cz)}function xb(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return wb("#"+Al(e)+Al(t)+Al(n));if(typeof e=="object"&&t===void 0&&n===void 0)return wb("#"+Al(e.red)+Al(e.green)+Al(e.blue));throw new Jo(6)}function O0(e,t,n,r){if(typeof e=="string"&&typeof t=="number"){var i=El(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?xb(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?xb(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Jo(7)}var Tz=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},Mz=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},Rz=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},Iz=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function Ss(e){if(typeof e!="object")throw new Jo(8);if(Mz(e))return O0(e);if(Tz(e))return xb(e);if(Iz(e))return function(t,n,r,i){if(typeof t=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number")return i>=1?I0(t,n,r):"rgba("+yd(t,n,r)+","+i+")";if(typeof t=="object"&&n===void 0&&r===void 0&&i===void 0)return t.alpha>=1?I0(t.hue,t.saturation,t.lightness):"rgba("+yd(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new Jo(2)}(e);if(Rz(e))return function(t,n,r){if(typeof t=="number"&&typeof n=="number"&&typeof r=="number")return I0(t,n,r);if(typeof t=="object"&&n===void 0&&r===void 0)return I0(t.hue,t.saturation,t.lightness);throw new Jo(1)}(e);throw new Jo(8)}function I8(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):I8(e,t,r)}}function Li(e){return I8(e,e.length,[])}function iu(e,t,n){return Math.max(e,Math.min(t,n))}Li(function(e,t){if(t==="transparent")return t;var n=ks(t);return Ss(Xr({},n,{hue:n.hue+parseFloat(e)}))});var Oz=Li(function(e,t){if(t==="transparent")return t;var n=ks(t);return Ss(Xr({},n,{lightness:iu(0,1,n.lightness-parseFloat(e))}))}),L0=Oz;Li(function(e,t){if(t==="transparent")return t;var n=ks(t);return Ss(Xr({},n,{saturation:iu(0,1,n.saturation-parseFloat(e))}))});var Lz=Li(function(e,t){if(t==="transparent")return t;var n=ks(t);return Ss(Xr({},n,{lightness:iu(0,1,n.lightness+parseFloat(e))}))}),ou=Lz,Dz=Li(function(e,t,n){if(t==="transparent")return n;if(n==="transparent")return t;if(e===0)return n;var r=El(t),i=Xr({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),o=El(n),a=Xr({},o,{alpha:typeof o.alpha=="number"?o.alpha:1}),s=i.alpha-a.alpha,l=2*parseFloat(e)-1,c=((l*s==-1?l:l+s)/(1+l*s)+1)/2,u=1-c;return O0({red:Math.floor(i.red*c+a.red*u),green:Math.floor(i.green*c+a.green*u),blue:Math.floor(i.blue*c+a.blue*u),alpha:i.alpha*parseFloat(e)+a.alpha*(1-parseFloat(e))})}),O8=Dz;function wo(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Es(e){return!!e&&!!e[En]}function Oa(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Uz}(e)||Array.isArray(e)||!!e[V8]||!((t=e.constructor)===null||t===void 0||!t[V8])||kb(e)||Sb(e))}function Cl(e,t,n){n===void 0&&(n=!1),au(e)===0?(n?Object.keys:lu)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function au(e){var t=e[En];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:kb(e)?2:Sb(e)?3:0}function su(e,t){return au(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function L8(e,t,n){var r=au(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function D8(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function kb(e){return zz&&e instanceof Map}function Sb(e){return Fz&&e instanceof Set}function Tl(e){return e.o||e.t}function Eb(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=q8(e);delete t[En];for(var n=lu(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Ab(e,t){return t===void 0&&(t=!1),Cb(e)||Es(e)||!Oa(e)||(au(e)>1&&(e.set=e.add=e.clear=e.delete=Pz),Object.freeze(e),t&&Cl(e,function(n,r){return Ab(r,!0)},!0)),e}function Pz(){wo(2)}function Cb(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Zo(e){var t=Nb[e];return t||wo(18,e),t}function Tb(){return bd}function Mb(e,t){t&&(Zo("Patches"),e.u=[],e.s=[],e.v=t)}function D0(e){Rb(e),e.p.forEach(Nz),e.p=null}function Rb(e){e===bd&&(bd=e.l)}function P8(e){return bd={p:[],l:bd,h:e,m:!0,_:0}}function Nz(e){var t=e[En];t.i===0||t.i===1?t.j():t.g=!0}function Ib(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Zo("ES5").S(t,e,r),r?(n[En].P&&(D0(t),wo(4)),Oa(e)&&(e=P0(t,e),t.l||N0(t,e)),t.u&&Zo("Patches").M(n[En].t,e,t.u,t.s)):e=P0(t,n,[]),D0(t),t.u&&t.v(t.u,t.s),e!==j8?e:void 0}function P0(e,t,n){if(Cb(t))return t;var r=t[En];if(!r)return Cl(t,function(s,l){return N8(e,r,t,s,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return N0(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Eb(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),Cl(o,function(s,l){return N8(e,r,i,s,l,n,a)}),N0(e,i,!1),n&&e.u&&Zo("Patches").N(r,n,e.u,e.s)}return r.o}function N8(e,t,n,r,i,o,a){if(Es(i)){var s=P0(e,i,o&&t&&t.i!==3&&!su(t.R,r)?o.concat(r):void 0);if(L8(n,r,s),!Es(s))return;e.m=!1}else a&&n.add(i);if(Oa(i)&&!Cb(i)){if(!e.h.D&&e._<1)return;P0(e,i),t&&t.A.l||N0(e,i)}}function N0(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&Ab(t,n)}function Ob(e,t){var n=e[En];return(n?Tl(n):e)[t]}function B8(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function As(e){e.P||(e.P=!0,e.l&&As(e.l))}function Lb(e){e.o||(e.o=Eb(e.t))}function Db(e,t,n){var r=kb(t)?Zo("MapSet").F(t,n):Sb(t)?Zo("MapSet").T(t,n):e.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:Tb(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,c=wd;a&&(l=[s],c=_d);var u=Proxy.revocable(l,c),h=u.revoke,d=u.proxy;return s.k=d,s.j=h,d}(t,n):Zo("ES5").J(t,n);return(n?n.A:Tb()).p.push(r),r}function Bz(e){return Es(e)||wo(22,e),function t(n){if(!Oa(n))return n;var r,i=n[En],o=au(n);if(i){if(!i.P&&(i.i<4||!Zo("ES5").K(i)))return i.t;i.I=!0,r=z8(n,o),i.I=!1}else r=z8(n,o);return Cl(r,function(a,s){i&&function(l,c){return au(l)===2?l.get(c):l[c]}(i.t,a)===s||L8(r,a,t(s))}),o===3?new Set(r):r}(e)}function z8(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Eb(e)}Li(function(e,t){if(t==="transparent")return t;var n=El(t);return O0(Xr({},n,{alpha:iu(0,1,(100*(typeof n.alpha=="number"?n.alpha:1)+100*parseFloat(e))/100)}))}),Li(function(e,t){if(t==="transparent")return t;var n=ks(t);return Ss(Xr({},n,{saturation:iu(0,1,n.saturation+parseFloat(e))}))}),Li(function(e,t){return t==="transparent"?t:Ss(Xr({},ks(t),{hue:parseFloat(e)}))}),Li(function(e,t){return t==="transparent"?t:Ss(Xr({},ks(t),{lightness:parseFloat(e)}))}),Li(function(e,t){return t==="transparent"?t:Ss(Xr({},ks(t),{saturation:parseFloat(e)}))}),Li(function(e,t){return t==="transparent"?t:O8(parseFloat(e),"rgb(0, 0, 0)",t)}),Li(function(e,t){return t==="transparent"?t:O8(parseFloat(e),"rgb(255, 255, 255)",t)}),Li(function(e,t){if(t==="transparent")return t;var n=El(t);return O0(Xr({},n,{alpha:iu(0,1,+(100*(typeof n.alpha=="number"?n.alpha:1)-100*parseFloat(e)).toFixed(2)/100)}))});var F8,bd,Pb=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",zz=typeof Map<"u",Fz=typeof Set<"u",U8=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",j8=Pb?Symbol.for("immer-nothing"):((F8={})["immer-nothing"]=!0,F8),V8=Pb?Symbol.for("immer-draftable"):"__$immer_draftable",En=Pb?Symbol.for("immer-state"):"__$immer_state",Uz=""+Object.prototype.constructor,lu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,q8=Object.getOwnPropertyDescriptors||function(e){var t={};return lu(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Nb={},wd={get:function(e,t){if(t===En)return e;var n=Tl(e);if(!su(n,t))return function(i,o,a){var s,l=B8(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Oa(r)?r:r===Ob(e.t,t)?(Lb(e),e.o[t]=Db(e.A.h,r,e)):r},has:function(e,t){return t in Tl(e)},ownKeys:function(e){return Reflect.ownKeys(Tl(e))},set:function(e,t,n){var r=B8(Tl(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ob(Tl(e),t),o=i==null?void 0:i[En];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(D8(n,i)&&(n!==void 0||su(e.t,t)))return!0;Lb(e),As(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Ob(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Lb(e),As(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Tl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){wo(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){wo(12)}},_d={};Cl(wd,function(e,t){_d[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),_d.deleteProperty=function(e,t){return _d.set.call(this,e,t,void 0)},_d.set=function(e,t,n){return wd.set.call(this,e[0],t,n,e[0])};var jz=function(){function e(n){var r=this;this.O=U8,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=r;return function(m){var b=this;m===void 0&&(m=s);for(var v=arguments.length,_=Array(v>1?v-1:0),w=1;w<v;w++)_[w-1]=arguments[w];return l.produce(m,function(x){var E;return(E=o).call.apply(E,[b,x].concat(_))})}}var c;if(typeof o!="function"&&wo(6),a!==void 0&&typeof a!="function"&&wo(7),Oa(i)){var u=P8(r),h=Db(r,i,void 0),d=!0;try{c=o(h),d=!1}finally{d?D0(u):Rb(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(m){return Mb(u,a),Ib(m,u)},function(m){throw D0(u),m}):(Mb(u,a),Ib(c,u))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===j8&&(c=void 0),r.D&&Ab(c,!0),a){var p=[],f=[];Zo("Patches").M(i,c,p,f),a(p,f)}return c}wo(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var u=arguments.length,h=Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return r.produceWithPatches(c,function(p){return i.apply(void 0,[p].concat(h))})};var a,s,l=r.produce(i,o,function(c,u){a=c,s=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Oa(n)||wo(8),Es(n)&&(n=Bz(n));var r=P8(this),i=Db(this,n,void 0);return i[En].C=!0,Rb(r),i},t.finishDraft=function(n,r){var i=(n&&n[En]).A;return Mb(i,r),Ib(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!U8&&wo(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=Zo("Patches").$;return Es(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},e}(),Di=new jz,Vz=Di.produce;Di.produceWithPatches.bind(Di),Di.setAutoFreeze.bind(Di),Di.setUseProxies.bind(Di),Di.applyPatches.bind(Di),Di.createDraft.bind(Di),Di.finishDraft.bind(Di);const H8=Vz;function B0(e){return(B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qz(e){var t=function(n,r){if(B0(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r||"default");if(B0(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return B0(t)=="symbol"?t:t+""}function Hz(e,t,n){return(t=qz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(n),!0).forEach(function(r){Hz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var W8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bb=function(){return Math.random().toString(36).substring(7).split("").join(".")},z0={INIT:"@@redux/INIT"+Bb(),REPLACE:"@@redux/REPLACE"+Bb(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Bb()}};function K8(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Lr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Lr(1));return n(K8)(e,t)}if(typeof e!="function")throw new Error(Lr(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Lr(3));return o}function h(p){if(typeof p!="function")throw new Error(Lr(4));if(l)throw new Error(Lr(5));var f=!0;return c(),s.push(p),function(){if(f){if(l)throw new Error(Lr(6));f=!1,c();var m=s.indexOf(p);s.splice(m,1),a=null}}}function d(p){if(!function(b){if(typeof b!="object"||b===null)return!1;for(var v=b;Object.getPrototypeOf(v)!==null;)v=Object.getPrototypeOf(v);return Object.getPrototypeOf(b)===v}(p))throw new Error(Lr(7));if(typeof p.type>"u")throw new Error(Lr(8));if(l)throw new Error(Lr(9));try{l=!0,o=i(o,p)}finally{l=!1}for(var f=a=s,m=0;m<f.length;m++)(0,f[m])();return p}return d({type:z0.INIT}),r={dispatch:d,subscribe:h,getState:u,replaceReducer:function(p){if(typeof p!="function")throw new Error(Lr(10));i=p,d({type:z0.REPLACE})}},r[W8]=function(){var p,f=h;return p={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Lr(11));function b(){m.next&&m.next(u())}return b(),{unsubscribe:f(b)}}},p[W8]=function(){return this},p},r}function $z(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o,a=Object.keys(n);try{(function(s){Object.keys(s).forEach(function(l){var c=s[l];if(typeof c(void 0,{type:z0.INIT})>"u")throw new Error(Lr(12));if(typeof c(void 0,{type:z0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Lr(13))})})(n)}catch(s){o=s}return function(s,l){if(s===void 0&&(s={}),o)throw o;for(var c=!1,u={},h=0;h<a.length;h++){var d=a[h],p=n[d],f=s[d],m=p(f,l);if(typeof m>"u")throw l&&l.type,new Error(Lr(14));u[d]=m,c=c||m!==f}return(c=c||a.length!==Object.keys(s).length)?u:s}}function F0(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function Gz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Lr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return o=F0.apply(void 0,s)(i.dispatch),G8(G8({},i),{},{dispatch:o})}}}var U0="NOT_FOUND",Wz=function(e,t){return e===t};function Kz(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?Wz:r,o=n.maxSize,a=o===void 0?1:o,s=n.resultEqualityCheck,l=function(h){return function(d,p){if(d===null||p===null||d.length!==p.length)return!1;for(var f=d.length,m=0;m<f;m++)if(!h(d[m],p[m]))return!1;return!0}}(i),c=a===1?function(h){var d;return{get:function(p){return d&&h(d.key,p)?d.value:U0},put:function(p,f){d={key:p,value:f}},getEntries:function(){return d?[d]:[]},clear:function(){d=void 0}}}(l):function(h,d){var p=[];function f(m){var b=p.findIndex(function(_){return d(m,_.key)});if(b>-1){var v=p[b];return b>0&&(p.splice(b,1),p.unshift(v)),v.value}return U0}return{get:f,put:function(m,b){f(m)===U0&&(p.unshift({key:m,value:b}),p.length>h&&p.pop())},getEntries:function(){return p},clear:function(){p=[]}}}(a,l);function u(){var h=c.get(arguments);if(h===U0){if(h=e.apply(null,arguments),s){var d=c.getEntries().find(function(p){return s(p.value,h)});d&&(h=d.value)}c.put(arguments,h)}return h}return u.clearCache=function(){return c.clear()},u}function Qz(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s,l=0,c={memoizeOptions:void 0},u=o.pop();if(typeof u=="object"&&(c=u,u=o.pop()),typeof u!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var h=c.memoizeOptions,d=h===void 0?n:h,p=Array.isArray(d)?d:[d],f=function(v){var _=Array.isArray(v[0])?v[0]:v;if(!_.every(function(x){return typeof x=="function"})){var w=_.map(function(x){return typeof x=="function"?"function "+(x.name||"unnamed")+"()":typeof x}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+w+"]")}return _}(o),m=e.apply(void 0,[function(){return l++,u.apply(null,arguments)}].concat(p)),b=e(function(){for(var v=[],_=f.length,w=0;w<_;w++)v.push(f[w].apply(null,arguments));return s=m.apply(null,v)});return Object.assign(b,{resultFunc:u,memoizedResultFunc:m,dependencies:f,lastResult:function(){return s},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),b}}var Q8=Qz(Kz);function Y8(e){return function(t){var n=t.dispatch,r=t.getState;return function(i){return function(o){return typeof o=="function"?o(n,r,e):i(o)}}}}var zb=Y8();zb.withExtraArgument=Y8;var X8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yz=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(h){u=[6,h],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}},cu=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Xz=Object.defineProperty,Jz=Object.defineProperties,Zz=Object.getOwnPropertyDescriptors,J8=Object.getOwnPropertySymbols,eF=Object.prototype.hasOwnProperty,tF=Object.prototype.propertyIsEnumerable,Z8=function(e,t,n){return t in e?Xz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Cs=function(e,t){for(var n in t||(t={}))eF.call(t,n)&&Z8(e,n,t[n]);if(J8)for(var r=0,i=J8(t);r<i.length;r++)n=i[r],tF.call(t,n)&&Z8(e,n,t[n]);return e},Fb=function(e,t){return Jz(e,Zz(t))},nF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?F0:F0.apply(null,arguments)};function Ts(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Cs(Cs({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var rF=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return X8(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,cu([void 0],n[0].concat(this)))):new(t.bind.apply(t,cu([void 0],n.concat(this))))},t}(Array),iF=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return X8(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,cu([void 0],n[0].concat(this)))):new(t.bind.apply(t,cu([void 0],n.concat(this))))},t}(Array);function Ub(e){return Oa(e)?H8(e,function(){}):e}function oF(){return function(e){return function(t){t===void 0&&(t={});var n=t.thunk,r=n===void 0||n;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var i=new rF;return r&&(function(o){return typeof o=="boolean"}(r)?i.push(zb):i.push(zb.withExtraArgument(r.extraArgument))),i}(e)}}function e7(e){var t,n={},r=[],i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[s]=a,i},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return t=o,i}};return e(i),[n,r,t]}function jb(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r=typeof e.initialState=="function"?e.initialState:Ub(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var u=typeof e.extraReducers=="function"?e7(e.extraReducers):[e.extraReducers],h=u[0],d=h===void 0?{}:h,p=u[1],f=p===void 0?[]:p,m=u[2],b=m===void 0?void 0:m,v=Cs(Cs({},d),s);return function(_,w,x,E){x===void 0&&(x=[]);var M,T=typeof w=="function"?e7(w):[w,x,E],S=T[0],C=T[1],P=T[2];if(function(te){return typeof te=="function"}(_))M=function(){return Ub(_())};else{var U=Ub(_);M=function(){return U}}function W(te,ne){te===void 0&&(te=M());var ae=cu([S[ne.type]],C.filter(function(he){return(0,he.matcher)(ne)}).map(function(he){return he.reducer}));return ae.filter(function(he){return!!he}).length===0&&(ae=[P]),ae.reduce(function(he,fe){if(fe){var le;if(Es(he))return(le=fe(he,ne))===void 0?he:le;if(Oa(he))return H8(he,function(N){return fe(N,ne)});if((le=fe(he,ne))===void 0){if(he===null)return he;throw Error("A case reducer on a non-draftable value must not return undefined")}return le}return he},te)}return W.getInitialState=M,W}(r,function(_){for(var w in v)_.addCase(w,v[w]);for(var x=0,E=f;x<E.length;x++){var M=E[x];_.addMatcher(M.matcher,M.reducer)}b&&_.addDefaultCase(b)})}return o.forEach(function(u){var h,d,p=i[u],f=function(m,b){return m+"/"+b}(t,u);"reducer"in p?(h=p.reducer,d=p.prepare):h=p,a[u]=h,s[f]=h,l[u]=d?Ts(f,d):Ts(f)}),{name:t,reducer:function(u,h){return n||(n=c()),n(u,h)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var aF=["name","message","stack","code"],Vb=function(){return function(e,t){this.payload=e,this.meta=t}}(),t7=function(){return function(e,t){this.payload=e,this.meta=t}}(),sF=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=aF;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},uu=function(){function e(t,n,r){var i=Ts(t+"/fulfilled",function(l,c,u,h){return{payload:l,meta:Fb(Cs({},h||{}),{arg:u,requestId:c,requestStatus:"fulfilled"})}}),o=Ts(t+"/pending",function(l,c,u){return{payload:void 0,meta:Fb(Cs({},u||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),a=Ts(t+"/rejected",function(l,c,u,h,d){return{payload:h,error:(r&&r.serializeError||sF)(l||"Rejected"),meta:Fb(Cs({},d||{}),{arg:u,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();return Object.assign(function(l){return function(c,u,h){var d,p=r!=null&&r.idGenerator?r.idGenerator(l):function(v){v===void 0&&(v=21);for(var _="",w=v;w--;)_+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return _}(),f=new s;function m(v){d=v,f.abort()}var b=function(){return function(v,_,w){return new Promise(function(x,E){var M=function(C){try{S(w.next(C))}catch(P){E(P)}},T=function(C){try{S(w.throw(C))}catch(P){E(P)}},S=function(C){return C.done?x(C.value):Promise.resolve(C.value).then(M,T)};S((w=w.apply(v,_)).next())})}(this,null,function(){var v,_,w,x,E,M;return Yz(this,function(T){switch(T.label){case 0:return T.trys.push([0,4,,5]),function(S){return S!==null&&typeof S=="object"&&typeof S.then=="function"}(x=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,l,{getState:u,extra:h}))?[4,x]:[3,2];case 1:x=T.sent(),T.label=2;case 2:if(x===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(S,C){return f.signal.addEventListener("abort",function(){return C({name:"AbortError",message:d||"Aborted"})})}),c(o(p,l,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:p,arg:l},{getState:u,extra:h}))),[4,Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:u,extra:h,requestId:p,signal:f.signal,abort:m,rejectWithValue:function(S,C){return new Vb(S,C)},fulfillWithValue:function(S,C){return new t7(S,C)}})).then(function(S){if(S instanceof Vb)throw S;return S instanceof t7?i(S.payload,p,l,S.meta):i(S,p,l)})])];case 3:return w=T.sent(),[3,5];case 4:return M=T.sent(),w=M instanceof Vb?a(null,p,l,M.payload,M.meta):a(M,p,l),[3,5];case 5:return r&&!r.dispatchConditionRejection&&a.match(w)&&w.meta.condition||c(w),[2,w]}})})}();return Object.assign(b,{abort:m,requestId:p,arg:l,unwrap:function(){return b.then(lF)}})}},{pending:o,rejected:a,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function lF(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var qb="listenerMiddleware";Ts(qb+"/add"),Ts(qb+"/removeAll"),Ts(qb+"/remove"),typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),function(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var l=this[En];return wd.get(l,o)},set:function(l){var c=this[En];wd.set(c,o,l)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][En];if(!s.P)switch(s.i){case 5:r(s)&&As(s);break;case 4:n(s)&&As(s)}}}function n(o){for(var a=o.t,s=o.k,l=lu(s),c=l.length-1;c>=0;c--){var u=l[c];if(u!==En){var h=a[u];if(h===void 0&&!su(a,u))return!0;var d=s[u],p=d&&d[En];if(p?p.t!==h:!D8(d,h))return!0}}var f=!!a[En];return l.length!==lu(a).length+(f?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};(function(o,a){Nb[o]||(Nb[o]=a)})("ES5",{J:function(o,a){var s=Array.isArray(o),l=function(u,h){if(u){for(var d=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(d,""+p,e(p,!0));return d}var f=q8(h);delete f[En];for(var m=lu(f),b=0;b<m.length;b++){var v=m[b];f[v]=e(v,u||!!f[v].enumerable)}return Object.create(Object.getPrototypeOf(h),f)}(s,o),c={i:s?5:4,A:a?a.A:Tb(),P:!1,I:!1,R:{},l:a,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,En,{value:c,writable:!0}),l},S:function(o,a,s){s?Es(a)&&a[En].A===o&&t(o.p):(o.u&&function l(c){if(c&&typeof c=="object"){var u=c[En];if(u){var h=u.t,d=u.k,p=u.R,f=u.i;if(f===4)Cl(d,function(w){w!==En&&(h[w]!==void 0||su(h,w)?p[w]||l(d[w]):(p[w]=!0,As(u)))}),Cl(h,function(w){d[w]!==void 0||su(d,w)||(p[w]=!1,As(u))});else if(f===5){if(r(u)&&(As(u),p.length=!0),d.length<h.length)for(var m=d.length;m<h.length;m++)p[m]=!1;else for(var b=h.length;b<d.length;b++)p[b]=!0;for(var v=Math.min(d.length,h.length),_=0;_<v;_++)d.hasOwnProperty(_)||(p[_]=!0),p[_]===void 0&&l(d[_])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}();const n7={autoScrollToBottom:!0,enableResize:!0,enableClose:!0,enableExpand:!0,enableRefresh:!0,enableSendMessage:!0,enableMessageComposer:!0,showAgreement:!1,expiredTime:1800,style:{width:400,height:650}},cF=[{code:"en",title:"English",selected:!1},{code:"es",title:"Spanish",selected:!1},{code:"de",title:"German",selected:!1},{code:"zh",title:"Chinese",selected:!1},{code:"hi",title:"Hindi",selected:!1},{code:"ko",title:"Korean",selected:!1}].sort((e,t)=>e.title.localeCompare(t.title)),uF={en:{translation:{typeYourMessage:"Type your message...",thinking:"Thinking...",listening:"Listening...",poweredBy:"Powered by <0/>"}},hi:{translation:{typeYourMessage:"यहाँ अपना संदेश टाइप करें...",thinking:"सोच रहे है...",listening:"सुन रहे है...",poweredBy:"संचालित द्वारा <0/>"}},ko:{translation:{typeYourMessage:"메시지를 입력하세요...",thinking:"생각 중...",listening:"듣고 있습니다...",poweredBy:"<0/> 제공"}},zh:{translation:{typeYourMessage:"输入您的消息...",thinking:"思考中...",listening:"倾听中...",poweredBy:"<0/> 驱动"}},es:{translation:{typeYourMessage:"Escribe tu mensaje...",thinking:"Pensando...",listening:"Escuchando...",poweredBy:"Desarrollado por <0/>"}},de:{translation:{typeYourMessage:"Geben Sie Ihre Nachricht ein...",thinking:"Denken...",listening:"Zuhören...",poweredBy:"Unterstützt von <0/>"}}},j0="en",Hb="livex_chat_language_code",r7=(e,t)=>{const n=localStorage.getItem(e);return n?typeof t=="number"?parseInt(n):n:t},Jr=e=>e==="avataiToggle"||e==="avatai",$b=e=>!!e&&/\S+\s+\S+/.test(e);function i7(e,t){return function(){return e.apply(t,arguments)}}const{toString:hF}=Object.prototype,{getPrototypeOf:Gb}=Object,V0=(e=>t=>{const n=hF.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_o=e=>(e=e.toLowerCase(),t=>V0(t)===e),q0=e=>t=>typeof t===e,{isArray:hu}=Array,xd=q0("undefined"),o7=_o("ArrayBuffer"),dF=q0("string"),Pi=q0("function"),a7=q0("number"),H0=e=>e!==null&&typeof e=="object",$0=e=>{if(V0(e)!=="object")return!1;const t=Gb(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.toStringTag in e||Symbol.iterator in e)},pF=_o("Date"),fF=_o("File"),mF=_o("Blob"),gF=_o("FileList"),vF=_o("URLSearchParams"),[yF,bF,wF,_F]=["ReadableStream","Request","Response","Headers"].map(_o);function kd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),hu(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let s;for(r=0;r<a;r++)s=o[r],t.call(null,e[s],s,e)}}function s7(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l7=e=>!xd(e)&&e!==Ml,xF=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gb(Uint8Array)),kF=_o("HTMLFormElement"),c7=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),SF=_o("RegExp"),u7=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};kd(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},Wb="abcdefghijklmnopqrstuvwxyz",h7="0123456789",d7={DIGIT:h7,ALPHA:Wb,ALPHA_DIGIT:Wb+Wb.toUpperCase()+h7},EF=_o("AsyncFunction"),p7=((e,t)=>e?setImmediate:t?((n,r)=>(Ml.addEventListener("message",({source:i,data:o})=>{i===Ml&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ml.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pi(Ml.postMessage)),AF=typeof queueMicrotask<"u"?queueMicrotask.bind(Ml):typeof process<"u"&&process.nextTick||p7,_e={isArray:hu,isArrayBuffer:o7,isBuffer:function(e){return e!==null&&!xd(e)&&e.constructor!==null&&!xd(e.constructor)&&Pi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pi(e.append)&&((t=V0(e))==="formdata"||t==="object"&&Pi(e.toString)&&e.toString()==="[object FormData]"))},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&o7(e.buffer),t},isString:dF,isNumber:a7,isBoolean:e=>e===!0||e===!1,isObject:H0,isPlainObject:$0,isReadableStream:yF,isRequest:bF,isResponse:wF,isHeaders:_F,isUndefined:xd,isDate:pF,isFile:fF,isBlob:mF,isRegExp:SF,isFunction:Pi,isStream:e=>H0(e)&&Pi(e.pipe),isURLSearchParams:vF,isTypedArray:xF,isFileList:gF,forEach:kd,merge:function e(){const{caseless:t}=l7(this)&&this||{},n={},r=(i,o)=>{const a=t&&s7(n,o)||o;$0(n[a])&&$0(i)?n[a]=e(n[a],i):$0(i)?n[a]=e({},i):hu(i)?n[a]=i.slice():n[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&kd(arguments[i],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(kd(t,(i,o)=>{n&&Pi(i)?e[o]=i7(i,n):e[o]=i},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=n!==!1&&Gb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:V0,kindOfTest:_o,endsWith:(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},toArray:e=>{if(!e)return null;if(hu(e))return e;let t=e.length;if(!a7(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},isHTMLForm:kF,hasOwnProperty:c7,hasOwnProp:c7,reduceDescriptors:u7,freezeMethods:e=>{u7(e,(t,n)=>{if(Pi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Pi(r)){if(t.enumerable=!1,"writable"in t)return void(t.writable=!1);t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return hu(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,findKey:s7,global:Ml,isContextDefined:l7,ALPHABET:d7,generateString:(e=16,t=d7.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Pi(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(r,i)=>{if(H0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=hu(r)?[]:{};return kd(r,(a,s)=>{const l=n(a,i+1);!xd(l)&&(o[s]=l)}),t[i]=void 0,o}}return r};return n(e,0)},isAsyncFn:EF,isThenable:e=>e&&(H0(e)||Pi(e))&&Pi(e.then)&&Pi(e.catch),setImmediate:p7,asap:AF};function Tt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(Tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const f7=Tt.prototype,m7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{m7[e]={value:e}}),Object.defineProperties(Tt,m7),Object.defineProperty(f7,"isAxiosError",{value:!0}),Tt.from=(e,t,n,r,i,o)=>{const a=Object.create(f7);return _e.toFlatObject(e,a,function(s){return s!==Error.prototype},s=>s!=="isAxiosError"),Tt.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function Kb(e){return _e.isPlainObject(e)||_e.isArray(e)}function g7(e){return _e.endsWith(e,"[]")?e.slice(0,-2):e}function v7(e,t,n){return e?e.concat(t).map(function(r,i){return r=g7(r),!n&&i?"["+r+"]":r}).join(n?".":""):t}const CF=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function G0(e,t,n){if(!_e.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,p){return!_e.isUndefined(p[d])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(t);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(_e.isDate(d))return d.toISOString();if(!s&&_e.isBlob(d))throw new Tt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(d)||_e.isTypedArray(d)?s&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,p,f){let m=d;if(d&&!f&&typeof d=="object"){if(_e.endsWith(p,"{}"))p=r?p:p.slice(0,-2),d=JSON.stringify(d);else if(_e.isArray(d)&&function(b){return _e.isArray(b)&&!b.some(Kb)}(d)||(_e.isFileList(d)||_e.endsWith(p,"[]"))&&(m=_e.toArray(d)))return p=g7(p),m.forEach(function(b,v){!_e.isUndefined(b)&&b!==null&&t.append(a===!0?v7([p],v,o):a===null?p:p+"[]",l(b))}),!1}return!!Kb(d)||(t.append(v7(f,p,o),l(d)),!1)}const u=[],h=Object.assign(CF,{defaultVisitor:c,convertValue:l,isVisitable:Kb});if(!_e.isObject(e))throw new TypeError("data must be an object");return function d(p,f){if(!_e.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));u.push(p),_e.forEach(p,function(m,b){(!(_e.isUndefined(m)||m===null)&&i.call(t,m,_e.isString(b)?b.trim():b,f,h))===!0&&d(m,f?f.concat(b):[b])}),u.pop()}}(e),t}function y7(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Qb(e,t){this._pairs=[],e&&G0(e,this,t)}const b7=Qb.prototype;function TF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function w7(e,t,n){if(!t)return e;const r=n&&n.encode||TF,i=n&&n.serialize;let o;if(o=i?i(t,n):_e.isURLSearchParams(t)?t.toString():new Qb(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}b7.append=function(e,t){this._pairs.push([e,t])},b7.toString=function(e){const t=e?function(n){return e.call(this,n,y7)}:y7;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};class _7{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,function(n){n!==null&&t(n)})}}const x7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MF={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Qb,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},Yb=typeof window<"u"&&typeof document<"u",Xb=typeof navigator=="object"&&navigator||void 0,RF=Yb&&(!Xb||["ReactNative","NativeScript","NS"].indexOf(Xb.product)<0),IF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",OF=Yb&&window.location.href||"http://localhost",ui={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yb,hasStandardBrowserEnv:RF,hasStandardBrowserWebWorkerEnv:IF,navigator:Xb,origin:OF},Symbol.toStringTag,{value:"Module"})),...MF};function k7(e){function t(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=n.length;return a=!a&&_e.isArray(i)?i.length:a,l?(_e.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s):((!i[a]||!_e.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],o)&&_e.isArray(i[a])&&(i[a]=function(c){const u={},h=Object.keys(c);let d;const p=h.length;let f;for(d=0;d<p;d++)f=h[d],u[f]=c[f];return u}(i[a])),!s)}if(_e.isFormData(e)&&_e.isFunction(e.entries)){const n={};return _e.forEachEntry(e,(r,i)=>{t(function(o){return _e.matchAll(/\w+|\[(\w*)]/g,o).map(a=>a[0]==="[]"?"":a[1]||a[0])}(r),i,n,0)}),n}return null}const Sd={transitional:x7,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=_e.isObject(e);if(i&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return r?JSON.stringify(k7(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(a,s){return G0(a,new ui.classes.URLSearchParams,Object.assign({visitor:function(l,c,u,h){return ui.isNode&&_e.isBuffer(l)?(this.append(c,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))}(e,this.formSerializer).toString();if((o=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return G0(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(a,s,l){if(_e.isString(a))try{return(s||JSON.parse)(a),_e.trim(a)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(a)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Sd.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||r)){const i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Tt.from(o,Tt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],e=>{Sd.headers[e]={}});const LF=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),S7=Symbol("internals");function Ed(e){return e&&String(e).trim().toLowerCase()}function W0(e){return e===!1||e==null?e:_e.isArray(e)?e.map(W0):String(e)}function Jb(e,t,n,r,i){if(_e.isFunction(r))return r.call(this,t,n);if(i&&(t=n),_e.isString(t)){if(_e.isString(r))return t.indexOf(r)!==-1;if(_e.isRegExp(r))return r.test(t)}}class hi{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(s,l,c){const u=Ed(l);if(!u)throw new Error("header name must be a non-empty string");const h=_e.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=W0(s))}const a=(s,l)=>_e.forEach(s,(c,u)=>o(c,u,l));if(_e.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(_e.isString(t)&&(t=t.trim())&&!(s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim()))(t))a((s=>{const l={};let c,u,h;return s&&s.split(`
`).forEach(function(d){h=d.indexOf(":"),c=d.substring(0,h).trim().toLowerCase(),u=d.substring(h+1).trim(),!(!c||l[c]&&LF[c])&&(c==="set-cookie"?l[c]?l[c].push(u):l[c]=[u]:l[c]=l[c]?l[c]+", "+u:u)}),l})(t),n);else if(_e.isHeaders(t))for(const[s,l]of t.entries())o(l,s,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=Ed(t)){const r=_e.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return function(o){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(o);)a[l[1]]=l[2];return a}(i);if(_e.isFunction(n))return n.call(this,i,r);if(_e.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ed(t)){const r=_e.findKey(this,t);return!(!r||this[r]===void 0||n&&!Jb(0,this[r],r,n))}return!1}delete(t,n){const r=this;let i=!1;function o(a){if(a=Ed(a)){const s=_e.findKey(r,a);s&&(!n||Jb(0,r[s],s,n))&&(delete r[s],i=!0)}}return _e.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Jb(0,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return _e.forEach(this,(i,o)=>{const a=_e.findKey(r,o);if(a)return n[a]=W0(i),void delete n[o];const s=t?function(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,u,h)=>u.toUpperCase()+h)}(o):String(o).trim();s!==o&&delete n[o],n[s]=W0(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _e.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&_e.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const n=(this[S7]=this[S7]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Ed(o);n[a]||(function(s,l){const c=_e.toCamelCase(" "+l);["get","set","has"].forEach(u=>{Object.defineProperty(s,u+c,{value:function(h,d,p){return this[u].call(this,l,h,d,p)},configurable:!0})})}(r,o),n[a]=!0)}return _e.isArray(t)?t.forEach(i):i(t),this}}function Zb(e,t){const n=this||Sd,r=t||n,i=hi.from(r.headers);let o=r.data;return _e.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function E7(e){return!(!e||!e.__CANCEL__)}function du(e,t,n){Tt.call(this,e??"canceled",Tt.ERR_CANCELED,t,n),this.name="CanceledError"}function A7(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Tt("Request failed with status code "+n.status,[Tt.ERR_BAD_REQUEST,Tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}hi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_e.reduceDescriptors(hi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),_e.freezeMethods(hi),_e.inherits(du,Tt,{__CANCEL__:!0});const K0=(e,t,n=3)=>{let r=0;const i=function(o,a){o=o||10;const s=new Array(o),l=new Array(o);let c,u=0,h=0;return a=a!==void 0?a:1e3,function(d){const p=Date.now(),f=l[h];c||(c=p),s[u]=d,l[u]=p;let m=h,b=0;for(;m!==u;)b+=s[m++],m%=o;if(u=(u+1)%o,u===h&&(h=(h+1)%o),p-c<a)return;const v=f&&p-f;return v?Math.round(1e3*b/v):void 0}}(50,250);return function(o,a){let s,l,c=0,u=1e3/a;const h=(d,p=Date.now())=>{c=p,s=null,l&&(clearTimeout(l),l=null),o.apply(null,d)};return[(...d)=>{const p=Date.now(),f=p-c;f>=u?h(d,p):(s=d,l||(l=setTimeout(()=>{l=null,h(s)},u-f)))},()=>s&&h(s)]}(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-r,c=i(l);r=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&a<=s?(s-a)/c:void 0,event:o,lengthComputable:s!=null,[t?"download":"upload"]:!0})},n)},C7=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},T7=e=>(...t)=>_e.asap(()=>e(...t)),DF=ui.hasStandardBrowserEnv?function(){const e=ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent),t=document.createElement("a");let n;function r(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(i){const o=_e.isString(i)?r(i):i;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),PF=ui.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];_e.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&a.push("path="+r),_e.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function M7(e,t){return e&&!function(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}(t)?function(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}(e,t):t}const R7=e=>e instanceof hi?{...e}:e;function Rl(e,t){t=t||{};const n={};function r(c,u,h){return _e.isPlainObject(c)&&_e.isPlainObject(u)?_e.merge.call({caseless:h},c,u):_e.isPlainObject(u)?_e.merge({},u):_e.isArray(u)?u.slice():u}function i(c,u,h){return _e.isUndefined(u)?_e.isUndefined(c)?void 0:r(void 0,c,h):r(c,u,h)}function o(c,u){if(!_e.isUndefined(u))return r(void 0,u)}function a(c,u){return _e.isUndefined(u)?_e.isUndefined(c)?void 0:r(void 0,c):r(void 0,u)}function s(c,u,h){return h in t?r(c,u):h in e?r(void 0,c):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(c,u)=>i(R7(c),R7(u),!0)};return _e.forEach(Object.keys(Object.assign({},e,t)),function(c){const u=l[c]||i,h=u(e[c],t[c],c);_e.isUndefined(h)&&u!==s||(n[c]=h)}),n}const I7=e=>{const t=Rl({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=hi.from(s),t.url=w7(M7(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_e.isFormData(r)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((n=s.getContentType())!==!1){const[c,...u]=n?n.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ui.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(t)),i||i!==!1&&DF(t.url))){const c=o&&a&&PF.read(a);c&&s.set(o,c)}return t},NF=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(t,n){const r=I7(e);let i=r.data;const o=hi.from(r.headers).normalize();let a,s,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function b(){if(!m)return;const _=hi.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());A7(function(w){t(w),f()},function(w){n(w),f()},{data:h&&h!=="text"&&h!=="json"?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:_,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&(!m.responseURL||m.responseURL.indexOf("file:")!==0)||setTimeout(b)},m.onabort=function(){m&&(n(new Tt("Request aborted",Tt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Tt("Network Error",Tt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let _=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||x7;r.timeoutErrorMessage&&(_=r.timeoutErrorMessage),n(new Tt(_,w.clarifyTimeoutError?Tt.ETIMEDOUT:Tt.ECONNABORTED,e,m)),m=null},i===void 0&&o.setContentType(null),"setRequestHeader"in m&&_e.forEach(o.toJSON(),function(_,w){m.setRequestHeader(w,_)}),_e.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&h!=="json"&&(m.responseType=r.responseType),p&&([l,u]=K0(p,!0),m.addEventListener("progress",l)),d&&m.upload&&([s,c]=K0(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=_=>{m&&(n(!_||_.type?new du(null,e,m):_),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(_){const w=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_);return w&&w[1]||""}(r.url);v&&ui.protocols.indexOf(v)===-1?n(new Tt("Unsupported protocol "+v+":",Tt.ERR_BAD_REQUEST,e)):m.send(i||null)})},BF=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r,i=new AbortController;const o=function(c){if(!r){r=!0,s();const u=c instanceof Error?c:this.reason;i.abort(u instanceof Tt?u:new du(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new Tt(`timeout ${t} of ms exceeded`,Tt.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=i;return l.unsubscribe=()=>_e.asap(s),l}},zF=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},FF=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},O7=(e,t,n,r)=>{const i=async function*(l,c){for await(const u of FF(l))yield*zF(u,c)}(e,t);let o,a=0,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c)return s(),void l.close();let h=u.byteLength;if(n){let d=a+=h;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel:l=>(s(l),i.return())},{highWaterMark:2})},Q0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",L7=Q0&&typeof ReadableStream=="function",UF=Q0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),D7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jF=L7&&D7(()=>{let e=!1;const t=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ew=L7&&D7(()=>_e.isReadableStream(new Response("").body)),Y0={stream:ew&&(e=>e.body)};Q0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Y0[t]&&(Y0[t]=_e.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Tt(`Response type '${t}' is not supported`,Tt.ERR_NOT_SUPPORT,r)})})})(new Response);const VF=async(e,t)=>_e.toFiniteNumber(e.getContentLength())??(async n=>n==null?0:_e.isBlob(n)?n.size:_e.isSpecCompliantForm(n)?(await new Request(ui.origin,{method:"POST",body:n}).arrayBuffer()).byteLength:_e.isArrayBufferView(n)||_e.isArrayBuffer(n)?n.byteLength:(_e.isURLSearchParams(n)&&(n+=""),_e.isString(n)?(await UF(n)).byteLength:void 0))(t),qF=Q0&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=I7(e);c=c?(c+"").toLowerCase():"text";let p,f=BF([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let b;try{if(l&&jF&&n!=="get"&&n!=="head"&&(b=await VF(u,r))!==0){let E,M=new Request(t,{method:"POST",body:r,duplex:"half"});if(_e.isFormData(r)&&(E=M.headers.get("content-type"))&&u.setContentType(E),M.body){const[T,S]=C7(b,K0(T7(l)));r=O7(M.body,65536,T,S)}}_e.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;p=new Request(t,{...d,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:v?h:void 0});let _=await fetch(p);const w=ew&&(c==="stream"||c==="response");if(ew&&(s||w&&m)){const E={};["status","statusText","headers"].forEach(C=>{E[C]=_[C]});const M=_e.toFiniteNumber(_.headers.get("content-length")),[T,S]=s&&C7(M,K0(T7(s),!0))||[];_=new Response(O7(_.body,65536,T,()=>{S&&S(),m&&m()}),E)}c=c||"text";let x=await Y0[_e.findKey(Y0,c)||"text"](_,e);return!w&&m&&m(),await new Promise((E,M)=>{A7(E,M,{data:x,headers:hi.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:p})})}catch(v){throw m&&m(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new Tt("Network Error",Tt.ERR_NETWORK,e,p),{cause:v.cause||v}):Tt.from(v,v&&v.code,e,p)}}),P7={http:null,xhr:NF,fetch:qF};_e.forEach(P7,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const N7=e=>`- ${e}`,HF=e=>_e.isFunction(e)||e===null||e===!1,B7=e=>{e=_e.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let a;if(n=e[o],r=n,!HF(n)&&(r=P7[(a=String(n)).toLowerCase()],r===void 0))throw new Tt(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,s])=>`adapter ${a} `+(s===!1?"is not supported by the environment":"is not available in the build"));throw new Tt("There is no suitable adapter to dispatch the request "+(t?o.length>1?`since :
`+o.map(N7).join(`
`):" "+N7(o[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function tw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new du(null,e)}function z7(e){return tw(e),e.headers=hi.from(e.headers),e.data=Zb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),B7(e.adapter||Sd.adapter)(e).then(function(t){return tw(e),t.data=Zb.call(e,e.transformResponse,t),t.headers=hi.from(t.headers),t},function(t){return E7(t)||(tw(e),t&&t.response&&(t.response.data=Zb.call(e,e.transformResponse,t.response),t.response.headers=hi.from(t.response.headers))),Promise.reject(t)})}const $F="1.7.7",nw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const F7={};nw.transitional=function(e,t,n){return(r,i,o)=>{if(e===!1)throw new Tt(function(a,s){return"[Axios v1.7.7] Transitional option '"+a+"'"+s+(n?". "+n:"")}(i," has been removed"+(t?" in "+t:"")),Tt.ERR_DEPRECATED);return t&&!F7[i]&&(F7[i]=!0),!e||e(r,i,o)}};const rw={assertOptions:function(e,t,n){if(typeof e!="object")throw new Tt("options must be an object",Tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const s=e[o],l=s===void 0||a(s,o,e);if(l!==!0)throw new Tt("option "+o+" must be "+l,Tt.ERR_BAD_OPTION_VALUE)}else if(n!==!0)throw new Tt("Unknown option "+o,Tt.ERR_BAD_OPTION)}},validators:nw},Ms=rw.validators;class Il{constructor(t){this.defaults=t,this.interceptors={request:new _7,response:new _7}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{}).url=t:n=t||{},n=Rl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&rw.assertOptions(r,{silentJSONParsing:Ms.transitional(Ms.boolean),forcedJSONParsing:Ms.transitional(Ms.boolean),clarifyTimeoutError:Ms.transitional(Ms.boolean)},!1),i!=null&&(_e.isFunction(i)?n.paramsSerializer={serialize:i}:rw.assertOptions(i,{encode:Ms.function,serialize:Ms.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&_e.merge(o.common,o[n.method]);o&&_e.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),n.headers=hi.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(l=l&&f.synchronous,s.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,h,d=0;if(!l){const f=[z7.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,c),h=f.length,u=Promise.resolve(n);d<h;)u=u.then(f[d++],f[d++]);return u}h=s.length;let p=n;for(d=0;d<h;){const f=s[d++],m=s[d++];try{p=f(p)}catch(b){m.call(this,b);break}}try{u=z7.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){return w7(M7((t=Rl(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}_e.forEach(["delete","get","head","options"],function(e){Il.prototype[e]=function(t,n){return this.request(Rl(n||{},{method:e,url:t,data:(n||{}).data}))}}),_e.forEach(["post","put","patch"],function(e){function t(n){return function(r,i,o){return this.request(Rl(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Il.prototype[e]=t(),Il.prototype[e+"Form"]=t(!0)});class iw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{r.subscribe(s),o=s}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(i,o,a){r.reason||(r.reason=new du(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new iw(function(n){t=n}),cancel:t}}}const ow={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ow).forEach(([e,t])=>{ow[t]=e});const sn=function e(t){const n=new Il(t),r=i7(Il.prototype.request,n);return _e.extend(r,Il.prototype,n,{allOwnKeys:!0}),_e.extend(r,n,null,{allOwnKeys:!0}),r.create=function(i){return e(Rl(t,i))},r}(Sd);sn.Axios=Il,sn.CanceledError=du,sn.CancelToken=iw,sn.isCancel=E7,sn.VERSION=$F,sn.toFormData=G0,sn.AxiosError=Tt,sn.Cancel=sn.CanceledError,sn.all=function(e){return Promise.all(e)},sn.spread=function(e){return function(t){return e.apply(null,t)}},sn.isAxiosError=function(e){return _e.isObject(e)&&e.isAxiosError===!0},sn.mergeConfig=Rl,sn.AxiosHeaders=hi,sn.formToJSON=e=>k7(_e.isHTMLForm(e)?new FormData(e):e),sn.getAdapter=B7,sn.HttpStatusCode=ow,sn.default=sn;var GF=function(e){var t,n=!1;return new ReadableStream({start:function(r){var i=e.getReader();t=i;var o=new TextDecoder,a="";i.read().then(function s(l){if(!l.done){for(var c=o.decode(l.value,{stream:!0}),u=(a+=c).split(`
`),h=0;h<u.length-1;++h){var d=u[h].trim();if(d.length>0)try{var p=JSON.parse(d);r.enqueue(p)}catch(m){return r.error(m),n=!0,void i.cancel()}}return a=u[u.length-1],i.read().then(s)}if(!n){if((a=a.trim()).length!==0)try{var f=JSON.parse(a);r.enqueue(f)}catch(m){return void r.error(m)}r.close()}})},cancel:function(r){n=!0,t.cancel()}})};const WF=ad(GF);var U7={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const KF=()=>(t=>{const n=document.cookie.split("; ");for(const r of n){const[i,o]=r.split("=");if(i===t)return o}return null})("copilot_debug_code")||(U7.VITE_APP_DEPLOYMENT_ENV==="development"?U7.VITE_DEBUG_COOKIE:null);var pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fu=typeof window>"u"||"Deno"in globalThis;function to(){}function aw(e){return typeof e=="number"&&e>=0&&e!==1/0}function j7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mu(e,t){return typeof e=="function"?e(t):e}function V7(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==sw(a,t.options))return!1}else if(!Ad(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||o&&!o(t))}function q7(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ol(t.options.mutationKey)!==Ol(o))return!1}else if(!Ad(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function sw(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ol)(e)}function Ol(e){return JSON.stringify(e,(t,n)=>lw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Ad(e,t){return e===t||typeof e==typeof t&&!(!e||!t||typeof e!="object"||typeof t!="object")&&!Object.keys(t).some(n=>!Ad(e[n],t[n]))}function H7(e,t){if(e===t)return e;const n=$7(e)&&$7(t);if(n||lw(e)&&lw(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,s=n?[]:{};let l=0;for(let c=0;c<a;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(s[u]=void 0,l++):(s[u]=H7(e[u],t[u]),s[u]===e[u]&&e[u]!==void 0&&l++)}return i===a&&l===i?e:s}return t}function X0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function $7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lw(e){if(!G7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!G7(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function G7(e){return Object.prototype.toString.call(e)==="[object Object]"}function cw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?H7(e,t):t}function QF(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function YF(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gu,Ll,Cd,W7,Td,Dl,Md,K7,Q7=Symbol(),Y7=(e,t)=>!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Q7?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)),XF=(W7=class extends pu{constructor(){super(),vt(this,gu),vt(this,Ll),vt(this,Cd),Xe(this,Cd,e=>{if(!fu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){oe(this,Ll)||this.setEventListener(oe(this,Cd))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Ll))==null||e.call(this),Xe(this,Ll,void 0))}setEventListener(e){var t;Xe(this,Cd,e),(t=oe(this,Ll))==null||t.call(this),Xe(this,Ll,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){oe(this,gu)!==e&&(Xe(this,gu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof oe(this,gu)=="boolean"?oe(this,gu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},gu=new WeakMap,Ll=new WeakMap,Cd=new WeakMap,W7),uw=new XF,JF=(K7=class extends pu{constructor(){super(),vt(this,Td,!0),vt(this,Dl),vt(this,Md),Xe(this,Md,e=>{if(!fu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){oe(this,Dl)||this.setEventListener(oe(this,Md))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Dl))==null||e.call(this),Xe(this,Dl,void 0))}setEventListener(e){var t;Xe(this,Md,e),(t=oe(this,Dl))==null||t.call(this),Xe(this,Dl,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Td)!==e&&(Xe(this,Td,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return oe(this,Td)}},Td=new WeakMap,Dl=new WeakMap,Md=new WeakMap,K7),J0=new JF;function ZF(e){return Math.min(1e3*2**e,3e4)}function X7(e){return(e??"online")!=="online"||J0.isOnline()}var J7=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hw(e){return e instanceof J7}function Z7(e){let t,n,r,i=!1,o=0,a=!1;const s=new Promise((f,m)=>{n=f,r=m}),l=()=>uw.isFocused()&&(e.networkMode==="always"||J0.isOnline())&&e.canRun(),c=()=>X7(e.networkMode)&&e.canRun(),u=f=>{var m;a||(a=!0,(m=e.onSuccess)==null||m.call(e,f),t==null||t(),n(f))},h=f=>{var m;a||(a=!0,(m=e.onError)==null||m.call(e,f),t==null||t(),r(f))},d=()=>new Promise(f=>{var m;t=b=>{(a||l())&&f(b)},(m=e.onPause)==null||m.call(e)}).then(()=>{var f;t=void 0,a||(f=e.onContinue)==null||f.call(e)}),p=()=>{if(a)return;let f;const m=o===0?e.initialPromise:void 0;try{f=m??e.fn()}catch(b){f=Promise.reject(b)}Promise.resolve(f).then(u).catch(b=>{var v;if(a)return;const _=e.retry??(fu?0:3),w=e.retryDelay??ZF,x=typeof w=="function"?w(o,b):w,E=_===!0||typeof _=="number"&&o<_||typeof _=="function"&&_(o,b);!i&&E?(o++,(v=e.onFail)==null||v.call(e,o,b),function(M){return new Promise(T=>{setTimeout(T,M)})}(x).then(()=>l()?void 0:d()).then(()=>{i?h(b):p()})):h(b)})};return{promise:s,cancel:f=>{var m;a||(h(new J7(f)),(m=e.abort)==null||m.call(e))},continue:()=>(t==null||t(),s),cancelRetry:()=>{i=!0},continueRetry:()=>{i=!1},canStart:c,start:()=>(c()?p():d().then(p),s)}}var vu,e9,Rd,Id,xo,Zr,Z0,yu,ea,La,t9,sr=function(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{t?e.push(s):i(()=>{n(s)})},a=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}(),n9=(e9=class{constructor(){vt(this,vu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),aw(this.gcTime)&&Xe(this,vu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(fu?1/0:3e5))}clearGcTimeout(){oe(this,vu)&&(clearTimeout(oe(this,vu)),Xe(this,vu,void 0))}},vu=new WeakMap,e9),eU=(t9=class extends n9{constructor(e){super(),vt(this,ea),vt(this,Rd),vt(this,Id),vt(this,xo),vt(this,Zr),vt(this,Z0),vt(this,yu),Xe(this,yu,!1),Xe(this,Z0,e.defaultOptions),this.setOptions(e.options),this.observers=[],Xe(this,xo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Xe(this,Rd,e.state||function(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,r=n!==void 0,i=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=oe(this,Rd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=oe(this,Zr))==null?void 0:e.promise}setOptions(e){this.options={...oe(this,Z0),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,xo).remove(this)}setData(e,t){const n=cw(this.state.data,e,this.options);return Pt(this,ea,La).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){Pt(this,ea,La).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=(t=oe(this,Zr))==null?void 0:t.promise;return(n=oe(this,Zr))==null||n.cancel(e),r?r.then(to).catch(to):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Rd))}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0)}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!j7(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=oe(this,Zr))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=oe(this,Zr))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),oe(this,xo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(oe(this,Zr)&&(oe(this,yu)?oe(this,Zr).cancel({revert:!0}):oe(this,Zr).cancelRetry()),this.scheduleGc()),oe(this,xo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pt(this,ea,La).call(this,{type:"invalidate"})}fetch(e,t){var n,r,i;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(oe(this,Zr))return oe(this,Zr).continueRetry(),oe(this,Zr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const o=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(Xe(this,yu,!0),o.signal)})},s={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const c=Y7(this.options,t),u={queryKey:this.queryKey,meta:this.meta};return a(u),Xe(this,yu,!1),this.options.persister?this.options.persister(c,u,this):c(u)}};a(s),(n=this.options.behavior)==null||n.onFetch(s,this),Xe(this,Id,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=s.fetchOptions)==null?void 0:r.meta))&&Pt(this,ea,La).call(this,{type:"fetch",meta:(i=s.fetchOptions)==null?void 0:i.meta});const l=c=>{var u,h,d,p;hw(c)&&c.silent||Pt(this,ea,La).call(this,{type:"error",error:c}),hw(c)||((h=(u=oe(this,xo).config).onError)==null||h.call(u,c,this),(p=(d=oe(this,xo).config).onSettled)==null||p.call(d,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Xe(this,Zr,Z7({initialPromise:t==null?void 0:t.initialPromise,fn:s.fetchFn,abort:o.abort.bind(o),onSuccess:c=>{var u,h,d,p;c!==void 0?(this.setData(c),(h=(u=oe(this,xo).config).onSuccess)==null||h.call(u,c,this),(p=(d=oe(this,xo).config).onSettled)==null||p.call(d,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(c,u)=>{Pt(this,ea,La).call(this,{type:"failed",failureCount:c,error:u})},onPause:()=>{Pt(this,ea,La).call(this,{type:"pause"})},onContinue:()=>{Pt(this,ea,La).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),oe(this,Zr).start()}},Rd=new WeakMap,Id=new WeakMap,xo=new WeakMap,Zr=new WeakMap,Z0=new WeakMap,yu=new WeakMap,ea=new WeakSet,La=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...r9(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return hw(n)&&n.revert&&oe(this,Id)?{...oe(this,Id),fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),sr.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),oe(this,xo).notify({query:this,type:"updated",action:e})})},t9);function r9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var Da,i9,Pa,di,bu,Na,Rs,o9,tU=(i9=class extends pu{constructor(e={}){super(),vt(this,Da),this.config=e,Xe(this,Da,new Map)}build(e,t,n){const r=t.queryKey,i=t.queryHash??sw(r,t);let o=this.get(i);return o||(o=new eU({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){oe(this,Da).has(e.queryHash)||(oe(this,Da).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=oe(this,Da).get(e.queryHash);t&&(e.destroy(),t===e&&oe(this,Da).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,Da).get(e)}getAll(){return[...oe(this,Da).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>V7(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>V7(e,n)):t}notify(e){sr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){sr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Da=new WeakMap,i9),nU=(o9=class extends n9{constructor(e){super(),vt(this,Na),vt(this,Pa),vt(this,di),vt(this,bu),this.mutationId=e.mutationId,Xe(this,di,e.mutationCache),Xe(this,Pa,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Pa).includes(e)||(oe(this,Pa).push(e),this.clearGcTimeout(),oe(this,di).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Xe(this,Pa,oe(this,Pa).filter(t=>t!==e)),this.scheduleGc(),oe(this,di).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Pa).length||(this.state.status==="pending"?this.scheduleGc():oe(this,di).remove(this))}continue(){var e;return((e=oe(this,bu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,b,v,_,w,x;Xe(this,bu,Z7({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,S)=>{Pt(this,Na,Rs).call(this,{type:"failed",failureCount:T,error:S})},onPause:()=>{Pt(this,Na,Rs).call(this,{type:"pause"})},onContinue:()=>{Pt(this,Na,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,di).canRun(this)}));const E=this.state.status==="pending",M=!oe(this,bu).canStart();try{if(!E){Pt(this,Na,Rs).call(this,{type:"pending",variables:e,isPaused:M}),await((n=(t=oe(this,di).config).onMutate)==null?void 0:n.call(t,e,this));const S=await((i=(r=this.options).onMutate)==null?void 0:i.call(r,e));S!==this.state.context&&Pt(this,Na,Rs).call(this,{type:"pending",context:S,variables:e,isPaused:M})}const T=await oe(this,bu).start();return await((a=(o=oe(this,di).config).onSuccess)==null?void 0:a.call(o,T,e,this.state.context,this)),await((l=(s=this.options).onSuccess)==null?void 0:l.call(s,T,e,this.state.context)),await((u=(c=oe(this,di).config).onSettled)==null?void 0:u.call(c,T,null,this.state.variables,this.state.context,this)),await((d=(h=this.options).onSettled)==null?void 0:d.call(h,T,null,e,this.state.context)),Pt(this,Na,Rs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((f=(p=oe(this,di).config).onError)==null?void 0:f.call(p,T,e,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,T,e,this.state.context)),await((_=(v=oe(this,di).config).onSettled)==null?void 0:_.call(v,void 0,T,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,void 0,T,e,this.state.context)),T}finally{Pt(this,Na,Rs).call(this,{type:"error",error:T})}}finally{oe(this,di).runNext(this)}}},Pa=new WeakMap,di=new WeakMap,bu=new WeakMap,Na=new WeakSet,Rs=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),sr.batch(()=>{oe(this,Pa).forEach(t=>{t.onMutationUpdate(e)}),oe(this,di).notify({mutation:this,type:"updated",action:e})})},o9),no,em,a9,rU=(a9=class extends pu{constructor(e={}){super(),vt(this,no),vt(this,em),this.config=e,Xe(this,no,new Map),Xe(this,em,Date.now())}build(e,t,n){const r=new nU({mutationCache:this,mutationId:++Ny(this,em)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=tm(e),n=oe(this,no).get(t)??[];n.push(e),oe(this,no).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var t;const n=tm(e);if(oe(this,no).has(n)){const r=(t=oe(this,no).get(n))==null?void 0:t.filter(i=>i!==e);r&&(r.length===0?oe(this,no).delete(n):oe(this,no).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const n=(t=oe(this,no).get(tm(e)))==null?void 0:t.find(r=>r.state.status==="pending");return!n||n===e}runNext(e){var t;const n=(t=oe(this,no).get(tm(e)))==null?void 0:t.find(r=>r!==e&&r.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){sr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...oe(this,no).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>q7(t,n))}findAll(e={}){return this.getAll().filter(t=>q7(e,t))}notify(e){sr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return sr.batch(()=>Promise.all(e.map(t=>t.continue().catch(to))))}},no=new WeakMap,em=new WeakMap,a9);function tm(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function iU(e){return{onFetch:(t,n)=>{const r=async()=>{var i,o,a,s,l;const c=t.options,u=(a=(o=(i=t.fetchOptions)==null?void 0:i.meta)==null?void 0:o.fetchMore)==null?void 0:a.direction,h=((s=t.state.data)==null?void 0:s.pages)||[],d=((l=t.state.data)==null?void 0:l.pageParams)||[],p={pages:[],pageParams:[]};let f=!1;const m=Y7(t.options,t.fetchOptions),b=async(_,w,x)=>{if(f)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const E={queryKey:t.queryKey,pageParam:w,direction:x?"backward":"forward",meta:t.options.meta};(C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})})(E);const M=await m(E),{maxPages:T}=t.options,S=x?YF:QF;return{pages:S(_.pages,M,T),pageParams:S(_.pageParams,w,T)}};let v;if(u&&h.length){const _=u==="backward",w={pages:h,pageParams:d},x=(_?oU:s9)(c,w);v=await b(w,x,_)}else{v=await b(p,d[0]??c.initialPageParam);const _=e??h.length;for(let w=1;w<_;w++){const x=s9(c,v);v=await b(v,x)}}return v};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function s9(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function oU(e,{pages:t,pageParams:n}){var r;return(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n)}var qn,Pl,Nl,Od,Ld,Bl,Dd,Pd,l9,Ni,ln,nm,pi,wu,Nd,Ba,rm,Bd,zd,_u,xu,zl,Fd,Hn,Ud,dw,pw,fw,mw,gw,vw,yw,c9,u9,aU=(l9=class{constructor(e={}){vt(this,qn),vt(this,Pl),vt(this,Nl),vt(this,Od),vt(this,Ld),vt(this,Bl),vt(this,Dd),vt(this,Pd),Xe(this,qn,e.queryCache||new tU),Xe(this,Pl,e.mutationCache||new rU),Xe(this,Nl,e.defaultOptions||{}),Xe(this,Od,new Map),Xe(this,Ld,new Map),Xe(this,Bl,0)}mount(){Ny(this,Bl)._++,oe(this,Bl)===1&&(Xe(this,Dd,uw.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,qn).onFocus())})),Xe(this,Pd,J0.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,qn).onOnline())})))}unmount(){var e,t;Ny(this,Bl)._--,oe(this,Bl)===0&&((e=oe(this,Dd))==null||e.call(this),Xe(this,Dd,void 0),(t=oe(this,Pd))==null||t.call(this),Xe(this,Pd,void 0))}isFetching(e){return oe(this,qn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,Pl).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=oe(this,qn).get(n.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=oe(this,qn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(mu(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return oe(this,qn).findAll(e).map(({queryKey:t,state:n})=>[t,n.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=oe(this,qn).get(r.queryHash),o=function(a,s){return typeof a=="function"?a(s):a}(t,i==null?void 0:i.state.data);if(o!==void 0)return oe(this,qn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return sr.batch(()=>oe(this,qn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return(t=oe(this,qn).get(n.queryHash))==null?void 0:t.state}removeQueries(e){const t=oe(this,qn);sr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=oe(this,qn),r={type:"active",...e};return sr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=sr.batch(()=>oe(this,qn).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(to).catch(to)}invalidateQueries(e={},t={}){return sr.batch(()=>{if(oe(this,qn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=sr.batch(()=>oe(this,qn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(to)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(to)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=oe(this,qn).build(this,t);return n.isStaleByTime(mu(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(to).catch(to)}fetchInfiniteQuery(e){return e.behavior=iU(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(to).catch(to)}resumePausedMutations(){return J0.isOnline()?oe(this,Pl).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,qn)}getMutationCache(){return oe(this,Pl)}getDefaultOptions(){return oe(this,Nl)}setDefaultOptions(e){Xe(this,Nl,e)}setQueryDefaults(e,t){oe(this,Od).set(Ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,Od).values()];let n={};return t.forEach(r=>{Ad(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){oe(this,Ld).set(Ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,Ld).values()];let n={};return t.forEach(r=>{Ad(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,Nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Q7&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,Nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,qn).clear(),oe(this,Pl).clear()}},qn=new WeakMap,Pl=new WeakMap,Nl=new WeakMap,Od=new WeakMap,Ld=new WeakMap,Bl=new WeakMap,Dd=new WeakMap,Pd=new WeakMap,l9),sU=(u9=class extends pu{constructor(e,t){super(),vt(this,Hn),vt(this,Ni),vt(this,ln),vt(this,nm),vt(this,pi),vt(this,wu),vt(this,Nd),vt(this,Ba),vt(this,rm),vt(this,Bd),vt(this,zd),vt(this,_u),vt(this,xu),vt(this,zl),vt(this,Fd,new Set),this.options=t,Xe(this,Ni,e),Xe(this,Ba,null),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(oe(this,ln).addObserver(this),h9(oe(this,ln),this.options)?Pt(this,Hn,Ud).call(this):this.updateResult(),Pt(this,Hn,mw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bw(oe(this,ln),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bw(oe(this,ln),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pt(this,Hn,gw).call(this),Pt(this,Hn,vw).call(this),oe(this,ln).removeObserver(this)}setOptions(e,t){const n=this.options,r=oe(this,ln);if(this.options=oe(this,Ni).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Pt(this,Hn,yw).call(this),oe(this,ln).setOptions(this.options),n._defaulted&&!X0(this.options,n)&&oe(this,Ni).getQueryCache().notify({type:"observerOptionsUpdated",query:oe(this,ln),observer:this});const i=this.hasListeners();i&&d9(oe(this,ln),r,this.options,n)&&Pt(this,Hn,Ud).call(this),this.updateResult(t),i&&(oe(this,ln)!==r||this.options.enabled!==n.enabled||mu(this.options.staleTime,oe(this,ln))!==mu(n.staleTime,oe(this,ln)))&&Pt(this,Hn,dw).call(this);const o=Pt(this,Hn,pw).call(this);i&&(oe(this,ln)!==r||this.options.enabled!==n.enabled||o!==oe(this,zl))&&Pt(this,Hn,fw).call(this,o)}getOptimisticResult(e){const t=oe(this,Ni).getQueryCache().build(oe(this,Ni),e),n=this.createResult(t,e);return function(r,i){return!X0(r.getCurrentResult(),i)}(this,n)&&(Xe(this,pi,n),Xe(this,Nd,this.options),Xe(this,wu,oe(this,ln).state)),n}getCurrentResult(){return oe(this,pi)}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),n}trackProp(e){oe(this,Fd).add(e)}getCurrentQuery(){return oe(this,ln)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=oe(this,Ni).defaultQueryOptions(e),n=oe(this,Ni).getQueryCache().build(oe(this,Ni),t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){return Pt(this,Hn,Ud).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),oe(this,pi)))}createResult(e,t){var n;const r=oe(this,ln),i=this.options,o=oe(this,pi),a=oe(this,wu),s=oe(this,Nd),l=e!==r?e.state:oe(this,nm),{state:c}=e;let u,h={...c},d=!1;if(t._optimisticResults){const E=this.hasListeners(),M=!E&&h9(e,t),T=E&&d9(e,r,t,i);(M||T)&&(h={...h,...r9(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:p,errorUpdatedAt:f,status:m}=h;if(t.select&&h.data!==void 0)if(o&&h.data===(a==null?void 0:a.data)&&t.select===oe(this,rm))u=oe(this,Bd);else try{Xe(this,rm,t.select),u=t.select(h.data),u=cw(o==null?void 0:o.data,u,t),Xe(this,Bd,u),Xe(this,Ba,null)}catch(E){Xe(this,Ba,E)}else u=h.data;if(t.placeholderData!==void 0&&u===void 0&&m==="pending"){let E;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(s==null?void 0:s.placeholderData))E=o.data;else if(E=typeof t.placeholderData=="function"?t.placeholderData((n=oe(this,zd))==null?void 0:n.state.data,oe(this,zd)):t.placeholderData,t.select&&E!==void 0)try{E=t.select(E),Xe(this,Ba,null)}catch(M){Xe(this,Ba,M)}E!==void 0&&(m="success",u=cw(o==null?void 0:o.data,E,t),d=!0)}oe(this,Ba)&&(p=oe(this,Ba),u=oe(this,Bd),f=Date.now(),m="error");const b=h.fetchStatus==="fetching",v=m==="pending",_=m==="error",w=v&&b,x=u!==void 0;return{status:m,fetchStatus:h.fetchStatus,isPending:v,isSuccess:m==="success",isError:_,isInitialLoading:w,isLoading:w,data:u,dataUpdatedAt:h.dataUpdatedAt,error:p,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:_&&!x,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:_&&x,isStale:ww(e,t),refetch:this.refetch}}updateResult(e){const t=oe(this,pi),n=this.createResult(oe(this,ln),this.options);if(Xe(this,wu,oe(this,ln).state),Xe(this,Nd,this.options),oe(this,wu).data!==void 0&&Xe(this,zd,oe(this,ln)),X0(n,t))return;Xe(this,pi,n);const r={};(e==null?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!oe(this,Fd).size)return!0;const a=new Set(o??oe(this,Fd));return this.options.throwOnError&&a.add("error"),Object.keys(oe(this,pi)).some(s=>{const l=s;return oe(this,pi)[l]!==t[l]&&a.has(l)})})()&&(r.listeners=!0),Pt(this,Hn,c9).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pt(this,Hn,mw).call(this)}},Ni=new WeakMap,ln=new WeakMap,nm=new WeakMap,pi=new WeakMap,wu=new WeakMap,Nd=new WeakMap,Ba=new WeakMap,rm=new WeakMap,Bd=new WeakMap,zd=new WeakMap,_u=new WeakMap,xu=new WeakMap,zl=new WeakMap,Fd=new WeakMap,Hn=new WeakSet,Ud=function(e){Pt(this,Hn,yw).call(this);let t=oe(this,ln).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(to)),t},dw=function(){Pt(this,Hn,gw).call(this);const e=mu(this.options.staleTime,oe(this,ln));if(fu||oe(this,pi).isStale||!aw(e))return;const t=j7(oe(this,pi).dataUpdatedAt,e)+1;Xe(this,_u,setTimeout(()=>{oe(this,pi).isStale||this.updateResult()},t))},pw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(oe(this,ln)):this.options.refetchInterval)??!1},fw=function(e){Pt(this,Hn,vw).call(this),Xe(this,zl,e),!fu&&this.options.enabled!==!1&&aw(oe(this,zl))&&oe(this,zl)!==0&&Xe(this,xu,setInterval(()=>{(this.options.refetchIntervalInBackground||uw.isFocused())&&Pt(this,Hn,Ud).call(this)},oe(this,zl)))},mw=function(){Pt(this,Hn,dw).call(this),Pt(this,Hn,fw).call(this,Pt(this,Hn,pw).call(this))},gw=function(){oe(this,_u)&&(clearTimeout(oe(this,_u)),Xe(this,_u,void 0))},vw=function(){oe(this,xu)&&(clearInterval(oe(this,xu)),Xe(this,xu,void 0))},yw=function(){const e=oe(this,Ni).getQueryCache().build(oe(this,Ni),this.options);if(e===oe(this,ln))return;const t=oe(this,ln);Xe(this,ln,e),Xe(this,nm,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},c9=function(e){sr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(oe(this,pi))}),oe(this,Ni).getQueryCache().notify({query:oe(this,ln),type:"observerResultsUpdated"})})},u9);function h9(e,t){return function(n,r){return r.enabled!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&r.retryOnMount===!1)}(e,t)||e.state.data!==void 0&&bw(e,t,t.refetchOnMount)}function bw(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ww(e,t)}return!1}function d9(e,t,n,r){return(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&ww(e,n)}function ww(e,t){return t.enabled!==!1&&e.isStaleByTime(mu(t.staleTime,e))}var Fl,Ul,Bi,Is,jl,im,_w,p9,lU=(p9=class extends pu{constructor(e,t){super(),vt(this,jl),vt(this,Fl),vt(this,Ul),vt(this,Bi),vt(this,Is),Xe(this,Fl,e),this.setOptions(t),this.bindMethods(),Pt(this,jl,im).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=oe(this,Fl).defaultMutationOptions(e),X0(this.options,n)||oe(this,Fl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:oe(this,Bi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ol(n.mutationKey)!==Ol(this.options.mutationKey)?this.reset():((t=oe(this,Bi))==null?void 0:t.state.status)==="pending"&&oe(this,Bi).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=oe(this,Bi))==null||e.removeObserver(this)}onMutationUpdate(e){Pt(this,jl,im).call(this),Pt(this,jl,_w).call(this,e)}getCurrentResult(){return oe(this,Ul)}reset(){var e;(e=oe(this,Bi))==null||e.removeObserver(this),Xe(this,Bi,void 0),Pt(this,jl,im).call(this),Pt(this,jl,_w).call(this)}mutate(e,t){var n;return Xe(this,Is,t),(n=oe(this,Bi))==null||n.removeObserver(this),Xe(this,Bi,oe(this,Fl).getMutationCache().build(oe(this,Fl),this.options)),oe(this,Bi).addObserver(this),oe(this,Bi).execute(e)}},Fl=new WeakMap,Ul=new WeakMap,Bi=new WeakMap,Is=new WeakMap,jl=new WeakSet,im=function(){var e;const t=((e=oe(this,Bi))==null?void 0:e.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};Xe(this,Ul,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},_w=function(e){sr.batch(()=>{var t,n,r,i,o,a,s,l;if(oe(this,Is)&&this.hasListeners()){const c=oe(this,Ul).variables,u=oe(this,Ul).context;(e==null?void 0:e.type)==="success"?((n=(t=oe(this,Is)).onSuccess)==null||n.call(t,e.data,c,u),(i=(r=oe(this,Is)).onSettled)==null||i.call(r,e.data,null,c,u)):(e==null?void 0:e.type)==="error"&&((a=(o=oe(this,Is)).onError)==null||a.call(o,e.error,c,u),(l=(s=oe(this,Is)).onSettled)==null||l.call(s,void 0,e.error,c,u))}this.listeners.forEach(c=>{c(oe(this,Ul))})})},p9),f9=re.createContext(void 0),m9=e=>{const t=re.useContext(f9);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cU=({client:e,children:t})=>(re.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Gr.jsx(f9.Provider,{value:e,children:t})),g9=re.createContext(!1),uU=()=>re.useContext(g9);g9.Provider;var hU=re.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),dU=()=>re.useContext(hU);function v9(e,t){return typeof e=="function"?e(...t):!!e}function pU(){}var fU=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},mU=e=>{re.useEffect(()=>{e.clearReset()},[e])},gU=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&v9(n,[e.error,r]),vU=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},yU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,bU=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function y9(e,t){return function(n,r,i){const o=m9(),a=uU(),s=dU(),l=o.defaultQueryOptions(n);l._optimisticResults=a?"isRestoring":"optimistic",vU(l),fU(l,s),mU(s);const[c]=re.useState(()=>new r(o,l)),u=c.getOptimisticResult(l);if(re.useSyncExternalStore(re.useCallback(h=>{const d=a?()=>{}:c.subscribe(sr.batchCalls(h));return c.updateResult(),d},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),re.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),yU(l,u))throw bU(l,c,s);if(gU({result:u,errorResetBoundary:s,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash)}))throw u.error;return l.notifyOnChangeProps?u:c.trackResult(u)}(e,sU)}function Vl(e,t){const n=m9(),[r]=re.useState(()=>new lU(n,e));re.useEffect(()=>{r.setOptions(e)},[r,e]);const i=re.useSyncExternalStore(re.useCallback(a=>r.subscribe(sr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=re.useCallback((a,s)=>{r.mutate(a,s).catch(pU)},[r]);if(i.error&&v9(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const Dr=()=>Se(e=>e.chatBox.agent),b9=()=>{var e;const t=Dr();return(e=t==null?void 0:t.config)==null?void 0:e.style},w9=()=>{var e;const t=Dr();return((e=t==null?void 0:t.config)==null?void 0:e.navigation_items)||{}},xw=()=>w9().items||{},wU=["playground","chatbox","zendeskAssist"],_9=e=>{const t=io.getState(),{botMode:n,source:r,agent:i}=t.chatBox;if(!r||!wU.includes(r))return;const o=$n(t),a={event_name:Yn.LinkClick,source:r,bot_mode:n,chatbot_id:i==null?void 0:i.id,conversation_id:o,message_id:null,link_clicked:e};ql(a)},_U=(e,t)=>{var n,r;const i=((n=t.payload)==null?void 0:n.source)||e.chatBox.source,o=((r=t.payload)==null?void 0:r.agent)||e.chatBox.agent,a=((u,h)=>{switch(u){case"chatBox/setShowChatBox":return h?Yn.ChatbotOpen:Yn.ChatbotClose;case"chatBox/setExpanded":return h?Yn.ChatbotMaximize:Yn.ChatbotMinimize;case"chatBox/initSetting":return Yn.ChatbotLoaded;case"chatBox/setShowSearchBar":return h?Yn.ChatbotSearchBarOpen:Yn.ChatbotSearchBarClose;default:return}})(t.type,t.payload);if(!i||!o||!a)return;const s=$n(e),l=Ps(e),c={event_name:a,source:i,bot_mode:e.chatBox.botMode,chatbot_id:o.id,conversation_id:s,message_id:l};ql(c)},Yn=(e=>e.reduce((t,n)=>(t[n]=n,t),{}))(["ChatbotBeforeUnload","ChatbotLoaded","ChatbotOpen","ChatbotClose","ChatbotSearchBarOpen","ChatbotSearchBarClose","ChatbotMaximize","ChatbotMinimize","ConversationStart","ConversationEnd","MessageSent","VoiceInputStart","VoiceInputClose","FeedbackLike","FeedbackLikeCancel","FeedbackDislike","FeedbackDislikeCancel","PromotionItemLinkClick","LinkClick","LivexAddToCart","WebsiteAddToCart","BuyNow","BuyWithShopPay","BuyWithPrime"]),ql=async e=>{const{event_name:t,source:n,chatbot_id:r,conversation_id:i,bot_mode:o,message_id:a,link_clicked:s}=e;if(!n||!r)return;const l=a!=null?`${a}`:null,c=new URL(window.location.href),u={visitor_id:Sw(n)??"",domain:window.location.origin,url:c.origin+c.pathname,source:n,bot_mode:o,chatbot_id:r,link_clicked:s??null,conversation_id:i??null,message_id:l,event_name:t,timestamp:new Date().toISOString()};let h=!1;const d=`${pr.gatewayHost}/api/v1/chatbot-event`;if(navigator.sendBeacon){const p=JSON.stringify(u),f=new Blob([p],{type:"application/json"});h=navigator.sendBeacon(d,f)}else{if((await sn.post(d,u,{headers:{"Content-Type":"application/json"}})).data.status!==200)return;h=!0}return h},jd=()=>{const e=Dr(),t=Se(o=>o.chatBox.source),n=Se(o=>o.chatBox.botMode),r=Se($n),i=Se(Ps);return Vl({mutationFn:({event_name:o,link_clicked:a})=>ql({event_name:o,source:t,bot_mode:n,chatbot_id:e==null?void 0:e.id,conversation_id:r,message_id:i,link_clicked:a})})},xU=["localhost","127.0.0.1","10.1.10.232","10.1.10.233","192.168.7.206"],om=()=>{let e=xU.includes(window.location.hostname)&&!1;return window.location.hostname.endsWith("ngrok-free.app")&&(e=!0),e},pr={chatHost:"",gatewayHost:"",thread:{getMessages:(e,t)=>`/api/v1/chat_history/${e}/${t}`,steam:"/api/v1/chat_stream"},threads:{new:"/api/v1/new_conversation",load:"/api/v1/conversation",close:"/api/v1/close_conversation"}},kU=(e,t)=>t.startsWith("http")?t:`${e.replace(/\/$/,"")}${t}`,kw=async(e,t,n,r,i)=>{const o=kU(e,t),a=await sn.post(o,n,{headers:{"Content-Type":"application/json",...r},...i});return a.status!==200?null:a.data};function SU(){const e=localStorage.getItem("lvxcplt-visitor-id");if(!e){const t="0"+Date.now().toString(16)+function(n){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let o=0;o<n;o++)i+=r.charAt(Math.floor(62*Math.random()));return i}(12);return localStorage.setItem("lvxcplt-visitor-id",t),t}return e}const Sw=e=>{var t,n,r;if(e&&e==="playground"){const o=localStorage.getItem("livex_current_user");if(o)return(t=JSON.parse(o))==null?void 0:t.email}const i=sessionStorage.getItem("currentUser");return i?((r=(n=JSON.parse(i))==null?void 0:n.employee)==null?void 0:r.id)??"":SU()},EU=kw,AU=async(e,t)=>{var n;const r=io.getState().chatBox.initialBotMode;let i=pr.threads.new;const o={visitor_id:Sw(t),chatbot_id:e.id,source:t,bot_mode:r};if(Jr(r)){i="/api/v1/create_live_avatar_session";const a=((n=e.config)==null?void 0:n.avatai)||{avatar_id:om()?"Oliva_cloth3_1080P":"Oliva_cloth2_1080P",voice_id:"Xb7hH8MSUJpSbSDYk0k2"},{avatar_id:s,voice_id:l}=a;o.avatar_id=s,o.voice_id=l}return await kw(pr.chatHost,i,o)},x9=async(e,t)=>{if(!e)return;const n=io.getState(),{source:r,botMode:i,agent:o}=n.chatBox,a=Ps(n);let s=pr.threads.close;const l={conversation_id:e};if(Jr(i)){const c=n.chatBox.agent;if(!c)throw new Error("Should have agent here");s="/api/v1/close_live_avatar_session",l.chatbot_id=c.id}try{if(t&&navigator.sendBeacon){const c=new Blob([JSON.stringify(l)],{type:"application/json"});navigator.sendBeacon(pr.chatHost+s,c)}else await kw(pr.chatHost,s,l)}catch{}ql({event_name:Yn.ConversationEnd,source:r,bot_mode:i,chatbot_id:o==null?void 0:o.id,conversation_id:e,message_id:a})},CU=async({agentId:e,threadId:t,message:n,command:r,agentConfig:i,onData:o,imageGcsUri:a,languageCode:s})=>{const l=performance.now(),c=io.getState(),u={chatbot_id:e,conversation_id:t,question:n,command:r,stream:!0,language_code:s};a&&(u.image_gcs_uri=a),i&&(u.agent_config=i);const h=KF();h&&(u.debug_code=h);const d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)},p=c.chatBox.botMode;let f=pr.thread.steam,m=5;Jr(p)&&(f="/api/v1/live_avatar_chat_stream",m=50);const b=await fetch(`${pr.chatHost}${f}`,d);if(!b.ok)throw new Error("Network response was not ok");const v=WF(b.body).getReader();let _={},w=await v.read();const x=performance.now(),E=w.value.id;let M=t;const T=[],S=()=>{for(;T.length>0;){const U=T.shift();U&&o(U)}};let C=0;for(;!w.done;){const U=io.getState();if(M=$n(U),t!==M)break;T.push(w),(C===0||C%m==0)&&S(),C+=1,w=await v.read(),w.done||(_=w)}S();const P=performance.now();if(h||window.location.hostname==="localhost"){window.livexChatbotLatencies=window.livexChatbotLatencies||[];const U={messageId:E,toFirstTokenInMs:x-l,fromFirstTokenToLastTokenInMs:P-x,fromSentToLastTokenInMs:P-l};window.console.table(U),window.livexChatbotLatencies.push(U)}t===M&&o({done:!0,value:_.value})},k9=()=>{const e=Se($n),t=Dr();return Vl({mutationFn:n=>(async r=>{const{image:i,onUploadProgress:o,chatbot_id:a,conversation_id:s,return_product:l}=r;if(!a||!s||!i.file)throw new Error("chatbot_id, conversation_id or image is missing");const c=new FormData;c.append("file",i.file),c.append("chatbot_id",a),c.append("conversation_id",s),c.append("return_product",l?"true":"false");const u={onUploadProgress:o,headers:{"Content-Type":"multipart/form-data"}},h=`${pr.chatHost}/api/v1/image_upload`;return(await sn.post(h,c,u)).data})({...n,chatbot_id:t==null?void 0:t.id,conversation_id:e})})};let Vd={};const S9=jb({name:"searchBar",initialState:{userQuestion:"",query:"",isWaitingForReply:!1,fileImages:[],processingImageStatus:"idle",products:[],searchResults:[]},reducers:{setUserQuestion:(e,t)=>{e.userQuestion=t.payload},setQuery:(e,t)=>{e.query=t.payload},setIsWaitingForReply:(e,t)=>{e.isWaitingForReply=t.payload},setProducts:(e,t)=>{e.products=t.payload},setFileImages:(e,t)=>{e.fileImages=t.payload},removeFileImage:(e,t)=>{t.payload&&(e.fileImages=e.fileImages.filter(n=>{var r;return((r=n.file)==null?void 0:r.name)!==t.payload}))},setSearchResults:(e,t)=>{e.searchResults=t.payload},setProcessingImageStatus:(e,t)=>{e.processingImageStatus=t.payload}}}),{setUserQuestion:ku,setQuery:am,setIsWaitingForReply:sm,setProducts:TU,setFileImages:lm,removeFileImage:MU,setProcessingImageStatus:Ew,setSearchResults:qd}=S9.actions,RU=e=>e.searchBar.fileImages.map(t=>{var n;return Vd[((n=t.file)==null?void 0:n.name)||""]}),IU="idle",Hl="loading",cm="succeeded",um="failed",ko=uu("chat/closeThreadThunk",async({threadId:e},{dispatch:t,getState:n})=>{const r=kt.avatarPlayer;r&&r.destroy();const i=n(),{agent:o,source:a}=i.chatBox;if(o&&a)return t(na(!1)),await x9(e),t(zS(!1)),t(Oj(null)),i.chatBox.chatAgentType==="liveChat"&&(async s=>{const l={...s,requester:"test user",requester_type:"user"},c=`${pr.chatHost}/api/live_chat_end`;(await sn.post(c,l)).data})({conversation_id:e,chatbot_id:o.id}),t(zw("ai")),t(sm(!1)),t(ku("")),t(lm([])),e}),OU=e=>{var t,n,r;const{buttonCommand:i,command:o,state:a,dispatch:s}=e,l=$n(a),c=Ds(a);switch(o){case"call_function":{const u=(t=i.parameters)==null?void 0:t.function_name,h=window[u];h&&h();break}case"switch_to_live_chat":{const u={...c,chatAgentType:"liveChat"};s(WS(u)),s(mm.actions.setChatAgentType("liveChat"));break}case"hide_chatbot":s(mm.actions.setShowChatBox(!1));break;case"close_conversation":l&&(s(ku("")),s(sm(!1)),s(lm([])),s(ko({threadId:l})));break;case"switch_zendesk_live_chat":{const u=Bj(a)||((r=(n=Nj(a))==null?void 0:n.live_chat_options)==null?void 0:r.agent_id);if(!u)return;DU(s,u,c);break}}},LU=e=>{try{const t=JSON.parse(e);if(t&&typeof t=="object")return t}catch{return null}return null},E9=(e,t)=>{if(window.zE("webWidget","identify",{name:Mu.name,email:Mu.email}),window.zE("webWidget","chat:addTags",["livex_chat"]),window.zE("webWidget","chat:send",`User Info

Name: ${Mu.name}
Email: ${Mu.email}
Description: ${Mu.description}

`),t){const n=(r=>`Customer Journey

${r.messages.map(i=>{const{type:o,text:a}=i;return`${o==="bot"?"Bot":"User"}: ${a}
`}).join(`
`)}`)(t);window.zE("webWidget","chat:send",n)}e(gm(!1)),e(Cu(!1))},DU=(e,t,n)=>{const r=window.zE;if((()=>{const i=window.zE;if(i)try{if(i("webWidget:get","chat:isChatting")!==void 0)return!0}catch{}return!1})())try{r("webWidget","show"),r("webWidget","open"),E9(e,n)}catch{}else{const i=document.createElement("script");i.id="ze-snippet",i.src=`https://static.zdassets.com/ekr/snippet.js?key=${t}`,i.async=!1,document.body.appendChild(i),i.onload=()=>{window.zE("webWidget","open"),setTimeout(()=>{E9(e,n)},1e3)}}},Su=uu("chat/newThreadThunk",async(e,{getState:t})=>{const n=t(),{agent:r,source:i,botMode:o}=n.chatBox,a=Ps(n);if(!r||(r==null?void 0:r.id)==="loading"||!i)return;const s=await AU(r,i),{conversation_id:l,pull_stream_url:c}=s;return ql({event_name:Yn.ConversationStart,source:i,bot_mode:o,chatbot_id:r==null?void 0:r.id,conversation_id:l,message_id:a}),{id:l,agentId:r.id,messages:[],pull_stream_url:c,createdAt:new Date().toISOString()}});var Je={},Aw={exports:{}};(function(e,t){(function(n,r){var i="function",o="undefined",a="object",s="string",l="major",c="model",u="name",h="type",d="vendor",p="version",f="architecture",m="console",b="mobile",v="tablet",_="smarttv",w="wearable",x="embedded",E="Amazon",M="Apple",T="ASUS",S="BlackBerry",C="Browser",P="Chrome",U="Firefox",W="Google",te="Huawei",ne="LG",ae="Microsoft",he="Motorola",fe="Opera",le="Samsung",N="Sharp",H="Sony",F="Xiaomi",K="Zebra",ye="Facebook",me="Chromium OS",Pe="Mac OS",Ue=function(bt){for(var rt={},We=0;We<bt.length;We++)rt[bt[We].toUpperCase()]=bt[We];return rt},de=function(bt,rt){return typeof bt===s&&be(rt).indexOf(be(bt))!==-1},be=function(bt){return bt.toLowerCase()},Le=function(bt,rt){if(typeof bt===s)return bt=bt.replace(/^\s\s*/,""),typeof rt===o?bt:bt.substring(0,500)},Ve=function(bt,rt){for(var We,nn,rr,Lt,en,Be,xn=0;xn<rt.length&&!en;){var Er=rt[xn],Wn=rt[xn+1];for(We=nn=0;We<Er.length&&!en&&Er[We];)if(en=Er[We++].exec(bt))for(rr=0;rr<Wn.length;rr++)Be=en[++nn],typeof(Lt=Wn[rr])===a&&Lt.length>0?Lt.length===2?typeof Lt[1]==i?this[Lt[0]]=Lt[1].call(this,Be):this[Lt[0]]=Lt[1]:Lt.length===3?typeof Lt[1]!==i||Lt[1].exec&&Lt[1].test?this[Lt[0]]=Be?Be.replace(Lt[1],Lt[2]):r:this[Lt[0]]=Be?Lt[1].call(this,Be,Lt[2]):r:Lt.length===4&&(this[Lt[0]]=Be?Lt[3].call(this,Be.replace(Lt[1],Lt[2])):r):this[Lt]=Be||r;xn+=2}},He=function(bt,rt){for(var We in rt)if(typeof rt[We]===a&&rt[We].length>0){for(var nn=0;nn<rt[We].length;nn++)if(de(rt[We][nn],bt))return We==="?"?r:We}else if(de(rt[We],bt))return We==="?"?r:We;return bt},st={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Rt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,p],[/opios[\/ ]+([\w\.]+)/i],[p,[u,fe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[u,fe+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[u,fe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,p],[/\bddg\/([\w\.]+)/i],[p,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[u,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[u,U+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[u,fe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[u,fe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[u,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[p,[u,U]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+C]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+C],p],[/samsungbrowser\/([\w\.]+)/i],[p,[u,le+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,ye],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[u,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,P+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[p,He,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[u,U+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,p],[/(cobalt)\/([\w\.]+)/i],[u,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,be]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",be]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,le],[h,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,le],[h,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[d,M],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,M],[h,v]],[/(macintosh);/i],[c,[d,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,N],[h,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,te],[h,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,te],[h,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,F],[h,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,F],[h,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[h,b]],[/\b(opd2\d{3}a?) bui/i],[c,[d,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[h,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,he],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,he],[h,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,ne],[h,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,ne],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[h,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[h,b]],[/(pixel c)\b/i],[c,[d,W],[h,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,W],[h,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,H],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,H],[h,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,E],[h,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,E],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[h,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,S],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,T],[h,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,T],[h,b]],[/(nexus 9)/i],[c,[d,"HTC"],[h,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[h,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[h,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[d,"Ulefone"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[h,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[h,v]],[/(surface duo)/i],[c,[d,ae],[h,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[h,b]],[/(u304aa)/i],[c,[d,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[h,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[h,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[h,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[h,v]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[h,v]],[/\b(k88) b/i],[c,[d,"ZTE"],[h,v]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[h,v]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[h,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[h,v]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[h,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[h,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[h,b]],[/\b(ph-1) /i],[c,[d,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[h,v]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[h,v]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[h,v]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[h,v]],[/(sprint) (\w+)/i],[d,c,[h,b]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,ae],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,K],[h,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,K],[h,b]],[/smart-tv.+(samsung)/i],[d,[h,_]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,le],[h,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,ne],[h,_]],[/(apple) ?tv/i],[d,[c,M+" TV"],[h,_]],[/crkey/i],[[c,P+"cast"],[d,W],[h,_]],[/droid.+aft(\w+)( bui|\))/i],[c,[d,E],[h,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,N],[h,_]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,H],[h,_]],[/(mitv-\w{5}) bui/i],[c,[d,F],[h,_]],[/Hbbtv.*(technisat) (.*);/i],[d,c,[h,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,Le],[c,Le],[h,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[h,m]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[c,[d,H],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,ae],[h,m]],[/((pebble))app/i],[d,c,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[d,M],[h,w]],[/droid.+; (glass) \d/i],[c,[d,W],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,K],[h,w]],[/(quest( \d| pro)?)/i],[c,[d,ye],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[h,x]],[/(aeobc)\b/i],[c,[d,E],[h,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[h,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[p,He,st]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,He,st],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,Pe],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,p],[/\(bb(10);/i],[p,[u,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[u,U+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[u,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,me],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,p],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,p]]},Et=function(bt,rt){if(typeof bt===a&&(rt=bt,bt=r),!(this instanceof Et))return new Et(bt,rt).getResult();var We=typeof n!==o&&n.navigator?n.navigator:r,nn=bt||(We&&We.userAgent?We.userAgent:""),rr=We&&We.userAgentData?We.userAgentData:r,Lt=rt?function(Be,xn){var Er={};for(var Wn in Be)xn[Wn]&&xn[Wn].length%2==0?Er[Wn]=xn[Wn].concat(Be[Wn]):Er[Wn]=Be[Wn];return Er}(Rt,rt):Rt,en=We&&We.userAgent==nn;return this.getBrowser=function(){var Be={};return Be[u]=r,Be[p]=r,Ve.call(Be,nn,Lt.browser),Be[l]=function(xn){return typeof xn===s?xn.replace(/[^\d\.]/g,"").split(".")[0]:r}(Be[p]),en&&We&&We.brave&&typeof We.brave.isBrave==i&&(Be[u]="Brave"),Be},this.getCPU=function(){var Be={};return Be[f]=r,Ve.call(Be,nn,Lt.cpu),Be},this.getDevice=function(){var Be={};return Be[d]=r,Be[c]=r,Be[h]=r,Ve.call(Be,nn,Lt.device),en&&!Be[h]&&rr&&rr.mobile&&(Be[h]=b),en&&Be[c]=="Macintosh"&&We&&typeof We.standalone!==o&&We.maxTouchPoints&&We.maxTouchPoints>2&&(Be[c]="iPad",Be[h]=v),Be},this.getEngine=function(){var Be={};return Be[u]=r,Be[p]=r,Ve.call(Be,nn,Lt.engine),Be},this.getOS=function(){var Be={};return Be[u]=r,Be[p]=r,Ve.call(Be,nn,Lt.os),en&&!Be[u]&&rr&&rr.platform&&rr.platform!="Unknown"&&(Be[u]=rr.platform.replace(/chrome os/i,me).replace(/macos/i,Pe)),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return nn},this.setUA=function(Be){return nn=typeof Be===s&&Be.length>500?Le(Be,500):Be,this},this.setUA(nn),this};Et.VERSION="1.0.38",Et.BROWSER=Ue([u,p,l]),Et.CPU=Ue([f]),Et.DEVICE=Ue([c,d,h,m,b,_,v,w,x]),Et.ENGINE=Et.OS=Ue([u,p]),e.exports&&(t=e.exports=Et),t.UAParser=Et;var Ot=typeof n!==o&&(n.jQuery||n.Zepto);if(Ot&&!Ot.ua){var Kt=new Et;Ot.ua=Kt.getResult(),Ot.ua.get=function(){return Kt.getUA()},Ot.ua.set=function(bt){Kt.setUA(bt);var rt=Kt.getResult();for(var We in rt)Ot.ua[We]=rt[We]}}})(typeof window=="object"?window:Rn)})(Aw,Aw.exports);var PU=Aw.exports;Object.defineProperty(Je,"__esModule",{value:!0});var Pr=po,fn=function(e){return e&&typeof e=="object"&&"default"in e?e.default:e}(Pr),A9=PU,Os=new A9,Nr=Os.getBrowser(),NU=Os.getCPU(),zi=Os.getDevice(),Cw=Os.getEngine(),Ls=Os.getOS(),Hd=Os.getUA(),C9=function(e){return Os.setUA(e)},$d=function(e){if(e){var t=new A9(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(n){return t.setUA(n)}}}},T9=Object.freeze({ClientUAInstance:Os,browser:Nr,cpu:NU,device:zi,engine:Cw,os:Ls,ua:Hd,setUa:C9,parseUserAgent:$d});function M9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tw(e){return(Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function BU(e,t,n){return t&&function(r,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}(e.prototype,t),e}function zU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mw(){return Mw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(this,arguments)}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rw(e)}function Iw(e,t){return Iw=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Iw(e,t)}function ro(e,t){if(e==null)return{};var n,r,i=function(a,s){if(a==null)return{};var l,c,u={},h=Object.keys(a);for(c=0;c<h.length;c++)l=h[c],!(s.indexOf(l)>=0)&&(u[l]=a[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hm(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FU(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,s=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(u){c=!0,a=u}finally{try{!l&&i.return!=null&&i.return()}finally{if(c)throw a}}return s}}(e,t)||function(n,r){if(n){if(typeof n=="string")return R9(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return R9(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function R9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ow="mobile",Lw="tablet",I9="smarttv",O9="console",L9="wearable",D9="embedded",P9=void 0,fi={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Eu={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},UU={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},xt=function(e){return e||(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none")},Dw=function(){return!!(typeof window<"u"&&(window.navigator||navigator))&&(window.navigator||navigator)},Pw=function(e){var t=Dw();return t&&t.platform&&(t.platform.indexOf(e)!==-1||t.platform==="MacIntel"&&t.maxTouchPoints>1&&!window.MSStream)},jU=function(e,t,n,r){return function(i){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?M9(Object(a),!0).forEach(function(s){zU(i,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):M9(Object(a)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(a,s))})}return i}({},e,{vendor:xt(t.vendor),model:xt(t.model),os:xt(n.name),osVersion:xt(n.version),ua:xt(r)})},N9=function(e){return e.type===Ow},B9=function(e){return e.type===Lw},z9=function(e){var t=e.type;return t===Ow||t===Lw},F9=function(e){return e.type===I9},dm=function(e){return e.type===P9},U9=function(e){return e.type===L9},j9=function(e){return e.type===O9},V9=function(e){return e.type===D9},q9=function(e){var t=e.vendor;return xt(t)},H9=function(e){var t=e.model;return xt(t)},$9=function(e){var t=e.type;return xt(t,"browser")},G9=function(e){return e.name===Eu.Android},W9=function(e){return e.name===Eu.Windows},K9=function(e){return e.name===Eu.MAC_OS},Q9=function(e){return e.name===Eu.WindowsPhone},Y9=function(e){return e.name===Eu.IOS},X9=function(e){var t=e.version;return xt(t)},J9=function(e){var t=e.name;return xt(t)},Z9=function(e){return e.name===fi.Chrome},eS=function(e){return e.name===fi.Firefox},tS=function(e){return e.name===fi.Chromium},pm=function(e){return e.name===fi.Edge},nS=function(e){return e.name===fi.Yandex},rS=function(e){var t=e.name;return t===fi.Safari||t===fi.MobileSafari},iS=function(e){return e.name===fi.MobileSafari},oS=function(e){return e.name===fi.Opera},aS=function(e){var t=e.name;return t===fi.InternetExplorer||t===fi.Ie},sS=function(e){return e.name===fi.MIUI},lS=function(e){return e.name===fi.SamsungBrowser},cS=function(e){var t=e.version;return xt(t)},uS=function(e){var t=e.major;return xt(t)},hS=function(e){var t=e.name;return xt(t)},dS=function(e){var t=e.name;return xt(t)},pS=function(e){var t=e.version;return xt(t)},fS=function(){var e=Dw(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof t=="string"&&/electron/.test(t)},Au=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},mS=function(){var e=Dw();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},ta=function(){return Pw("iPad")},gS=function(){return Pw("iPhone")},vS=function(){return Pw("iPod")},yS=function(e){return xt(e)};function bS(e){var t=e||T9,n=t.device,r=t.browser,i=t.os,o=t.engine,a=t.ua;return{isSmartTV:F9(n),isConsole:j9(n),isWearable:U9(n),isEmbedded:V9(n),isMobileSafari:iS(r)||ta(),isChromium:tS(r),isMobile:z9(n)||ta(),isMobileOnly:N9(n),isTablet:B9(n)||ta(),isBrowser:dm(n),isDesktop:dm(n),isAndroid:G9(i),isWinPhone:Q9(i),isIOS:Y9(i)||ta(),isChrome:Z9(r),isFirefox:eS(r),isSafari:rS(r),isOpera:oS(r),isIE:aS(r),osVersion:X9(i),osName:J9(i),fullBrowserVersion:cS(r),browserVersion:uS(r),browserName:hS(r),mobileVendor:q9(n),mobileModel:H9(n),engineName:dS(o),engineVersion:pS(o),getUA:yS(a),isEdge:pm(r)||Au(a),isYandex:nS(r),deviceType:$9(n),isIOS13:mS(),isIPad13:ta(),isIPhone13:gS(),isIPod13:vS(),isElectron:fS(),isEdgeChromium:Au(a),isLegacyEdge:pm(r)&&!Au(a),isWindows:W9(i),isMacOs:K9(i),isMIUI:sS(r),isSamsungBrowser:lS(r)}}var wS=F9(zi),_S=j9(zi),xS=U9(zi),VU=V9(zi),qU=iS(Nr)||ta(),HU=tS(Nr),fm=z9(zi)||ta(),kS=N9(zi),SS=B9(zi)||ta(),ES=dm(zi),$U=dm(zi),AS=G9(Ls),CS=Q9(Ls),TS=Y9(Ls)||ta(),GU=Z9(Nr),WU=eS(Nr),KU=rS(Nr),QU=oS(Nr),MS=aS(Nr),YU=X9(Ls),XU=J9(Ls),JU=cS(Nr),ZU=uS(Nr),ej=hS(Nr),tj=q9(zi),nj=H9(zi),rj=dS(Cw),ij=pS(Cw),oj=yS(Hd),aj=pm(Nr)||Au(Hd),sj=nS(Nr),lj=$9(zi),cj=mS(),uj=ta(),hj=gS(),dj=vS(),pj=fS(),fj=Au(Hd),mj=pm(Nr)&&!Au(Hd),gj=W9(Ls),vj=K9(Ls),yj=sS(Nr),bj=lS(Nr);function RS(e){var t=e||window.navigator.userAgent;return $d(t)}Je.AndroidView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return AS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.BrowserTypes=fi,Je.BrowserView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return ES?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.ConsoleView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return _S?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.CustomView=function(e){var t=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var r=e.condition,i=ro(e,["renderWithFragment","children","viewClassName","style","condition"]);return r?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",i,n):null},Je.IEView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return MS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.IOSView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return TS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.MobileOnlyView=function(e){var t=e.renderWithFragment,n=e.children;e.viewClassName,e.style;var r=ro(e,["renderWithFragment","children","viewClassName","style"]);return kS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.MobileView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return fm?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.OsTypes=Eu,Je.SmartTVView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return wS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.TabletView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return SS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.WearableView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return xS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.WinPhoneView=function(e){var t=e.renderWithFragment,n=e.children,r=ro(e,["renderWithFragment","children"]);return CS?t?fn.createElement(Pr.Fragment,null,n):fn.createElement("div",r,n):null},Je.browserName=ej,Je.browserVersion=ZU,Je.deviceDetect=function(e){var t=e?$d(e):T9,n=t.device,r=t.browser,i=t.engine,o=t.os,a=t.ua,s=function(m){switch(m){case Ow:return{isMobile:!0};case Lw:return{isTablet:!0};case I9:return{isSmartTV:!0};case O9:return{isConsole:!0};case L9:return{isWearable:!0};case P9:return{isBrowser:!0};case D9:return{isEmbedded:!0};default:return UU}}(n.type),l=s.isBrowser,c=s.isMobile,u=s.isTablet,h=s.isSmartTV,d=s.isConsole,p=s.isWearable,f=s.isEmbedded;return l?function(m,b,v,_,w){return{isBrowser:m,browserMajorVersion:xt(b.major),browserFullVersion:xt(b.version),browserName:xt(b.name),engineName:xt(v.name),engineVersion:xt(v.version),osName:xt(_.name),osVersion:xt(_.version),userAgent:xt(w)}}(l,r,i,o,a):h?function(m,b,v,_){return{isSmartTV:m,engineName:xt(b.name),engineVersion:xt(b.version),osName:xt(v.name),osVersion:xt(v.version),userAgent:xt(_)}}(h,i,o,a):d?function(m,b,v,_){return{isConsole:m,engineName:xt(b.name),engineVersion:xt(b.version),osName:xt(v.name),osVersion:xt(v.version),userAgent:xt(_)}}(d,i,o,a):c||u?jU(s,n,o,a):p?function(m,b,v,_){return{isWearable:m,engineName:xt(b.name),engineVersion:xt(b.version),osName:xt(v.name),osVersion:xt(v.version),userAgent:xt(_)}}(p,i,o,a):f?function(m,b,v,_,w){return{isEmbedded:m,vendor:xt(b.vendor),model:xt(b.model),engineName:xt(v.name),engineVersion:xt(v.version),osName:xt(_.name),osVersion:xt(_.version),userAgent:xt(w)}}(f,n,i,o,a):void 0},Je.deviceType=lj,Je.engineName=rj,Je.engineVersion=ij,Je.fullBrowserVersion=JU,Je.getSelectorsByUserAgent=function(e){if(e&&typeof e=="string"){var t=$d(e);return bS({device:t.device,browser:t.browser,os:t.os,engine:t.engine,ua:t.ua})}},Je.getUA=oj,Je.isAndroid=AS,Je.isBrowser=ES,Je.isChrome=GU,Je.isChromium=HU,Je.isConsole=_S,Je.isDesktop=$U,Je.isEdge=aj,Je.isEdgeChromium=fj,Je.isElectron=pj,Je.isEmbedded=VU,Je.isFirefox=WU,Je.isIE=MS;var wj=Je.isIOS=TS;Je.isIOS13=cj,Je.isIPad13=uj,Je.isIPhone13=hj,Je.isIPod13=dj,Je.isLegacyEdge=mj,Je.isMIUI=yj,Je.isMacOs=vj;var $t=Je.isMobile=fm;Je.isMobileOnly=kS,Je.isMobileSafari=qU,Je.isOpera=QU,Je.isSafari=KU,Je.isSamsungBrowser=bj,Je.isSmartTV=wS,Je.isTablet=SS,Je.isWearable=xS,Je.isWinPhone=CS,Je.isWindows=gj,Je.isYandex=sj,Je.mobileModel=nj,Je.mobileVendor=tj,Je.osName=XU,Je.osVersion=YU,Je.parseUserAgent=$d,Je.setUserAgent=function(e){return C9(e)},Je.useDeviceData=RS,Je.useDeviceSelectors=function(e){var t=RS(e||window.navigator.userAgent);return[bS(t),t]},Je.useMobileOrientation=function(){var e=Pr.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),t=FU(e,2),n=t[0],r=t[1],i=Pr.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,a={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==a.orientation&&r(a)},[n.orientation]);return Pr.useEffect(function(){return(typeof window>"u"?"undefined":Tw(window))!==void 0&&fm&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n},Je.withOrientationChange=function(e){return function(t){function n(r){var i;return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,n),i=function(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hm(o)}(this,Rw(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(hm(i)),i.onOrientationChange=i.onOrientationChange.bind(hm(i)),i.onPageLoad=i.onPageLoad.bind(hm(i)),i.state={isLandscape:!1,isPortrait:!1},i}return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),i&&Iw(r,i)}(n,t),BU(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var r=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:r===0,isLandscape:r===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Tw(window))!==void 0&&fm&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return fn.createElement(e,Mw({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(fn.Component)};const kt={agent:void 0,botMode:void 0,scrollToBottom:e=>{},scrollToLastMessagePair:()=>{},firebaseApp:void 0,firestore:void 0,analytics:void 0,avatarPlayer:void 0,avatarVideoContainerRef:null,headerRef:null,containerRef:null,chatWrapperRef:null,messageComposerRef:null,messageFooterRef:null,isMobileKeyboardShown:!1},_j=["zendeskSideApp","fullScreen"],xj=["playground"],IS={useLiveXCopilot:!1,agent:void 0,botMode:void 0,initialBotMode:void 0,showWelcomeMessage:(()=>{const e=localStorage.getItem("welcomeMessageHiddenAt");if(!e)return!0;const t=new Date(e).getTime();return new Date().getTime()-t>864e5})(),chatBoxWidth:0,chatBoxHeight:0,chatBoxDefaultWidth:0,chatBoxDefaultHeight:0,expanded:!1,visualViewportUpdatedAt:0,isUserTyping:!1,showChatBox:!1,showNavigationView:!1,showConfirmCloseView:!1,showAvatarVideo:!1,expiredTime:n7.expiredTime,showSearchBar:!1,showPopupImageSrc:"",source:void 0,chatAgentType:"ai",isLiveChatEnded:!1,languageCode:"en",resizingType:null},OS=(e,t)=>{var n,r,i,o,a,s,l,c;t?(e.chatBoxWidth=((o=(i=(r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.style)==null?void 0:i.expansion)==null?void 0:o.width)||.9*window.innerWidth,e.chatBoxHeight=((c=(l=(s=(a=e.agent)==null?void 0:a.config)==null?void 0:s.style)==null?void 0:l.expansion)==null?void 0:c.height)||.9*window.innerHeight):(e.chatBoxWidth=e.chatBoxDefaultWidth,e.chatBoxHeight=e.chatBoxDefaultHeight)};function LS(e){var t,n;e.botMode!=="searchBar"?e.showNavigationView=!ar((n=(t=e.agent)==null?void 0:t.config)==null?void 0:n.navigation_items):e.showNavigationView=!1}const mm=jb({name:"chatBox",initialState:IS,reducers:{initSetting:(e,t)=>{var n,r;window.livexChatbotLatencies=[];const i=t.payload,{agent:o,options:a}=i;e.agent=o;const s=ym(Hb,j0);e.languageCode=s||((r=(n=e.agent)==null?void 0:n.config)==null?void 0:r.language);const l=r7("livexChatboxWidth",a.style.width),c=r7("livexChatboxHeight",a.style.height);e.chatBoxDefaultWidth=l,e.chatBoxDefaultHeight=c,e.expanded=i.initExpanded;let u=i.botMode;if(u==="voice"&&(u=void 0),e.botMode=u,e.initialBotMode=u,e.showConfirmCloseView=!1,e.expiredTime=a.expiredTime,LS(e),function(h){h.botMode!=="searchBar"?h.showWelcomeMessage=!0:h.showWelcomeMessage=!1}(e),kt.agent=i.agent,kt.botMode=u,Jr(u)){e.showAvatarVideo=!0;const{width:h,height:d}=((p,f)=>{const m=window.innerWidth,b=window.innerHeight,v=Math.min(p,m),_=Math.min(f,b),w=Math.min(v,_);let x,E;return w===v?(x=w,E=Math.round(1.5*x)):(E=w,x=Math.round(2*E/3)),{width:x,height:E}})(l,c);e.chatBoxDefaultWidth=h,e.chatBoxDefaultHeight=d}OS(e,i.initExpanded),e.source=i.source||"chatbox"},setBotMode:(e,t)=>{e.botMode=t.payload},setUseLiveXCopilot:(e,t)=>{e.useLiveXCopilot=t.payload},reset:()=>IS,setAgent:(e,t)=>{e.agent=t.payload},setChatBoxWidth:(e,t)=>{e.chatBoxWidth=t.payload},setChatBoxHeight:(e,t)=>{e.chatBoxHeight=t.payload},setChatBoxDefaultWidth:(e,t)=>{e.chatBoxDefaultWidth=t.payload,localStorage.setItem("livexChatboxWidth",`${t.payload}`)},setChatBoxDefaultHeight:(e,t)=>{e.chatBoxDefaultHeight=t.payload,localStorage.setItem("livexChatboxHeight",`${t.payload}`)},setExpanded:(e,t)=>{e.expanded=t.payload,OS(e,t.payload)},setVisualViewportUpdatedAt:(e,t)=>{e.visualViewportUpdatedAt=t.payload},setIsUserTyping:(e,t)=>{e.isUserTyping=t.payload},setShowChatBox:(e,t)=>{e.showChatBox=t.payload,(!Jr(e.botMode)||!e.showChatBox)&&localStorage.setItem("openChatBox",t.payload.toString())},setShowSearchBar:(e,t)=>{e.showSearchBar=t.payload,e.showChatBox=!1,t.payload?(e.botMode="searchBar",e.showWelcomeMessage=!1):e.botMode=e.initialBotMode},setShowWelcomeMessage:(e,t)=>{e.showWelcomeMessage=t.payload,t.payload?localStorage.removeItem("welcomeMessageHiddenAt"):localStorage.setItem("welcomeMessageHiddenAt",new Date().toString())},setShowAvatarVideo:(e,t)=>{e.showAvatarVideo=t.payload},resetShowNavigationView:e=>{LS(e)},setShowNavigationView:(e,t)=>{e.showNavigationView=t.payload},setShowConfirmCloseView:(e,t)=>{e.showConfirmCloseView=t.payload},setShowPopupImageSrc:(e,t)=>{e.showPopupImageSrc=t.payload},setChatAgentType:(e,t)=>{e.chatAgentType=t.payload,t.payload==="liveChat"&&(e.showNavigationView=!1)},setIsLiveChatEnded:(e,t)=>{e.isLiveChatEnded=t.payload},setLanguageCode:(e,t)=>{e.languageCode=t.payload,Fw(Hb,t.payload)},setResizingType:(e,t)=>{e.resizingType=t.payload}},extraReducers:e=>{e.addCase(Su.fulfilled,(t,n)=>{var r;if(!Jr(t.initialBotMode))return;const i=(r=n.payload)==null?void 0:r.pull_stream_url;n.payload&&(om(),t.botMode=i?t.initialBotMode:void 0)})}}),{setUseLiveXCopilot:gm,setAgent:kj,setBotMode:Sj,setChatBoxWidth:Ej,setChatBoxHeight:Aj,setChatBoxDefaultWidth:Cj,setChatBoxDefaultHeight:Tj,setExpanded:Mj,setVisualViewportUpdatedAt:DS,setIsUserTyping:PS,setShowChatBox:na,setShowSearchBar:Cu,initSetting:Rj,reset:Ij,setShowWelcomeMessage:Nw,resetShowNavigationView:Oj,setShowNavigationView:NS,setShowConfirmCloseView:Bw,setShowPopupImageSrc:BS,setShowAvatarVideo:Lj,setChatAgentType:zw,setIsLiveChatEnded:zS,setLanguageCode:Dj,setResizingType:Gd}=mm.actions,Pj=e=>{var t,n;return!((n=(t=e.chatBox.agent)==null?void 0:t.config)==null||!n.style.enable_display_verified_source)},Nj=e=>{var t,n,r,i,o;return(o=(i=(r=(n=(t=e.chatBox.agent)==null?void 0:t.config)==null?void 0:n.tools)==null?void 0:r.document_qa)==null?void 0:i.no_answer_action)==null?void 0:o.zendesk},Bj=e=>{var t,n;return(n=(t=e.chatBox.agent)==null?void 0:t.config)==null?void 0:n.zendesk_live_chat_agent_id},$l=()=>Se(e=>e.chatBox.botMode)==="zendeskSideApp",vm=()=>Se(e=>e.chatBox.botMode)==="fullScreen",Gl=()=>Se(e=>e.chatBox.botMode)==="searchBar",FS=e=>{const t=Ps(e);return!!t&&t>0},US=()=>Se(FS),Fw=(e,t)=>{const n=JSON.stringify(t);localStorage.setItem(e,n)},ym=(e,t)=>{try{return JSON.parse(localStorage.getItem(e))||t}catch{return localStorage.removeItem(e),t}},jS="livexChatbotThreads",Uw=()=>ym(jS,{}),za=e=>{kt.botMode!=="zendeskSideApp"&&Fw(jS,e)};class VS{constructor(t){this.value=t}let(t){return typeof t!="function"?this:this.value!==null&&this.value!==void 0?Tu(t==null?void 0:t(this.value)):this}run(t){this.value!==null&&this.value!==void 0&&(t==null||t(this.value))}also(t){return this.value!==null&&this.value!==void 0&&(t==null||t(this.value)),Tu(this.value)}}const zj={get(e,t){if(["let","run","also","value"].includes(t))return typeof e[t]=="function"?function(...r){const i=e[t].apply(e,r);return i instanceof VS?Tu(i.value):i}:e[t];const n=e.value[t];return typeof n=="function"?function(...r){const i=n.apply(e.value,r);return Tu(i)}:Tu(n)}},Tu=e=>new Proxy(new VS(e),zj),qS=e=>({id:e.id,threadId:e.conversation_id,timestamp:e.time,type:"bot",format:"text",...e.json_response,done:e.done}),bm=uu("chat/submitFormThunk",async({form:e,values:t},{dispatch:n})=>{var r;const i=await EU(pr.chatHost,e.action,t),o=i?((r=i==null?void 0:i.json_response)==null?void 0:r.text)??e.success_message??"Form submitted":e.failure_message??"Fail to submit form";if(i!=null&&i.json_response){const a=qS(i);n(Wd.actions.updateThreadMessage(a))}else n(Wd.actions.updateThreadMessage({id:t.message_id,threadId:t.conversation_id,text:o,type:"bot"}));return{values:t}}),wm=e=>{var t;const n=(t=kt.agent)==null?void 0:t.id;if(!n)return;const{threads:r}=e;for(const i in r){const o=r[i];if(o.agentId===n)return o}},HS=(e,t)=>{var n,r;const i=(a=>({format:"text",timestamp:new Date().toISOString(),...a}))(t),o=wm(e);if(o){if(i.type==="bot"&&(o.waitingForReply=!1),i.live_chat_message_id)return void(o.messages.find(a=>a.live_chat_message_id===i.live_chat_message_id)||o.messages.push(i));if(i.id===null||i.id===void 0)i.id=(a=>{var s;return(((s=mb(a))==null?void 0:s.id)??-1)+1})(o.messages),o.messages.push(i);else{const a=o.messages.findIndex(s=>s.id===i.id);if(a===-1)o.messages.push(i);else{const s=((n=o.messages[a])==null?void 0:n.text)??"";let l=i.text??"";i.incremental_text&&(l=(r=i.incremental_text)!=null&&r.d?s.substring(0,s.length-i.incremental_text.d)+i.text:s+i.text),i.text=l,o.messages[a]=i}}}},Fa=uu("chat/sendMessageThunk",async(e,{dispatch:t,getState:n})=>{const r=n(),{agent:i,source:o,botMode:a}=r.chatBox,s=$n(r),l=r.chatBox.languageCode;if(!i||!o||!s)return;const c=i.attach_agent?i.config:null,{text:u,command:h,imageGcsUri:d}=e;let p=h??"";if(typeof h!="string"){let m=h;(m==null?void 0:m.type)==="support"&&(m={type:m==null?void 0:m.type,parameters:{tsi:m==null?void 0:m.parameters.target_step_id,twi:m==null?void 0:m.parameters.target_workflow_id}}),p=JSON.stringify(m)}t(NS(!1));let f="";try{await CU({agentId:i.id,threadId:s,message:u,command:p,agentConfig:c,onData:m=>{const b=qS({...m.value,done:m.done});f=b==null?void 0:b.id,t(xm(b))},imageGcsUri:d,languageCode:l}),ql({event_name:Yn.MessageSent,source:o,bot_mode:a,chatbot_id:i==null?void 0:i.id,conversation_id:s,message_id:f})}finally{t(Wd.actions.updateWaitingForReply({threadId:s,waiting:!1}))}}),Mu={name:"",email:"",description:""},_m=(e,t=1800)=>{const n=mb((e==null?void 0:e.messages)??[]),r=(n==null?void 0:n.timestamp)||(e==null?void 0:e.createdAt);if(!e||!r)return!1;const i=new Date,o=new Date(r);return Math.abs(i.getTime()-o.getTime())>1e3*t},Fj={messagesUpdatedAt:Date.now(),config:ym("config",{agreeToTerms:!0}),threads:(()=>{const e=Uw();for(const t in e){const n=e[t];_m(n)&&delete e[t],n.id||delete e[t]}return e})(),new:{},close:{},send:{},submitForm:{status:IU,error:null,cache:{}},source:void 0},Wd=jb({name:"chat",initialState:Fj,reducers:{setThread:(e,t)=>{const n=t.payload;n&&(e.threads={...e.threads,[n.id]:n},za(e.threads))},setThreads:(e,t)=>{e.threads=t.payload,za(e.threads)},clearThreads:e=>{e.threads={},za(e.threads)},updateAgreeToTerms:(e,t)=>{e.config.agreeToTerms=t.payload,Fw("config",e.config)},updateThreadMessage:(e,t)=>{const{doNotScrollToBottom:n,...r}=t.payload;HS(e,r),za(e.threads),!n&&(e.messagesUpdatedAt=Date.now())},updateWaitingForReply:(e,t)=>{const{threadId:n,waiting:r}=t.payload,i={...e.threads[n],waitingForReply:r};return{...e,threads:{...e.threads,[n]:i}}},clearSubmitFormError:e=>{e.submitForm.error=null}},extraReducers:e=>{(t=>{t.addCase(ko.fulfilled,(n,r)=>{n.close.status=cm,n.close.error=null,n.close.data=r.payload;const i=r.payload??"",o={...n.threads};delete o[i],n.threads=o,za(o)}).addCase(ko.pending,n=>{n.close.status=Hl,n.close.error=null,n.close.data=null}).addCase(ko.rejected,(n,r)=>{n.close.status=um,n.close.error=r.error,n.close.data=null})})(e),(t=>{t.addCase(Su.fulfilled,(n,r)=>{const i=r.payload;n.new.status=cm,n.new.error=null,n.new.data=i,i&&(n.threads={...n.threads,[i.id]:i},za(n.threads))}).addCase(Su.pending,n=>{n.new.status=Hl,n.new.error=null,n.new.data=null}).addCase(Su.rejected,(n,r)=>{n.new.status=um,n.new.error=r.error,n.new.data=null})})(e),(t=>{t.addCase(bm.fulfilled,(n,r)=>{n.submitForm.cache.email=r.payload.values.email,n.submitForm.cache.name=r.payload.values.name,n.submitForm.cache.phone=r.payload.values.phone,n.submitForm.status=cm,n.submitForm.error=null}).addCase(bm.pending,n=>{n.submitForm.status=Hl}).addCase(bm.rejected,(n,r)=>{n.submitForm.status=um,n.submitForm.error=r.error})})(e),(t=>{t.addCase(Fa.fulfilled,n=>{n.send.status=cm,n.send.error=null,za(n.threads)}).addCase(Fa.pending,(n,r)=>{const i=wm(n);i&&(n.send.status=Hl,n.send.error=null,n.send.data=r.meta.arg,n.threads[i.id].waitingForReply=!0,HS(n,{type:"user",...r.meta.arg}),za(n.threads))}).addCase(Fa.rejected,(n,r)=>{n.send.status=um,n.send.error=r.error,n.send.data=null})})(e)}}),Uj=e=>e.chat.config.agreeToTerms,jw=e=>e.chat.send,$S=e=>e.chat.submitForm,Ds=e=>wm(e.chat),$n=e=>{const t=wm(e.chat);return t==null?void 0:t.id},jj=e=>e.chat.new.status,GS=Q8(Ds,e=>{var t,n,r;const i=e.chatBox.agent;return(t=i==null?void 0:i.config)!=null&&t.initial_message?(r=Tu((n=i==null?void 0:i.config)==null?void 0:n.initial_message).let(o=>Ii(o)?o:[o]).value)==null?void 0:r.map(o=>({...o.json_response,done:o.done})):[]},(e,t)=>{const n=e!=null&&e.waitingForReply?[{type:"loading"}]:[];return[...t,...(e==null?void 0:e.messages)??[],...n]}),Ps=Q8(GS,e=>{let t=e.length-1;return t<0&&(t=null),t}),{clearThreads:Vj,updateAgreeToTerms:YZ,updateThreadMessage:xm,clearSubmitFormError:qj,setThread:WS,setThreads:XZ}=Wd.actions,Hj=Wd.reducer,Vw=[];Vw.push(e=>t=>n=>{const r=e.getState();r.chatBox.source!=="playground"&&_U(r,n),t(n)}),Vw.push(e=>t=>n=>{(r=>{var i,o;const{store:a,action:s}=r,l=LU((o=(i=s.meta)==null?void 0:i.arg)==null?void 0:o.command),{dispatch:c,getState:u}=a,h=u(),d=l==null?void 0:l.frontend_action;if(d)for(const p of d){const{perform_on:f,command:m}=p;f&&f!==s.type||OU({buttonCommand:l,command:m,state:h,dispatch:c})}})({store:e,action:n}),t(n)});const io=function(e){var t,n=oF(),r=e||{},i=r.reducer,o=i===void 0?void 0:i,a=r.middleware,s=a===void 0?n():a,l=r.devTools,c=l===void 0||l,u=r.preloadedState,h=u===void 0?void 0:u,d=r.enhancers,p=d===void 0?void 0:d;if(typeof o=="function")t=o;else{if(!function(w){if(typeof w!="object"||w===null)return!1;var x=Object.getPrototypeOf(w);if(x===null)return!0;for(var E=x;Object.getPrototypeOf(E)!==null;)E=Object.getPrototypeOf(E);return x===E}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=$z(o)}var f=s;typeof f=="function"&&(f=f(n));var m=Gz.apply(void 0,f),b=F0;c&&(b=nF(Cs({trace:!1},typeof c=="object"&&c)));var v=new iF(m),_=v;return Array.isArray(p)?_=cu([m],p):typeof p=="function"&&(_=p(v)),K8(t,h,b.apply(void 0,_))}({reducer:{chat:Hj,chatBox:mm.reducer,searchBar:S9.reducer},middleware:e=>e({immutableCheck:!1,serializableCheck:!1}).concat(Vw),devTools:{}}),In=dN,Se=b0,qw=(e,t)=>function(n){if(n.length!==9||n[0]!=="#")return n;let r=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),o=parseInt(n.slice(5,7),16),a=parseInt(n.slice(7,9),16)/255,s=Math.round(255*(1-a)+a*r),l=Math.round(255*(1-a)+a*i),c=Math.round(255*(1-a)+a*o);return`#${s.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}(`#${e==null?void 0:e.substring(1,7)}${Math.round(255*t).toString(16).padStart(2,"0")}`.toUpperCase()),Kd={primary_color:"#3D5AFE",secondary_color:"#FF1744",text_color:"var(--gray-blue-grey-blue-60, #6b7a99);",background_color:"#FFFFFF",header_text_color:"white",header_font_family:"Poppins, Inter, Helvetica, sans-serif",bot_message_background_color:"#F2F2F2",border_color:"#E5E7EB",name:"professional"},So=e=>{var t;const n=Se(i=>i.chatBox.agent)||e,r={...Kd,...yz((t=n==null?void 0:n.config)==null?void 0:t.style,fz)};return{placeholder_color:qw(r.text_color,.5),label_color:qw(r.text_color,.8),secondary_color:r.secondary_color,user_message_background_color:qw(r.primary_color,1),...r}},ei=e=>function(t){if(t==="transparent")return 0;var n=El(t),r=Object.keys(n).map(function(s){var l=n[s]/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}),i=r[0],o=r[1],a=r[2];return parseFloat((.2126*i+.7152*o+.0722*a).toFixed(3))}(e)>.5?"#000":"#fff";function ra(e){const{children:t,borderRadius:n,variant:r="contained",color:i="white",disabled:o,onClick:a,style:s={}}=e,[l,c]=re.useState(!1);re.useEffect(()=>{c(!1)},[o,t]);const u=l?L0(.1,i):i;let h=u,d=u;o&&(h="#ccc");const p=n||"4px";let f="transparent";switch(r){case"outlined":h="transparent",f=i;break;case"contained":d=ei(i);break;case"flat":d=i,o&&(d="#ccc"),h="transparent",f=l?L0(.1,i):"transparent"}return G($j,{style:{background:h,borderRadius:p,border:`1px solid ${f}`,color:d,cursor:o?"not-allowed":"pointer",...s},onClick:m=>{o||!a||a(m)},onMouseOver:()=>{o||c(!0)},onMouseOut:()=>{o||c(!1)},children:t})}const $j=ht(e=>{const{className:t,...n}=e;return G("livex-chatbot-icon-button",{...n,class:t})},{target:"e1x8uzgu0"})(()=>({"& svg":{width:"100%",height:"100%"}}),""),KS=document.createElement("template");KS.innerHTML=String.raw`
  <style>
    :host {
      display: block;
    }

    input {
      padding: 0.5rem;
      outline: none;
      border-radius: 0.5rem;
      width: 100%;
      border: none;
      background-color: transparent;
      font-size: 16px;
    }

    input:focus {
      box-shadow: none;
    }

    input:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  </style>
  <input>
`;class Gj extends HTMLElement{constructor(){super(),EP(this,"input");const t=this.attachShadow({mode:"open"});t.appendChild(KS.content.cloneNode(!0)),this.input=t.querySelector("input")}onChange(){this.dispatchEvent(new CustomEvent("input"))}onKeyDown(t){this.dispatchEvent(new CustomEvent("keydown",{detail:t}))}onFocus(){setTimeout(()=>{window.dispatchEvent(new Event("resize"))},500)}onBlur(){setTimeout(()=>{window.dispatchEvent(new Event("resize"))},500)}connectedCallback(){this.getAttribute("focus")!==null&&(this.input.focus(),this.onFocus());const t=this.getAttribute("value");t!==null&&(this.input.value=t);const n=this.getAttribute("placeholder");n!==null&&(this.input.placeholder=n);const r=this.getAttribute("inputType");r!==null&&(this.input.type=r);const i=this.getAttribute("disabled");i!==null&&(this.input.disabled=i=="true"),this.input.addEventListener("input",this.onChange.bind(this)),this.input.addEventListener("keydown",this.onKeyDown.bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this))}disconnectedCallback(){this.input.removeEventListener("input",this.onChange.bind(this)),this.input.removeEventListener("keydown",this.onKeyDown.bind(this)),this.input.removeEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this))}static get observedAttributes(){return["focus","value","placeholder","type","disabled","inputType"]}attributeChangedCallback(t,n,r){t==="disabled"&&n!==r&&(this.input.disabled=r==="true"),t==="inputType"&&n!==r&&(this.input.type=r),t==="value"&&n!==r&&(this.input.value=r)}get value(){return this.input.value}set value(t){this.input.value=t}get disabled(){return this.input.disabled}set disabled(t){this.input.disabled=t}focus(){this.input.focus()}}customElements.get("livex-input")||customElements.define("livex-input",Gj);var QS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YS=po.createContext&&po.createContext(QS),Ns=function(){return Ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ns.apply(this,arguments)},Wj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function XS(e){return e&&e.map(function(t,n){return po.createElement(t.tag,Ns({key:n},t.attr),XS(t.child))})}function Bn(e){return function(t){return po.createElement(Kj,Ns({attr:Ns({},e.attr)},t),XS(e.child))}}function Kj(e){var t=function(n){var r,i=e.attr,o=e.size,a=e.title,s=Wj(e,["attr","size","title"]),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),po.createElement("svg",Ns({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Ns(Ns({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&po.createElement("title",null,a),e.children)};return YS!==void 0?po.createElement(YS.Consumer,null,function(n){return t(n)}):t(QS)}function Qj(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0112.28 0C16.43 19.18 14.03 20 12 20z"}}]})(e)}function Yj(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"}}]})(e)}function Xj(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(e)}function Jj(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.77 3.77L16 2 6 12l10 10 1.77-1.77L9.54 12z"}}]})(e)}function Zj(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6.23 20.23L8 22l10-10L8 2 6.23 3.77 14.46 12z"}}]})(e)}function eV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}}]})(e)}function km(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function tV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(e)}function nV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 12h-3V8h-4v4H7l5 5zm2-9h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04a2.008 2.008 0 00-1.44 1.19c-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"}}]})(e)}function rV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M9.56 8l-2-2-4.15-4.14L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.55-.18L19.73 21l1.41-1.41-8.86-8.86L9.56 8zM5 16V8h1.73l8 8H5zm10-8v2.61l6 6V6.5l-4 4V7c0-.55-.45-1-1-1h-5.61l2 2H15z"}}]})(e)}function iV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15 8v8H5V8h10m1-2H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4V7c0-.55-.45-1-1-1z"}}]})(e)}const oV=({progress:e,size:t,strokeWidth:n})=>{const r=(t-n)/2,i=2*Math.PI*r,o=i-e/100*i;return Fe("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,xmlns:"http://www.w3.org/2000/svg",children:[G("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#e6e6e6",strokeWidth:n}),G("circle",{cx:t/2,cy:t/2,r,fill:"none",stroke:"#007bff",strokeWidth:n,strokeDasharray:i,strokeDashoffset:o,strokeLinecap:"round"})]})},aV=e=>{const{images:t,setImages:n,isUploading:r,progressMap:i}=e;if(ar(t))return null;const o=a=>{if(r){const s=i.get(a)||0;return G("div",{style:{position:"absolute",right:0,top:0,padding:4,transform:"rotate(-90deg)"},children:G(oV,{progress:s,size:15,strokeWidth:3})})}return G(ra,{onClick:()=>(s=>{n(l=>l.filter((c,u)=>u!==s))})(a),style:{position:"absolute",right:0,top:0},variant:"flat",color:"black",children:G(km,{})})};return G(sV,{children:t.map((a,s)=>Fe(lV,{children:[G("img",{src:a.dataURL,alt:""}),o(s)]},s))})},sV=ht(e=>{const{className:t,...n}=e;return G("livex-chatbox-message-image-view",{...n,class:t})},{target:"e24d3fc1"})(e=>{const{disabled:t}=e,n={display:"flex",alignItems:"center",padding:8,position:"absolute",top:0,left:0};return t&&(n.cursor="not-allowed",n["& textarea"]={cursor:"not-allowed"}),n},""),lV=ht(e=>{const{className:t,...n}=e;return G("livex-chatbox-message-image-view-image-container",{...n,class:t})},{target:"e24d3fc0"})(()=>({border:"1px solid #e5e7eb",display:"flex",alignItems:"center",flexGrow:1,borderRadius:"0.5em",padding:8,width:100,height:100,position:"relative","& img":{width:"100%",height:"100%",objectFit:"contain"}}),""),cV=ad({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var uV=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function JS(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(cV[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(uV),o=null;(o=i.exec(e))!==null;)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var hV=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,dV=/^\s*$/,pV=Object.create(null);function ZS(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(ZS,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var fV={parse:function(e,t){t||(t={}),t.components||(t.components=pV);var n,r=[],i=[],o=-1,a=!1;if(e.indexOf("<")!==0){var s=e.indexOf("<");r.push({type:"text",content:s===-1?e:e.substring(0,s)})}return e.replace(hV,function(l,c){if(a){if(l!=="</"+n.name+">")return;a=!1}var u,h=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=c+l.length,f=e.charAt(p);if(d){var m=JS(l);return o<0?(r.push(m),r):((u=i[o]).children.push(m),r)}if(h&&(o++,(n=JS(l)).type==="tag"&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!f||f==="<"||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),o===0&&r.push(n),(u=i[o-1])&&u.children.push(n),i[o]=n),(!h||n.voidElement)&&(o>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(o--,n=o===-1?r:i[o]),!a&&f!=="<"&&f)){u=o===-1?r:i[o].children;var b=e.indexOf("<",p),v=e.slice(p,b===-1?void 0:b);dV.test(v)&&(v=" "),(b>-1&&o+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+ZS("",n)},"")}};function Sm(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`)}}const eE={};function Em(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&eE[t[0]]||(typeof t[0]=="string"&&(eE[t[0]]=new Date),Sm(...t))}const tE=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function nE(e,t,n){e.loadNamespaces(t,tE(e,n))}function rE(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,tE(e,r))}const mV=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gV={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},vV=e=>gV[e];let iE,Hw={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(mV,vV)};function oE(){return Hw}function $w(){return iE}function Gw(e,t){if(!e)return!1;const n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function Ww(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?Ru(t):t}function Ru(e){return Array.isArray(e)?e:[e]}function aE(e,t){if(!e)return"";let n="";const r=Ru(e),i=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach((o,a)=>{if(typeof o=="string")n+=`${o}`;else if(re.isValidElement(o)){const s=Object.keys(o.props).length,l=i.indexOf(o.type)>-1,c=o.props.children;if(!c&&l&&s===0)n+=`<${o.type}/>`;else if(c||l&&s===0)if(o.props.i18nIsDynamicList)n+=`<${a}></${a}>`;else if(l&&s===1&&typeof c=="string")n+=`<${o.type}>${c}</${o.type}>`;else{const u=aE(c,t);n+=`<${a}>${u}</${a}>`}else n+=`<${a}></${a}>`}else if(o===null)Sm("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof o=="object"){const{format:s,...l}=o,c=Object.keys(l);if(c.length===1){const u=s?`${c[0]}, ${s}`:c[0];n+=`{{${u}}}`}else Sm("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else Sm("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),n}function yV(e,t,n,r,i,o){if(t==="")return[];const a=r.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(a.map(f=>`<${f}`).join("|")).test(t);if(!e&&!s&&!o)return[t];const l={};(function f(m){Ru(m).forEach(b=>{typeof b!="string"&&(Gw(b)?f(Ww(b)):typeof b=="object"&&!re.isValidElement(b)&&Object.assign(l,b))})})(e);const c=fV.parse(`<0>${t}</0>`),u={...l,...i};function h(f,m,b){const v=Ww(f),_=p(v,m.children,b);return function(w){return Object.prototype.toString.call(w)==="[object Array]"&&w.every(x=>re.isValidElement(x))}(v)&&_.length===0||f.props&&f.props.i18nIsDynamicList?v:_}function d(f,m,b,v,_){f.dummy?(f.children=m,b.push(re.cloneElement(f,{key:v},_?void 0:m))):b.push(...re.Children.map([f],w=>{const x={...w.props};return delete x.i18nIsDynamicList,re.createElement(w.type,{...x,key:v,ref:w.ref},_?null:m)}))}function p(f,m,b){const v=Ru(f);return Ru(m).reduce((_,w,x)=>{const E=w.children&&w.children[0]&&w.children[0].content&&n.services.interpolator.interpolate(w.children[0].content,u,n.language);if(w.type==="tag"){let M=v[parseInt(w.name,10)];b.length===1&&!M&&(M=b[0][w.name]),M||(M={});const T=Object.keys(w.attrs).length!==0?function(W,te){const ne={...te};return ne.props=Object.assign(W.props,te.props),ne}({props:w.attrs},M):M,S=re.isValidElement(T),C=S&&Gw(w,!0)&&!w.voidElement,P=s&&typeof T=="object"&&T.dummy&&!S,U=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,w.name);if(typeof T=="string"){const W=n.services.interpolator.interpolate(T,u,n.language);_.push(W)}else if(Gw(T)||C)d(T,h(T,w,b),_,x);else if(P)d(T,p(v,w.children,b),_,x);else if(Number.isNaN(parseFloat(w.name)))if(U)d(T,h(T,w,b),_,x,w.voidElement);else if(r.transSupportBasicHtmlNodes&&a.indexOf(w.name)>-1)if(w.voidElement)_.push(re.createElement(w.name,{key:`${w.name}-${x}`}));else{const W=p(v,w.children,b);_.push(re.createElement(w.name,{key:`${w.name}-${x}`},W))}else if(w.voidElement)_.push(`<${w.name} />`);else{const W=p(v,w.children,b);_.push(`<${w.name}>${W}</${w.name}>`)}else if(typeof T!="object"||S)d(T,E,_,x,w.children.length!==1||!E);else{const W=w.children[0]?E:null;W&&_.push(W)}}else if(w.type==="text"){const M=r.transWrapTextNodes,T=o?r.unescape(n.services.interpolator.interpolate(w.content,u,n.language)):n.services.interpolator.interpolate(w.content,u,n.language);M?_.push(re.createElement(M,{key:`${w.name}-${x}`},T)):_.push(T)}return _},[])}return Ww(p([{dummy:!0,children:e||[]}],c,Ru(e||[]))[0])}function bV(e){let{children:t,count:n,parent:r,i18nKey:i,context:o,tOptions:a={},values:s,defaults:l,components:c,ns:u,i18n:h,t:d,shouldUnescape:p,...f}=e;const m=h||$w();if(!m)return Em("You will need to pass in an i18next instance by using i18nextReactModule"),t;const b=d||m.t.bind(m)||(W=>W),v={...oE(),...m.options&&m.options.react};let _=u||b.ns||m.options&&m.options.defaultNS;_=typeof _=="string"?[_]:_||["translation"];const w=aE(t,v),x=l||w||v.transEmptyNodeValue||i,{hashTransKey:E}=v,M=i||(E?E(w||x):w||x);m.options&&m.options.interpolation&&m.options.interpolation.defaultVariables&&(s=s&&Object.keys(s).length>0?{...s,...m.options.interpolation.defaultVariables}:{...m.options.interpolation.defaultVariables});const T=s||n!==void 0||!t?a.interpolation:{interpolation:{...a.interpolation,prefix:"#$?",suffix:"?$#"}},S={...a,context:o||a.context,count:n,...s,...T,defaultValue:x,ns:_},C=M?b(M,S):x;c&&Object.keys(c).forEach(W=>{const te=c[W];typeof te.type=="function"||!te.props||!te.props.children||C.indexOf(`${W}/>`)<0&&C.indexOf(`${W} />`)<0||(c[W]=re.createElement(function(){return re.createElement(re.Fragment,null,te)}))});const P=yV(c||t,C,m,v,S,p),U=r!==void 0?r:v.defaultTransParent;return U?re.createElement(U,f,P):P}const wV={type:"3rdParty",init(e){(function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hw={...Hw,...t}})(e.options.react),function(t){iE=t}(e)}},sE=re.createContext();class _V{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function xV(e){let{children:t,count:n,parent:r,i18nKey:i,context:o,tOptions:a={},values:s,defaults:l,components:c,ns:u,i18n:h,t:d,shouldUnescape:p,...f}=e;const{i18n:m,defaultNS:b}=re.useContext(sE)||{},v=h||m||$w(),_=d||v&&v.t.bind(v);return bV({children:t,count:n,parent:r,i18nKey:i,context:o,tOptions:a,values:s,defaults:l,components:c,ns:u||_&&_.ns||b||v&&v.options&&v.options.defaultNS,i18n:v,t:d,shouldUnescape:p,...f})}function lE(e,t,n,r){return e.getFixedT(t,n,r)}function cE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=re.useContext(sE)||{},o=n||r||$w();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new _V),!o){Em("You will need to pass in an i18next instance by using initReactI18next");const x=(M,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(M)?M[M.length-1]:M,E=[x,{},!1];return E.t=x,E.i18n={},E.ready=!1,E}o.options.react&&o.options.react.wait!==void 0&&Em("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...oE(),...o.options.react,...t},{useSuspense:s,keyPrefix:l}=a;let c=i||o.options&&o.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(c);const u=(o.isInitialized||o.initializedStoreOnce)&&c.every(x=>function(E,M){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M.languages&&M.languages.length?M.options.ignoreJSONStructure!==void 0?M.hasLoadedNamespace(E,{lng:T.lng,precheck:(S,C)=>{if(T.bindI18n&&T.bindI18n.indexOf("languageChanging")>-1&&S.services.backendConnector.backend&&S.isLanguageChangingTo&&!C(S.isLanguageChangingTo,E))return!1}}):function(S,C){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const U=C.languages[0],W=!!C.options&&C.options.fallbackLng,te=C.languages[C.languages.length-1];if(U.toLowerCase()==="cimode")return!0;const ne=(ae,he)=>{const fe=C.services.backendConnector.state[`${ae}|${he}`];return fe===-1||fe===2};return!(P.bindI18n&&P.bindI18n.indexOf("languageChanging")>-1&&C.services.backendConnector.backend&&C.isLanguageChangingTo&&!ne(C.isLanguageChangingTo,S)||!(C.hasResourceBundle(U,S)||!C.services.backendConnector.backend||C.options.resources&&!C.options.partialBundledLanguages||ne(U,S)&&(!W||ne(te,S))))}(E,M,T):(Em("i18n.languages were undefined or empty",M.languages),!0)}(x,o,a)),h=function(x,E,M,T){return re.useCallback(lE(x,E,M,T),[x,E,M,T])}(o,t.lng||null,a.nsMode==="fallback"?c:c[0],l),d=()=>h,p=()=>lE(o,t.lng||null,a.nsMode==="fallback"?c:c[0],l),[f,m]=re.useState(d);let b=c.join();t.lng&&(b=`${t.lng}${b}`);const v=((x,E)=>{const M=re.useRef();return re.useEffect(()=>{M.current=x},[x,E]),M.current})(b),_=re.useRef(!0);re.useEffect(()=>{const{bindI18n:x,bindI18nStore:E}=a;function M(){_.current&&m(p)}return _.current=!0,!u&&!s&&(t.lng?rE(o,t.lng,c,()=>{_.current&&m(p)}):nE(o,c,()=>{_.current&&m(p)})),u&&v&&v!==b&&_.current&&m(p),x&&o&&o.on(x,M),E&&o&&o.store.on(E,M),()=>{_.current=!1,x&&o&&x.split(" ").forEach(T=>o.off(T,M)),E&&o&&E.split(" ").forEach(T=>o.store.off(T,M))}},[o,b]),re.useEffect(()=>{_.current&&u&&m(d)},[o,l,u]);const w=[f,o,u];if(w.t=f,w.i18n=o,w.ready=u,u||!u&&!s)return w;throw new Promise(x=>{t.lng?rE(o,t.lng,c,()=>x()):nE(o,c,()=>x())})}function kV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13.0001H9V11.0001H3V1.8457C3 1.56956 3.22386 1.3457 3.5 1.3457C3.58425 1.3457 3.66714 1.36699 3.74096 1.4076L22.2034 11.562C22.4454 11.695 22.5337 11.9991 22.4006 12.241C22.3549 12.3241 22.2865 12.3925 22.2034 12.4382L3.74096 22.5925C3.499 22.7256 3.19497 22.6374 3.06189 22.3954C3.02129 22.3216 3 22.2387 3 22.1544V13.0001Z"}}]})(e)}function SV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 7H22V9H16V3H18V7ZM8 9H2V7H6V3H8V9ZM18 17V21H16V15H22V17H18ZM8 15V21H6V17H2V15H8Z"}}]})(e)}function EV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 3H22V9H20V5H16V3ZM2 3H8V5H4V9H2V3ZM20 19V15H22V21H16V19H20ZM4 19H8V21H2V15H4V19Z"}}]})(e)}function AV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"}}]})(e)}function CV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9998 3C10.3429 3 8.99976 4.34315 8.99976 6V10C8.99976 11.6569 10.3429 13 11.9998 13C13.6566 13 14.9998 11.6569 14.9998 10V6C14.9998 4.34315 13.6566 3 11.9998 3ZM11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"}}]})(e)}function TV(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4C14.5905 4 16.8939 5.23053 18.3573 7.14274L16 9.5H22V3.5L19.7814 5.71863C17.9494 3.452 15.1444 2 12 2 6.47715 2 2 6.47715 2 12H4C4 7.58172 7.58172 4 12 4ZM20 12C20 16.4183 16.4183 20 12 20 9.40951 20 7.10605 18.7695 5.64274 16.8573L8 14.5 2 14.5V20.5L4.21863 18.2814C6.05062 20.548 8.85557 22 12 22 17.5228 22 22 17.5228 22 12H20Z"}}]})(e)}const MV=()=>{const e=Dr(),t=Se($n);return Vl({mutationFn:()=>(async n=>{const{chatbot_id:r,conversation_id:i}=n;if(!r||!i)throw new Error("chatbot_id and conversation_id are required");const o=`${pr.chatHost}/api/v1/live_avatar/stop_stream`;return(await sn.post(o,n)).data})({chatbot_id:e==null?void 0:e.id,conversation_id:t})})},uE=e=>{let t=0;const n=setInterval(()=>{kt.scrollToBottom(0),e(DS(Date.now())),t++,t===6&&clearInterval(n)},100)},RV=({isOnPlayground:e,disabled:t,disableSend:n,callbacks:r})=>{var i;const o=In(),a=Se(K=>K.chatBox.isLiveChatEnded),s=re.useRef(null),[l,c]=re.useState(""),[u,h]=re.useState(!1),[d,p]=re.useState(null),f=$l(),m=So(),[b,v]=re.useState([]),[_,w]=re.useState(new Map),x=re.useRef(null);kt.messageComposerRef=x;const E=Se(K=>K.chatBox.isUserTyping),M=Se(K=>K.chatBox.botMode),T=(i=kt.chatWrapperRef)==null?void 0:i.current,{mutate:S}=MV();re.useEffect(()=>{let K;return $t&&Jr(M)&&E&&!kt.isMobileKeyboardShown?K=setInterval(()=>{const ye=(()=>{var Ue;if(x.current&&T){const de=x.current.getBoundingClientRect(),be=((Ue=window.visualViewport)==null?void 0:Ue.height)??window.innerHeight,Le=de.top<be;let Ve=0;if(!Le){const He=T.getBoundingClientRect(),st=Math.abs(be-de.bottom);Ve=He.top-st+70}return[Le,Ve]}return null})();if(!ye)return void clearInterval(K);const[me,Pe]=ye;me?clearInterval(K):T&&(T.style.marginTop=`${Pe}px`,kt.isMobileKeyboardShown=!0)},500):T&&(T.style.marginTop="auto"),()=>{K&&clearInterval(K)}},[o,E,T,M]);const{mutateAsync:C,isPending:P}=k9(),{t:U}=cE(),{mutate:W}=jd(),te=async()=>{var K;if(t||n||u||($t||(K=s.current)==null||K.focus(),ar(l)&&ar(b)))return;const ye=l;c("");let me="";if(!ar(b))for(const[Pe,Ue]of b.entries())me=(await C({image:Ue,onUploadProgress:de=>{const{loaded:be,total:Le=1}=de,Ve=Math.round(100*be/Le);w(He=>new Map(He.set(Pe,Ve)))}})).image_gcs_uri;v([]),r==null||r.onSendMessage({text:ye,imageGcsUri:me}),u&&(d==null||d.stop(),d==null||d.start())};re.useEffect(()=>{d?u?d.start():d.stop():function(){if(d)return;const K=window.SpeechRecognition||window.webkitSpeechRecognition;if(!K)return;const ye=new K;ye.continuous=!0,ye.interimResults=!0,ye.lang="en-US",ye.maxAlternatives=1,p(ye),ye.onresult=function(me){let Pe="",Ue=!1;for(let de=0;de<me.results.length;++de)Pe+=me.results[de][0].transcript,me.results[de].isFinal&&(Ue=!0);c(Pe),Ue&&(ye.stop(),h(!1))},ye.onerror=function(me){ye.stop(),h(!1)},ye.onend=function(){ye.stop(),h(!1)}}()},[u,d]);const ne=t||n||u;re.useEffect(()=>{var K;e||ne||$t||(K=s.current)==null||K.focus()},[e,ne]);const ae="w-6 h-6",he=u?AV:CV,fe={color:m.text_color},le={position:"absolute",right:0,margin:0};let N=U("typeYourMessage");ne&&(N=U("thinking")),u&&(N=U("listening")),P&&(N="Uploading...");const H={background:"white",border:"1px solid #e5e7eb",borderRadius:"0.5rem",display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"center",alignSelf:"stretch",margin:"1em",gap:"1em",position:"relative",paddingTop:ar(b)?0:110};if(f&&(H.padding="0",le.right="0"),a)return null;const F=$b(l);return Fe("div",{ref:x,style:H,className:"shadow-md z-10",children:[G(aV,{images:b,setImages:v,isUploading:P,progressMap:_}),Fe(IV,{style:fe,disabled:t,thereIsGap:F,children:[G(ra,{color:m.primary_color,variant:"flat",onClick:()=>{Jr(M)&&S(),h(!u),W({event_name:u?Yn.VoiceInputClose:Yn.VoiceInputStart})},style:{position:"absolute",left:0,marginLeft:0},children:G(he,{className:ae})}),G("pre",{children:l}),G("textarea",{ref:s,placeholder:N,onInput:K=>{c(K.target.value)},onKeyDown:K=>{if(K.key==="Enter"){if($t&&K.target.blur(),K.preventDefault(),n)return;K.target.value="",te()}},onFocus:()=>{$t&&setTimeout(()=>{uE(o),o(PS(!0))},300)},onBlur:()=>{var K;if(!$t)return;const ye=(K=kt.avatarVideoContainerRef)==null?void 0:K.current;ye&&(ye.style.top="0"),setTimeout(()=>{o(PS(!1)),uE(o),window.scrollTo({top:0,behavior:"smooth"})},300)},value:l,disabled:t,style:{minHeight:"0px"}}),G(ra,{color:m.primary_color,onClick:te,title:"Send",variant:"flat",disabled:ne,style:le,children:G(kV,{className:ae})})]})]})},IV=ht(e=>{const{className:t,...n}=e;return G("livex-chatbox-message-composer-input-wrapper",{...n,class:t})},{target:"e1qu385o0"})(e=>{const{disabled:t,thereIsGap:n}=e,r={fontSize:"0.875em",lineHeight:"1.25em",display:"flex",alignItems:"center",flexGrow:1,position:"relative",paddingTop:4,paddingBottom:4,minHeight:"44px"};return t&&(r.cursor="not-allowed",r["& textarea"]={cursor:"not-allowed"}),n&&(r["& textarea"]={overflowWrap:"break-word"},r["& pre"]={overflowWrap:"break-word"}),r},"");function Kw(e,t){const n=function(i){const o=re.useRef(i);return re.useEffect(()=>{o.current=i}),re.useMemo(()=>(...a)=>{var s;return(s=o.current)==null?void 0:s.call(o,...a)},[])}(e),r=re.useRef(0);return re.useEffect(()=>()=>window.clearTimeout(r.current),[]),re.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),t)},[n,t])}function hE(e,t,n){re.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}const OV={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function dE(e){const t=re.useRef(0),n=re.useRef(null),[r,i]=re.useState(OV),o=re.useMemo(()=>typeof window<"u"?new ResizeObserver(a=>{const s=a[0];s&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(s.contentRect)}))}):null,[]);return re.useEffect(()=>(n.current&&(o==null||o.observe(n.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}const pE={passive:!0},LV=()=>Fe("livex-typing-effect-container",{children:[Fe("livex-typing-background-container",{children:[G(DV,{src:"data:image/svg+xml,%3csvg%20width='70'%20height='35'%20viewBox='0%200%2070%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_b_1_611)'%3e%3crect%20width='70'%20height='35'%20rx='17.5'%20fill='%23eee'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_b_1_611'%20x='-20'%20y='-20'%20width='110'%20height='75'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeGaussianBlur%20in='BackgroundImageFix'%20stdDeviation='10'/%3e%3cfeComposite%20in2='SourceAlpha'%20operator='in'%20result='effect1_backgroundBlur_1_611'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_backgroundBlur_1_611'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",alt:""}),G(PV,{src:"data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='5'%20cy='5'%20r='5'%20fill='%23eee'/%3e%3c/svg%3e",alt:""}),G(NV,{src:"data:image/svg+xml,%3csvg%20width='6'%20height='6'%20viewBox='0%200%206%206'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='3'%20cy='3'%20r='3'%20fill='%23eee'/%3e%3c/svg%3e",alt:""})]}),Fe("livex-typing-dots-container",{children:[G("livex-typing-dot",{}),G("livex-typing-dot",{id:"livex-typing-dot-2"}),G("livex-typing-dot",{id:"livex-typing-dot-3"})]})]}),Qw=wk`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,DV=ht("img",{target:"e1lrqwpz2"})("animation:",Qw," 1s ease-in;"),PV=ht("img",{target:"e1lrqwpz1"})("animation:",Qw," 1.1s ease-in;transform:translateY(-10px);"),NV=ht("img",{target:"e1lrqwpz0"})("animation:",Qw," 1.2s ease-in;transform:translateY(-8px) translateX(-5px);");function fE(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const a=n.slice(i,r).trim();(a||!o)&&t.push(a),i=r+1,r=n.indexOf(",",i)}return t}const BV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FV={};function mE(e,t){return(FV.jsx?zV:BV).test(e)}const UV=/[ \t\n\f\r]/g;function gE(e){return e.replace(UV,"")===""}class Qd{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}function vE(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Qd(n,r,t)}function Yd(e){return e.toLowerCase()}Qd.prototype.property={},Qd.prototype.normal={},Qd.prototype.space=null;class oo{constructor(t,n){this.property=t,this.attribute=n}}oo.prototype.space=null,oo.prototype.boolean=!1,oo.prototype.booleanish=!1,oo.prototype.overloadedBoolean=!1,oo.prototype.number=!1,oo.prototype.commaSeparated=!1,oo.prototype.spaceSeparated=!1,oo.prototype.commaOrSpaceSeparated=!1,oo.prototype.mustUseProperty=!1,oo.prototype.defined=!1;let jV=0;const Mt=Wl(),Xn=Wl(),yE=Wl(),Oe=Wl(),mn=Wl(),Iu=Wl(),Fi=Wl();function Wl(){return 2**++jV}const Yw=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mt,booleanish:Xn,commaOrSpaceSeparated:Fi,commaSeparated:Iu,number:Oe,overloadedBoolean:yE,spaceSeparated:mn},Symbol.toStringTag,{value:"Module"})),Xw=Object.keys(Yw);class Jw extends oo{constructor(t,n,r,i){let o=-1;if(super(t,n),bE(this,"space",i),typeof r=="number")for(;++o<Xw.length;){const a=Xw[o];bE(this,Xw[o],(r&Yw[a])===Yw[a])}}}function bE(e,t,n){n&&(e[t]=n)}Jw.prototype.defined=!0;const VV={}.hasOwnProperty;function Ou(e){const t={},n={};let r;for(r in e.properties)if(VV.call(e.properties,r)){const i=e.properties[r],o=new Jw(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Yd(r)]=r,n[Yd(o.attribute)]=r}return new Qd(t,n,e.space)}const wE=Ou({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_E=Ou({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function xE(e,t){return t in e?e[t]:t}function kE(e,t){return xE(e,t.toLowerCase())}const SE=Ou({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:kE,properties:{xmlns:null,xmlnsXLink:null}}),EE=Ou({transform:(e,t)=>t==="role"?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Xn,ariaAutoComplete:null,ariaBusy:Xn,ariaChecked:Xn,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:mn,ariaCurrent:null,ariaDescribedBy:mn,ariaDetails:null,ariaDisabled:Xn,ariaDropEffect:mn,ariaErrorMessage:null,ariaExpanded:Xn,ariaFlowTo:mn,ariaGrabbed:Xn,ariaHasPopup:null,ariaHidden:Xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mn,ariaLevel:Oe,ariaLive:null,ariaModal:Xn,ariaMultiLine:Xn,ariaMultiSelectable:Xn,ariaOrientation:null,ariaOwns:mn,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:Xn,ariaReadOnly:Xn,ariaRelevant:null,ariaRequired:Xn,ariaRoleDescription:mn,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:Xn,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null}}),qV=Ou({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:kE,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Iu,acceptCharset:mn,accessKey:mn,action:null,allow:null,allowFullScreen:Mt,allowPaymentRequest:Mt,allowUserMedia:Mt,alt:null,as:null,async:Mt,autoCapitalize:null,autoComplete:mn,autoFocus:Mt,autoPlay:Mt,blocking:mn,capture:null,charSet:null,checked:Mt,cite:null,className:mn,cols:Oe,colSpan:null,content:null,contentEditable:Xn,controls:Mt,controlsList:mn,coords:Oe|Iu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mt,defer:Mt,dir:null,dirName:null,disabled:Mt,download:yE,draggable:Xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mt,formTarget:null,headers:mn,height:Oe,hidden:Mt,high:Oe,href:null,hrefLang:null,htmlFor:mn,httpEquiv:mn,id:null,imageSizes:null,imageSrcSet:null,inert:Mt,inputMode:null,integrity:null,is:null,isMap:Mt,itemId:null,itemProp:mn,itemRef:mn,itemScope:Mt,itemType:mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mt,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:Mt,muted:Mt,name:null,nonce:null,noModule:Mt,noValidate:Mt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mt,optimum:Oe,pattern:null,ping:mn,placeholder:null,playsInline:Mt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mt,referrerPolicy:null,rel:mn,required:Mt,reversed:Mt,rows:Oe,rowSpan:Oe,sandbox:mn,scope:null,scoped:Mt,seamless:Mt,selected:Mt,shadowRootClonable:Mt,shadowRootDelegatesFocus:Mt,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:Xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:Mt,useMap:null,value:Xn,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mn,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mt,declare:Mt,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:Mt,noHref:Mt,noShade:Mt,noWrap:Mt,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:Xn,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mt,disableRemotePlayback:Mt,prefix:null,property:null,results:Oe,security:null,unselectable:null}}),HV=Ou({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:xE,properties:{about:Fi,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:Mt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Iu,g2:Iu,glyphName:Iu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:Fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Fi,rev:Fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Fi,requiredFeatures:Fi,requiredFonts:Fi,requiredFormats:Fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:Fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Fi,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),$V=/^data[-\w.:]+$/i,AE=/-[a-z]/g,GV=/[A-Z]/g;function CE(e,t){const n=Yd(t);let r=t,i=oo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$V.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(AE,KV);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!AE.test(o)){let a=o.replace(GV,WV);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=Jw}return new i(r,t)}function WV(e){return"-"+e.toLowerCase()}function KV(e){return e.charAt(1).toUpperCase()}const QV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},TE=vE([_E,wE,SE,EE,qV],"html"),Am=vE([_E,wE,SE,EE,HV],"svg");function ME(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}var RE={},IE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,YV=/\n/g,XV=/^\s*/,JV=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ZV=/^:\s*/,eq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,tq=/^[;\s]*/,nq=/^\s+|\s+$/g,Kl="";function OE(e){return e?e.replace(nq,Kl):Kl}var rq=Rn&&Rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(RE,"__esModule",{value:!0});var iq=rq(function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var f=p.match(YV);f&&(n+=f.length);var m=p.lastIndexOf(`
`);r=~m?p.length-m:r+p.length}function o(){var p={line:n,column:r};return function(f){return f.position=new a(p),c(),f}}function a(p){this.start=p,this.end={line:n,column:r},this.source=t.source}function s(p){var f=new Error(t.source+":"+n+":"+r+": "+p);if(f.reason=p,f.filename=t.source,f.line=n,f.column=r,f.source=e,!t.silent)throw f}function l(p){var f=p.exec(e);if(f){var m=f[0];return i(m),e=e.slice(m.length),f}}function c(){l(XV)}function u(p){var f;for(p=p||[];f=h();)f!==!1&&p.push(f);return p}function h(){var p=o();if(e.charAt(0)=="/"&&e.charAt(1)=="*"){for(var f=2;Kl!=e.charAt(f)&&(e.charAt(f)!="*"||e.charAt(f+1)!="/");)++f;if(f+=2,Kl===e.charAt(f-1))return s("End of comment missing");var m=e.slice(2,f-2);return r+=2,i(m),e=e.slice(f),r+=2,p({type:"comment",comment:m})}}function d(){var p=o(),f=l(JV);if(f){if(h(),!l(ZV))return s("property missing ':'");var m=l(eq),b=p({type:"declaration",property:OE(f[0].replace(IE,Kl)),value:m?OE(m[0].replace(IE,Kl)):Kl});return l(tq),b}}return a.prototype.content=e,c(),function(){var p,f=[];for(u(f);p=d();)p!==!1&&(f.push(p),u(f));return f}()}),LE=RE.default=function(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,iq.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var a=o.property,s=o.value;i?t(a,s,o):s&&((n=n||{})[a]=s)}}),n};const oq=LE.default||LE,DE=PE("end"),Zw=PE("start");function PE(e){return function(t){const n=t&&t.position&&t.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Xd(e){return e&&typeof e=="object"?"position"in e||"type"in e?NE(e.position):"start"in e||"end"in e?NE(e):"line"in e||"column"in e?e4(e):"":""}function e4(e){return BE(e&&e.line)+":"+BE(e&&e.column)}function NE(e){return e4(e&&e.start)+"-"+e4(e&&e.end)}function BE(e){return e&&typeof e=="number"?e:1}class Br extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&(o="line"in n&&"column"in n||"start"in n&&"end"in n?{place:n}:"type"in n?{ancestors:[n],place:n.position}:{...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Xd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Br.prototype.file="",Br.prototype.name="",Br.prototype.reason="",Br.prototype.message="",Br.prototype.stack="",Br.prototype.column=void 0,Br.prototype.line=void 0,Br.prototype.ancestors=void 0,Br.prototype.cause=void 0,Br.prototype.fatal=void 0,Br.prototype.place=void 0,Br.prototype.ruleId=void 0,Br.prototype.source=void 0;const t4={}.hasOwnProperty,aq=new Map,sq=/[A-Z]/g,lq=/-([a-z])/g,cq=new Set(["table","tbody","thead","tfoot","tr"]),uq=new Set(["td","th"]),zE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(a,s){return l;function l(c,u,h,d){const p=Array.isArray(h.children),f=Zw(c);return s(u,h,d,p,{columnNumber:f?f.column-1:void 0,fileName:a,lineNumber:f?f.line:void 0},void 0)}}(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=function(a,s,l){return c;function c(u,h,d,p){const f=Array.isArray(d.children)?l:s;return p?f(h,d,p):f(h,d)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Am:TE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=FE(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function FE(e,t,n){return t.type==="element"?function(r,i,o){const a=r.schema;let s=a;i.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=Am,r.schema=s),r.ancestors.push(i);const l=jE(r,i.tagName,!1),c=function(h,d){const p={};let f,m;for(m in d.properties)if(m!=="children"&&t4.call(d.properties,m)){const b=dq(h,m,d.properties[m]);if(b){const[v,_]=b;h.tableCellAlignToStyle&&v==="align"&&typeof _=="string"&&uq.has(d.tagName)?f=_:p[v]=_}}return f&&((p.style||(p.style={}))[h.stylePropertyNameCase==="css"?"text-align":"textAlign"]=f),p}(r,i);let u=r4(r,i);return cq.has(i.tagName)&&(u=u.filter(function(h){return typeof h!="string"||!function(d){return typeof d=="object"?d.type==="text"&&gE(d.value):gE(d)}(h)})),UE(r,c,l,i),n4(c,u),r.ancestors.pop(),r.schema=a,r.create(i,l,c,o)}(e,t,n):t.type==="mdxFlowExpression"||t.type==="mdxTextExpression"?function(r,i){if(i.data&&i.data.estree&&r.evaluater){const o=i.data.estree.body[0];return o.type,r.evaluater.evaluateExpression(o.expression)}Jd(r,i.position)}(e,t):t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement"?function(r,i,o){const a=r.schema;let s=a;i.name==="svg"&&a.space==="html"&&(s=Am,r.schema=s),r.ancestors.push(i);const l=i.name===null?r.Fragment:jE(r,i.name,!0),c=function(h,d){const p={};for(const f of d.attributes)if(f.type==="mdxJsxExpressionAttribute")if(f.data&&f.data.estree&&h.evaluater){const m=f.data.estree.body[0];m.type;const b=m.expression;b.type;const v=b.properties[0];v.type,Object.assign(p,h.evaluater.evaluateExpression(v.argument))}else Jd(h,d.position);else{const m=f.name;let b;if(f.value&&typeof f.value=="object")if(f.value.data&&f.value.data.estree&&h.evaluater){const v=f.value.data.estree.body[0];v.type,b=h.evaluater.evaluateExpression(v.expression)}else Jd(h,d.position);else b=f.value===null||f.value;p[m]=b}return p}(r,i),u=r4(r,i);return UE(r,c,l,i),n4(c,u),r.ancestors.pop(),r.schema=a,r.create(i,l,c,o)}(e,t,n):t.type==="mdxjsEsm"?function(r,i){if(i.data&&i.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(i.data.estree);Jd(r,i.position)}(e,t):t.type==="root"?function(r,i,o){const a={};return n4(a,r4(r,i)),r.create(i,r.Fragment,a,o)}(e,t,n):t.type==="text"?function(r,i){return i.value}(0,t):void 0}function UE(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function n4(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function r4(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:aq;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const s=FE(e,o,a);s!==void 0&&n.push(s)}return n}function dq(e,t,n){const r=CE(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(i,o){const a={};return(i[i.length-1]===""?[...i,""]:i).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}(n):function(i){return i.join(" ").trim()}(n)),r.property==="style"){let i=typeof n=="object"?n:function(o,a){const s={};try{oq(a,l)}catch(c){if(!o.ignoreInvalidStyle){const u=c,h=new Br("Cannot parse `style` attribute",{ancestors:o.ancestors,cause:u,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw h.file=o.filePath||void 0,h.url=zE+"#cannot-parse-style-attribute",h}}return s;function l(c,u){let h=c;h.slice(0,2)!=="--"&&(h.slice(0,4)==="-ms-"&&(h="ms-"+h.slice(4)),h=h.replace(lq,fq)),s[h]=u}}(e,String(n));return e.stylePropertyNameCase==="css"&&(i=function(o){const a={};let s;for(s in o)t4.call(o,s)&&(a[pq(s)]=o[s]);return a}(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?QV[r.property]||r.property:r.attribute,n]}}function jE(e,t,n){let r;if(n)if(t.includes(".")){const i=t.split(".");let o,a=-1;for(;++a<i.length;){const s=mE(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!(!a||s.type!=="Literal"),optional:!1}:s}r=o}else r=mE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return t4.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jd(e)}function Jd(e,t){const n=new Br("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=zE+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pq(e){let t=e.replace(sq,mq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function fq(e,t){return t.toUpperCase()}function mq(e){return"-"+e.toLowerCase()}const i4={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gq={};function o4(e,t){const n=gq;return VE(e,typeof n.includeImageAlt!="boolean"||n.includeImageAlt,typeof n.includeHtml!="boolean"||n.includeHtml)}function VE(e,t,n){if(function(r){return!(!r||typeof r!="object")}(e)){if("value"in e)return e.type!=="html"||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return qE(e.children,t,n)}return Array.isArray(e)?qE(e,t,n):""}function qE(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=VE(e[i],t,n);return r.join("")}const HE=document.createElement("i");function a4(e){const t="&"+e+";";HE.innerHTML=t;const n=HE.textContent;return(n.charCodeAt(n.length-1)!==59||e==="semi")&&n!==t&&n}function ao(e,t,n,r){const i=e.length;let o,a=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function so(e,t){return e.length>0?(ao(e,e.length,0,t),e):t}const $E={}.hasOwnProperty;function GE(e){const t={};let n=-1;for(;++n<e.length;)vq(t,e[n]);return t}function vq(e,t){let n;for(n in t){const r=($E.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){$E.call(r,o)||(r[o]=[]);const a=i[o];yq(r[o],Array.isArray(a)?a:a?[a]:[])}}}function yq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ao(e,0,0,r)}function WE(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(65535&n)==65535||(65535&n)==65534||n>1114111?"�":String.fromCodePoint(n)}function Eo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ti=Bs(/[A-Za-z]/),zr=Bs(/[\dA-Za-z]/),bq=Bs(/[#-'*+\--9=?A-Z^-~]/);function Cm(e){return e!==null&&(e<32||e===127)}const s4=Bs(/\d/),wq=Bs(/[\dA-Fa-f]/),_q=Bs(/[!-/:-@[-`{-~]/);function nt(e){return e!==null&&e<-2}function un(e){return e!==null&&(e<0||e===32)}function Ft(e){return e===-2||e===-1||e===32}const Tm=Bs(new RegExp("\\p{P}|\\p{S}","u")),Ql=Bs(/\s/);function Bs(e){return function(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}function Lu(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&zr(e.charCodeAt(n+1))&&zr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a="�"}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function zt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return function(s){return Ft(s)?(e.enter(n),a(s)):t(s)};function a(s){return Ft(s)&&o++<i?(e.consume(s),a):(e.exit(n),t(s))}}const xq={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(o){return o===null?void e.consume(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),zt(e,t,"linePrefix"))},function(o){return e.enter("paragraph"),r(o)});let n;return t;function r(o){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,i(o)}function i(o){return o===null?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(o)):nt(o)?(e.consume(o),e.exit("chunkText"),r):(e.consume(o),i)}}},kq={tokenize:function(e){const t=this,n=[];let r,i,o,a=0;return s;function s(w){if(a<n.length){const x=n[a];return t.containerState=x[1],e.attempt(x[0].continuation,l,c)(w)}return c(w)}function l(w){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&_();const x=t.events.length;let E,M=x;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){E=t.events[M][1].end;break}v(a);let T=x;for(;T<t.events.length;)t.events[T][1].end=Object.assign({},E),T++;return ao(t.events,M+1,0,t.events.slice(x)),t.events.length=T,c(w)}return s(w)}function c(w){if(a===n.length){if(!r)return d(w);if(r.currentConstruct&&r.currentConstruct.concrete)return f(w);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(KE,u,h)(w)}function u(w){return r&&_(),v(a),d(w)}function h(w){return t.parser.lazy[t.now().line]=a!==n.length,o=t.now().offset,f(w)}function d(w){return t.containerState={},e.attempt(KE,p,f)(w)}function p(w){return a++,n.push([t.currentConstruct,t.containerState]),d(w)}function f(w){return w===null?(r&&_(),v(0),void e.consume(w)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),m(w))}function m(w){return w===null?(b(e.exit("chunkFlow"),!0),v(0),void e.consume(w)):nt(w)?(e.consume(w),b(e.exit("chunkFlow")),a=0,t.interrupt=void 0,s):(e.consume(w),m)}function b(w,x){const E=t.sliceStream(w);if(x&&E.push(null),w.previous=i,i&&(i.next=w),i=w,r.defineSkip(w.start),r.write(E),t.parser.lazy[w.start.line]){let M=r.events.length;for(;M--;)if(r.events[M][1].start.offset<o&&(!r.events[M][1].end||r.events[M][1].end.offset>o))return;const T=t.events.length;let S,C,P=T;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(S){C=t.events[P][1].end;break}S=!0}for(v(a),M=T;M<t.events.length;)t.events[M][1].end=Object.assign({},C),M++;ao(t.events,P+1,0,t.events.slice(T)),t.events.length=M}}function v(w){let x=n.length;for(;x-- >w;){const E=n[x];t.containerState=E[1],E[0].exit.call(t,e)}n.length=w}function _(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},KE={tokenize:function(e,t,n){return zt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function Mm(e){return e===null||un(e)||Ql(e)?1:Tm(e)?2:void 0}function Rm(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const l4={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Mm(r);let o;return function(s){return o=s,e.enter("attentionSequence"),a(s)};function a(s){if(s===o)return e.consume(s),a;const l=e.exit("attentionSequence"),c=Mm(s),u=!c||c===2&&i||n.includes(s),h=!i||i===2&&c||n.includes(r);return l._open=!!(o===42?u:u&&(i||!h)),l._close=!!(o===42?h:h&&(c||!u)),t(s)}},resolveAll:function(e,t){let n,r,i,o,a,s,l,c,u=-1;for(;++u<e.length;)if(e[u][0]==="enter"&&e[u][1].type==="attentionSequence"&&e[u][1]._close){for(n=u;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const h=Object.assign({},e[n][1].end),d=Object.assign({},e[u][1].start);QE(h,-s),QE(d,s),o={type:s>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:d},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},o.start),e[u][1].start=Object.assign({},a.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=so(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=so(l,[["enter",r,t],["enter",o,t],["exit",o,t],["enter",i,t]]),l=so(l,Rm(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=so(l,[["exit",i,t],["enter",a,t],["exit",a,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=so(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,ao(e,n-1,u-n+3,l),u=n+l.length-c-2;break}}for(u=-1;++u<e.length;)e[u][1].type==="attentionSequence"&&(e[u][1].type="data");return e}};function QE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Sq={name:"autolink",tokenize:function(e,t,n){let r=0;return function(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(d){return ti(d)?(e.consume(d),o):d===64?n(d):l(d)}function o(d){return d===43||d===45||d===46||zr(d)?(r=1,a(d)):l(d)}function a(d){return d===58?(e.consume(d),r=0,s):(d===43||d===45||d===46||zr(d))&&r++<32?(e.consume(d),a):(r=0,l(d))}function s(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Cm(d)?n(d):(e.consume(d),s)}function l(d){return d===64?(e.consume(d),c):bq(d)?(e.consume(d),l):n(d)}function c(d){return zr(d)?u(d):n(d)}function u(d){return d===46?(e.consume(d),r=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):h(d)}function h(d){if((d===45||zr(d))&&r++<63){const p=d===45?h:u;return e.consume(d),p}return n(d)}}},Zd={tokenize:function(e,t,n){return function(i){return Ft(i)?zt(e,r,"linePrefix")(i):r(i)};function r(i){return i===null||nt(i)?t(i):n(i)}},partial:!0},YE={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)};function i(o){return Ft(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}},continuation:{tokenize:function(e,t,n){const r=this;return function(o){return Ft(o)?zt(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)};function i(o){return e.attempt(YE,t,n)(o)}}},exit:function(e){e.exit("blockQuote")}},XE={name:"characterEscape",tokenize:function(e,t,n){return function(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),r};function r(i){return _q(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}},JE={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,o,a=0;return function(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),s};function s(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,o=zr,c(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=wq,c):(e.enter("characterReferenceValue"),i=7,o=s4,c(u))}function c(u){if(u===59&&a){const h=e.exit("characterReferenceValue");return o!==zr||a4(r.sliceSerialize(h))?(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(u)}return o(u)&&a++<i?(e.consume(u),c):n(u)}}},ZE={tokenize:function(e,t,n){const r=this;return function(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)};function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}},partial:!0},eA={name:"codeFenced",tokenize:function(e,t,n){const r=this,i={tokenize:function(w,x,E){let M=0;return T;function T(W){return w.enter("lineEnding"),w.consume(W),w.exit("lineEnding"),S}function S(W){return w.enter("codeFencedFence"),Ft(W)?zt(w,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):C(W)}function C(W){return W===o?(w.enter("codeFencedFenceSequence"),P(W)):E(W)}function P(W){return W===o?(M++,w.consume(W),P):M>=s?(w.exit("codeFencedFenceSequence"),Ft(W)?zt(w,U,"whitespace")(W):U(W)):E(W)}function U(W){return W===null||nt(W)?(w.exit("codeFencedFence"),x(W)):E(W)}},partial:!0};let o,a=0,s=0;return function(w){return function(x){const E=r.events[r.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,o=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(x)}(w)};function l(w){return w===o?(s++,e.consume(w),l):s<3?n(w):(e.exit("codeFencedFenceSequence"),Ft(w)?zt(e,c,"whitespace")(w):c(w))}function c(w){return w===null||nt(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(ZE,p,_)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(w))}function u(w){return w===null||nt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(w)):Ft(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),zt(e,h,"whitespace")(w)):w===96&&w===o?n(w):(e.consume(w),u)}function h(w){return w===null||nt(w)?c(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||nt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(w)):w===96&&w===o?n(w):(e.consume(w),d)}function p(w){return e.attempt(i,_,f)(w)}function f(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m}function m(w){return a>0&&Ft(w)?zt(e,b,"linePrefix",a+1)(w):b(w)}function b(w){return w===null||nt(w)?e.check(ZE,p,_)(w):(e.enter("codeFlowValue"),v(w))}function v(w){return w===null||nt(w)?(e.exit("codeFlowValue"),b(w)):(e.consume(w),v)}function _(w){return e.exit("codeFenced"),t(w)}},concrete:!0},c4={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(l){return e.enter("codeIndented"),zt(e,i,"linePrefix",5)(l)};function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(l):n(l)}function o(l){return l===null?s(l):nt(l)?e.attempt(Eq,o,s)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||nt(l)?(e.exit("codeFlowValue"),o(l)):(e.consume(l),a)}function s(l){return e.exit("codeIndented"),t(l)}}},Eq={tokenize:function(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):nt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):zt(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):nt(a)?i(a):n(a)}},partial:!0},Aq={name:"codeText",tokenize:function(e,t,n){let r,i,o=0;return function(u){return e.enter("codeText"),e.enter("codeTextSequence"),a(u)};function a(u){return u===96?(e.consume(u),o++,a):(e.exit("codeTextSequence"),s(u))}function s(u){return u===null?n(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),s):u===96?(i=e.enter("codeTextSequence"),r=0,c(u)):nt(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||nt(u)?(e.exit("codeTextData"),s(u)):(e.consume(u),l)}function c(u){return u===96?(e.consume(u),r++,c):r===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(u)):(i.type="codeTextData",l(u))}},resolve:function(e){let t,n,r=e.length-4,i=3;if(!(e[i][1].type!=="lineEnding"&&e[i][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=i;++t<r;)if(e[t][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}};class Cq{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ep(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ep(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ep(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ep(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ep(this.left,n.reverse())}}}function ep(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function tA(e){const t={};let n,r,i,o,a,s,l,c=-1;const u=new Cq(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&n[1].type==="chunkFlow"&&u.get(c-1)[1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,i=0,i<s.length&&s[i][1].type==="lineEndingBlank"&&(i+=2),i<s.length&&s[i][1].type==="content"))for(;++i<s.length&&s[i][1].type!=="content";)s[i][1].type==="chunkText"&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Tq(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--&&(o=u.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(r&&(u.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},u.get(r)[1].start),a=u.slice(r,c),a.unshift(n),u.splice(r,c-r+1,a))}}return ao(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function Tq(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,h,d=-1,p=n,f=0,m=0;const b=[m];for(;p;){for(;e.get(++i)[1]!==p;);o.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),h&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(m=d+1,b.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),d=b.length;d--;){const v=s.slice(b[d],b[d+1]),_=o.pop();l.push([_,_+v.length-1]),e.splice(_,2,v)}for(l.reverse(),d=-1;++d<l.length;)c[f+l[d][0]]=f+l[d][1],f+=l[d][1]-l[d][0]-1;return c}const Mq={tokenize:function(e,t){let n;return function(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(a)};function r(a){return a===null?i(a):nt(a)?e.check(Rq,o,i)(a):(e.consume(a),r)}function i(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return tA(e),e}},Rq={tokenize:function(e,t,n){const r=this;return function(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),zt(e,i,"linePrefix")};function i(o){if(o===null||nt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}},partial:!0};function nA(e,t,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(b){return b===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(b),e.exit(o),h):b===null||b===32||b===41||Cm(b)?n(b):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),f(b))};function h(b){return b===62?(e.enter(o),e.consume(b),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===62?(e.exit("chunkString"),e.exit(s),h(b)):b===null||b===60||nt(b)?n(b):(e.consume(b),b===92?p:d)}function p(b){return b===60||b===62||b===92?(e.consume(b),d):d(b)}function f(b){return u||b!==null&&b!==41&&!un(b)?u<c&&b===40?(e.consume(b),u++,f):b===41?(e.consume(b),u--,f):b===null||b===32||b===40||Cm(b)?n(b):(e.consume(b),b===92?m:f):(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(b))}function m(b){return b===40||b===41||b===92?(e.consume(b),f):f(b)}}function rA(e,t,n,r,i,o){const a=this;let s,l=0;return function(d){return e.enter(r),e.enter(i),e.consume(d),e.exit(i),e.enter(o),c};function c(d){return l>999||d===null||d===91||d===93&&!s||d===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):d===93?(e.exit(o),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):nt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===null||d===91||d===93||nt(d)||l++>999?(e.exit("chunkString"),c(d)):(e.consume(d),s||(s=!Ft(d)),d===92?h:u)}function h(d){return d===91||d===92||d===93?(e.consume(d),l++,u):u(d)}}function iA(e,t,n,r,i,o){let a;return function(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),a=h===40?41:h,s):n(h)};function s(h){return h===a?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),l(h))}function l(h){return h===a?(e.exit(o),s(a)):h===null?n(h):nt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),zt(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===a||h===null||nt(h)?(e.exit("chunkString"),l(h)):(e.consume(h),h===92?u:c)}function u(h){return h===a||h===92?(e.consume(h),c):c(h)}}function tp(e,t){let n;return function r(i){return nt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Ft(i)?zt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Iq={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(h){return e.enter("definition"),function(d){return rA.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}(h)};function o(h){return i=Eo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a):n(h)}function a(h){return un(h)?tp(e,s)(h):s(h)}function s(h){return nA(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function l(h){return e.attempt(Oq,c,c)(h)}function c(h){return Ft(h)?zt(e,u,"whitespace")(h):u(h)}function u(h){return h===null||nt(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}},Oq={tokenize:function(e,t,n){return function(a){return un(a)?tp(e,r)(a):n(a)};function r(a){return iA(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return Ft(a)?zt(e,o,"whitespace")(a):o(a)}function o(a){return a===null||nt(a)?t(a):n(a)}},partial:!0},Lq={name:"hardBreakEscape",tokenize:function(e,t,n){return function(i){return e.enter("hardBreakEscape"),e.consume(i),r};function r(i){return nt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}},Dq={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(l){return e.enter("atxHeading"),function(c){return e.enter("atxHeadingSequence"),i(c)}(l)};function i(l){return l===35&&r++<6?(e.consume(l),i):l===null||un(l)?(e.exit("atxHeadingSequence"),o(l)):n(l)}function o(l){return l===35?(e.enter("atxHeadingSequence"),a(l)):l===null||nt(l)?(e.exit("atxHeading"),t(l)):Ft(l)?zt(e,o,"whitespace")(l):(e.enter("atxHeadingText"),s(l))}function a(l){return l===35?(e.consume(l),a):(e.exit("atxHeadingSequence"),o(l))}function s(l){return l===null||l===35||un(l)?(e.exit("atxHeadingText"),o(l)):(e.consume(l),s)}},resolve:function(e,t){let n,r,i=e.length-2,o=3;return e[o][1].type==="whitespace"&&(o+=2),i-2>o&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&e[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(n={type:"atxHeadingText",start:e[o][1].start,end:e[i][1].end},r={type:"chunkText",start:e[o][1].start,end:e[i][1].end,contentType:"text"},ao(e,o,i-o+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}},Pq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oA=["pre","script","style","textarea"],Nq={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let i,o,a,s,l;return function(F){return function(K){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(K),c}(F)};function c(F){return F===33?(e.consume(F),u):F===47?(e.consume(F),o=!0,p):F===63?(e.consume(F),i=3,r.interrupt?t:le):ti(F)?(e.consume(F),a=String.fromCharCode(F),f):n(F)}function u(F){return F===45?(e.consume(F),i=2,h):F===91?(e.consume(F),i=5,s=0,d):ti(F)?(e.consume(F),i=4,r.interrupt?t:le):n(F)}function h(F){return F===45?(e.consume(F),r.interrupt?t:le):n(F)}function d(F){return F==="CDATA[".charCodeAt(s++)?(e.consume(F),s===6?r.interrupt?t:P:d):n(F)}function p(F){return ti(F)?(e.consume(F),a=String.fromCharCode(F),f):n(F)}function f(F){if(F===null||F===47||F===62||un(F)){const K=F===47,ye=a.toLowerCase();return K||o||!oA.includes(ye)?Pq.includes(a.toLowerCase())?(i=6,K?(e.consume(F),m):r.interrupt?t(F):P(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):o?b(F):v(F)):(i=1,r.interrupt?t(F):P(F))}return F===45||zr(F)?(e.consume(F),a+=String.fromCharCode(F),f):n(F)}function m(F){return F===62?(e.consume(F),r.interrupt?t:P):n(F)}function b(F){return Ft(F)?(e.consume(F),b):S(F)}function v(F){return F===47?(e.consume(F),S):F===58||F===95||ti(F)?(e.consume(F),_):Ft(F)?(e.consume(F),v):S(F)}function _(F){return F===45||F===46||F===58||F===95||zr(F)?(e.consume(F),_):w(F)}function w(F){return F===61?(e.consume(F),x):Ft(F)?(e.consume(F),w):v(F)}function x(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),l=F,E):Ft(F)?(e.consume(F),x):M(F)}function E(F){return F===l?(e.consume(F),l=null,T):F===null||nt(F)?n(F):(e.consume(F),E)}function M(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||un(F)?w(F):(e.consume(F),M)}function T(F){return F===47||F===62||Ft(F)?v(F):n(F)}function S(F){return F===62?(e.consume(F),C):n(F)}function C(F){return F===null||nt(F)?P(F):Ft(F)?(e.consume(F),C):n(F)}function P(F){return F===45&&i===2?(e.consume(F),ne):F===60&&i===1?(e.consume(F),ae):F===62&&i===4?(e.consume(F),N):F===63&&i===3?(e.consume(F),le):F===93&&i===5?(e.consume(F),fe):!nt(F)||i!==6&&i!==7?F===null||nt(F)?(e.exit("htmlFlowData"),U(F)):(e.consume(F),P):(e.exit("htmlFlowData"),e.check(Bq,H,U)(F))}function U(F){return e.check(zq,W,H)(F)}function W(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),te}function te(F){return F===null||nt(F)?U(F):(e.enter("htmlFlowData"),P(F))}function ne(F){return F===45?(e.consume(F),le):P(F)}function ae(F){return F===47?(e.consume(F),a="",he):P(F)}function he(F){if(F===62){const K=a.toLowerCase();return oA.includes(K)?(e.consume(F),N):P(F)}return ti(F)&&a.length<8?(e.consume(F),a+=String.fromCharCode(F),he):P(F)}function fe(F){return F===93?(e.consume(F),le):P(F)}function le(F){return F===62?(e.consume(F),N):F===45&&i===2?(e.consume(F),le):P(F)}function N(F){return F===null||nt(F)?(e.exit("htmlFlowData"),H(F)):(e.consume(F),N)}function H(F){return e.exit("htmlFlow"),t(F)}},resolveTo:function(e){let t=e.length;for(;t--&&(e[t][0]!=="enter"||e[t][1].type!=="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},Bq={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Zd,t,n)}},partial:!0},zq={tokenize:function(e,t,n){const r=this;return function(o){return nt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)};function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}},partial:!0},Fq={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,o,a;return function(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),s};function s(N){return N===33?(e.consume(N),l):N===47?(e.consume(N),x):N===63?(e.consume(N),_):ti(N)?(e.consume(N),T):n(N)}function l(N){return N===45?(e.consume(N),c):N===91?(e.consume(N),o=0,p):ti(N)?(e.consume(N),v):n(N)}function c(N){return N===45?(e.consume(N),d):n(N)}function u(N){return N===null?n(N):N===45?(e.consume(N),h):nt(N)?(a=u,he(N)):(e.consume(N),u)}function h(N){return N===45?(e.consume(N),d):u(N)}function d(N){return N===62?ae(N):N===45?h(N):u(N)}function p(N){return N==="CDATA[".charCodeAt(o++)?(e.consume(N),o===6?f:p):n(N)}function f(N){return N===null?n(N):N===93?(e.consume(N),m):nt(N)?(a=f,he(N)):(e.consume(N),f)}function m(N){return N===93?(e.consume(N),b):f(N)}function b(N){return N===62?ae(N):N===93?(e.consume(N),b):f(N)}function v(N){return N===null||N===62?ae(N):nt(N)?(a=v,he(N)):(e.consume(N),v)}function _(N){return N===null?n(N):N===63?(e.consume(N),w):nt(N)?(a=_,he(N)):(e.consume(N),_)}function w(N){return N===62?ae(N):_(N)}function x(N){return ti(N)?(e.consume(N),E):n(N)}function E(N){return N===45||zr(N)?(e.consume(N),E):M(N)}function M(N){return nt(N)?(a=M,he(N)):Ft(N)?(e.consume(N),M):ae(N)}function T(N){return N===45||zr(N)?(e.consume(N),T):N===47||N===62||un(N)?S(N):n(N)}function S(N){return N===47?(e.consume(N),ae):N===58||N===95||ti(N)?(e.consume(N),C):nt(N)?(a=S,he(N)):Ft(N)?(e.consume(N),S):ae(N)}function C(N){return N===45||N===46||N===58||N===95||zr(N)?(e.consume(N),C):P(N)}function P(N){return N===61?(e.consume(N),U):nt(N)?(a=P,he(N)):Ft(N)?(e.consume(N),P):S(N)}function U(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),i=N,W):nt(N)?(a=U,he(N)):Ft(N)?(e.consume(N),U):(e.consume(N),te)}function W(N){return N===i?(e.consume(N),i=void 0,ne):N===null?n(N):nt(N)?(a=W,he(N)):(e.consume(N),W)}function te(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||un(N)?S(N):(e.consume(N),te)}function ne(N){return N===47||N===62||un(N)?S(N):n(N)}function ae(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function he(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),fe}function fe(N){return Ft(N)?zt(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):le(N)}function le(N){return e.enter("htmlTextData"),a(N)}}},u4={name:"labelEnd",tokenize:function(e,t,n){const r=this;let i,o,a=r.events.length;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(h){return i?i._inactive?u(h):(o=r.parser.defined.includes(Eo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),s):n(h)};function s(h){return h===40?e.attempt(Uq,c,o?c:u)(h):h===91?e.attempt(jq,c,o?l:u)(h):o?c(h):u(h)}function l(h){return e.attempt(Vq,c,u)(h)}function c(h){return t(h)}function u(h){return i._balanced=!0,n(h)}},resolveTo:function(e,t){let n,r,i,o,a=e.length,s=0;for(;a--;)if(n=e[a][1],r){if(n.type==="link"||n.type==="labelLink"&&n._inactive)break;e[a][0]==="enter"&&n.type==="labelLink"&&(n._inactive=!0)}else if(i){if(e[a][0]==="enter"&&(n.type==="labelImage"||n.type==="labelLink")&&!n._balanced&&(r=a,n.type!=="labelLink")){s=2;break}}else n.type==="labelEnd"&&(i=a);const l={type:e[r][1].type==="labelLink"?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},u={type:"labelText",start:Object.assign({},e[r+s+2][1].end),end:Object.assign({},e[i-2][1].start)};return o=[["enter",l,t],["enter",c,t]],o=so(o,e.slice(r+1,r+s+3)),o=so(o,[["enter",u,t]]),o=so(o,Rm(t.parser.constructs.insideSpan.null,e.slice(r+s+4,i-3),t)),o=so(o,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),o=so(o,e.slice(i+1)),o=so(o,[["exit",l,t]]),ao(e,r,e.length,o),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}},Uq={tokenize:function(e,t,n){return function(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),r};function r(u){return un(u)?tp(e,i)(u):i(u)}function i(u){return u===41?c(u):nA(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function o(u){return un(u)?tp(e,s)(u):c(u)}function a(u){return n(u)}function s(u){return u===34||u===39||u===40?iA(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):c(u)}function l(u){return un(u)?tp(e,c)(u):c(u)}function c(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),t):n(u)}}},jq={tokenize:function(e,t,n){const r=this;return function(a){return rA.call(r,e,i,o,"reference","referenceMarker","referenceString")(a)};function i(a){return r.parser.defined.includes(Eo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}},Vq={tokenize:function(e,t,n){return function(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),r};function r(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}},qq={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),i};function i(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}},resolveAll:u4.resolveAll},Hq={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i};function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}},resolveAll:u4.resolveAll},h4={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),zt(e,t,"linePrefix")}}},Im={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(s){return e.enter("thematicBreak"),function(l){return r=l,o(l)}(s)};function o(s){return s===r?(e.enter("thematicBreakSequence"),a(s)):i>=3&&(s===null||nt(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(s){return s===r?(e.consume(s),i++,a):(e.exit("thematicBreakSequence"),Ft(s)?zt(e,o,"whitespace")(s):o(s))}}},mi={name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(d){const p=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:s4(d)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(Im,n,l)(d):l(d);if(!r.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(d)}return n(d)};function s(d){return s4(d)&&++a<10?(e.consume(d),s):(!r.interrupt||a<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),l(d)):n(d)}function l(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,e.check(Zd,r.interrupt?n:c,e.attempt($q,h,u))}function c(d){return r.containerState.initialBlankLine=!0,o++,h(d)}function u(d){return Ft(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),h):n(d)}function h(d){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Zd,function(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,zt(e,t,"listItemIndent",r.containerState.size+1)(o)},function(o){return r.containerState.furtherBlankLines||!Ft(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Gq,t,i)(o))});function i(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,zt(e,e.attempt(mi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},$q={tokenize:function(e,t,n){const r=this;return zt(e,function(i){const o=r.events[r.events.length-1];return!Ft(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Gq={tokenize:function(e,t,n){const r=this;return zt(e,function(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)},"listItemIndent",r.containerState.size+1)},partial:!0},aA={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let i;return function(s){let l,c=r.events.length;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){l=r.events[c][1].type==="paragraph";break}return r.parser.lazy[r.now().line]||!r.interrupt&&!l?n(s):(e.enter("setextHeadingLine"),i=s,function(u){return e.enter("setextHeadingLineSequence"),o(u)}(s))};function o(s){return s===i?(e.consume(s),o):(e.exit("setextHeadingLineSequence"),Ft(s)?zt(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||nt(s)?(e.exit("setextHeadingLine"),t(s)):n(s)}},resolveTo:function(e,t){let n,r,i,o=e.length;for(;o--;)if(e[o][0]==="enter"){if(e[o][1].type==="content"){n=o;break}e[o][1].type==="paragraph"&&(r=o)}else e[o][1].type==="content"&&e.splice(o,1),!i&&e[o][1].type==="definition"&&(i=o);const a={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",a,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=a,e.push(["exit",a,t]),e}},Wq={tokenize:function(e){const t=this,n=e.attempt(Zd,function(i){return i===null?void e.consume(i):(e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n)},e.attempt(this.parser.constructs.flowInitial,r,zt(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Mq,r)),"linePrefix")));return n;function r(i){if(i!==null)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}},Kq={resolveAll:lA()},Qq=sA("string"),Yq=sA("text");function sA(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,o,a);return o;function o(c){return l(c)?i(c):a(c)}function a(c){if(c!==null)return t.enter("data"),t.consume(c),s;t.consume(c)}function s(c){return l(c)?(t.exit("data"),i(c)):(t.consume(c),s)}function l(c){if(c===null)return!0;const u=r[c];let h=-1;if(u)for(;++h<u.length;){const d=u[h];if(!d.previous||d.previous.call(n,n.previous))return!0}return!1}},resolveAll:lA(e==="text"?Xq:void 0)}}function lA(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)r===void 0?t[i]&&t[i][1].type==="data"&&(r=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function Xq(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(c===-2)o=!0,l++;else if(c!==-1){a++;break}}if(l){const c={type:n===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function Jq(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[];const l={consume:function(_){nt(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,v()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=_},enter:function(_,w){const x=w||{};return x.type=_,x.start=d(),c.events.push(["enter",x,c]),s.push(x),x},exit:function(_){const w=s.pop();return w.end=d(),c.events.push(["exit",w,c]),w},attempt:m(function(_,w){b(_,w.from)}),check:m(f),interrupt:m(f,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(_,w){return function(x,E){let M=-1;const T=[];let S;for(;++M<x.length;){const C=x[M];let P;if(typeof C=="string")P=C;else switch(C){case-5:P="\r";break;case-4:P=`
`;break;case-3:P=`\r
`;break;case-2:P=E?" ":"	";break;case-1:if(!E&&S)continue;P=" ";break;default:P=String.fromCharCode(C)}S=C===-2,T.push(P)}return T.join("")}(h(_),w)},now:d,defineSkip:function(_){i[_.line]=_.column,v()},write:function(_){return a=so(a,_),function(){let w;for(;r._index<a.length;){const x=a[r._index];if(typeof x=="string")for(w=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===w&&r._bufferIndex<x.length;)p(x.charCodeAt(r._bufferIndex));else p(x)}}(),a[a.length-1]!==null?[]:(b(t,0),c.events=Rm(o,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function h(_){return function(w,x){const E=x.start._index,M=x.start._bufferIndex,T=x.end._index,S=x.end._bufferIndex;let C;if(E===T)C=[w[E].slice(M,S)];else{if(C=w.slice(E,T),M>-1){const P=C[0];typeof P=="string"?C[0]=P.slice(M):C.shift()}S>0&&C.push(w[T].slice(0,S))}return C}(a,_)}function d(){const{line:_,column:w,offset:x,_index:E,_bufferIndex:M}=r;return{line:_,column:w,offset:x,_index:E,_bufferIndex:M}}function p(_){u=u(_)}function f(_,w){w.restore()}function m(_,w){return function(x,E,M){let T,S,C,P;return Array.isArray(x)?U(x):"tokenize"in x?U([x]):function(ae){return he;function he(fe){const le=fe!==null&&ae[fe],N=fe!==null&&ae.null;return U([...Array.isArray(le)?le:le?[le]:[],...Array.isArray(N)?N:N?[N]:[]])(fe)}}(x);function U(ae){return T=ae,S=0,ae.length===0?M:W(ae[S])}function W(ae){return function(he){return P=function(){const fe=d(),le=c.previous,N=c.currentConstruct,H=c.events.length,F=Array.from(s);return{restore:K,from:H};function K(){r=fe,c.previous=le,c.currentConstruct=N,c.events.length=H,s=F,v()}}(),C=ae,ae.partial||(c.currentConstruct=ae),ae.name&&c.parser.constructs.disable.null.includes(ae.name)?ne():ae.tokenize.call(w?Object.assign(Object.create(c),w):c,l,te,ne)(he)}}function te(ae){return _(C,P),E}function ne(ae){return P.restore(),++S<T.length?W(T[S]):M}}}function b(_,w){_.resolveAll&&!o.includes(_)&&o.push(_),_.resolve&&ao(c.events,w,c.events.length-w,_.resolve(c.events.slice(w),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const Zq={42:mi,43:mi,45:mi,48:mi,49:mi,50:mi,51:mi,52:mi,53:mi,54:mi,55:mi,56:mi,57:mi,62:YE},eH={91:Iq},tH={[-2]:c4,[-1]:c4,32:c4},nH={35:Dq,42:Im,45:[aA,Im],60:Nq,61:aA,95:Im,96:eA,126:eA},rH={38:JE,92:XE},iH={[-5]:h4,[-4]:h4,[-3]:h4,33:qq,38:JE,42:l4,60:[Sq,Fq],91:Hq,92:[Lq,XE],93:u4,95:l4,96:Aq},oH={null:[l4,Kq]},aH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:eH,disable:{null:[]},document:Zq,flow:nH,flowInitial:tH,insideSpan:oH,string:rH,text:iH},Symbol.toStringTag,{value:"Module"})),cA=/[\0\t\n\r]/g,sH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uA(e){return e.replace(sH,lH)}function lH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),i=r===120||r===88;return WE(n.slice(i?2:1),i?16:10)}return a4(n)||e}const hA={}.hasOwnProperty;function cH(e,t,n){return typeof t!="string"&&(n=t,t=void 0),function(r){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Lt),autolinkProtocol:W,autolinkEmail:W,atxHeading:l(rt),blockQuote:l(Rt),characterEscape:W,characterReference:W,codeFenced:l(Et),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Et,c),codeText:l(Ot,c),codeTextData:W,data:W,codeFlowValue:W,definition:l(Kt),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(bt),hardBreakEscape:l(We),hardBreakTrailing:l(We),htmlFlow:l(nn,c),htmlFlowData:W,htmlText:l(nn,c),htmlTextData:W,image:l(rr),label:c,link:l(Lt),listItem:l(Be),listItemValue:m,listOrdered:l(en,f),listUnordered:l(en),paragraph:l(xn),reference:Ue,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(rt),strong:l(Er),thematicBreak:l(qp)},exit:{atxHeading:h(),atxHeadingSequence:S,autolink:h(),autolinkEmail:st,autolinkProtocol:He,blockQuote:h(),characterEscapeValue:te,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:Le,characterReference:Ve,codeFenced:h(w),codeFencedFence:_,codeFencedFenceInfo:b,codeFencedFenceMeta:v,codeFlowValue:te,codeIndented:h(x),codeText:h(le),codeTextData:te,data:te,definition:h(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:M,emphasis:h(),hardBreakEscape:h(ae),hardBreakTrailing:h(ae),htmlFlow:h(he),htmlFlowData:te,htmlText:h(fe),htmlTextData:te,image:h(H),label:K,labelText:F,lineEnding:ne,link:h(N),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:de,resourceDestinationString:ye,resourceTitleString:me,resource:Pe,setextHeading:h(U),setextHeadingLineSequence:P,setextHeadingText:C,strong:h(),thematicBreak:h()}};dA(i,(r||{}).mdastExtensions||[]);const o={};return a;function a(ke){let ot={type:"root",children:[]};const yt={stack:[ot],tokenStack:[],config:i,enter:u,exit:d,buffer:c,resume:p,data:o},rn=[];let Vt=-1;for(;++Vt<ke.length;)(ke[Vt][1].type==="listOrdered"||ke[Vt][1].type==="listUnordered")&&(ke[Vt][0]==="enter"?rn.push(Vt):Vt=s(ke,rn.pop(),Vt));for(Vt=-1;++Vt<ke.length;){const Ar=i[ke[Vt][0]];hA.call(Ar,ke[Vt][1].type)&&Ar[ke[Vt][1].type].call(Object.assign({sliceSerialize:ke[Vt][2].sliceSerialize},yt),ke[Vt][1])}if(yt.tokenStack.length>0){const Ar=yt.tokenStack[yt.tokenStack.length-1];(Ar[1]||pA).call(yt,void 0,Ar[0])}for(ot.position={start:zs(ke.length>0?ke[0][1].start:{line:1,column:1,offset:0}),end:zs(ke.length>0?ke[ke.length-2][1].end:{line:1,column:1,offset:0})},Vt=-1;++Vt<i.transforms.length;)ot=i.transforms[Vt](ot)||ot;return ot}function s(ke,ot,yt){let rn,Vt,Ar,Lo,mr=ot-1,va=-1,Za=!1;for(;++mr<=yt;){const gr=ke[mr];switch(gr[1].type){case"listUnordered":case"listOrdered":case"blockQuote":gr[0]==="enter"?va++:va--,Lo=void 0;break;case"lineEndingBlank":gr[0]==="enter"&&(rn&&!Lo&&!va&&!Ar&&(Ar=mr),Lo=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lo=void 0}if(!va&&gr[0]==="enter"&&gr[1].type==="listItemPrefix"||va===-1&&gr[0]==="exit"&&(gr[1].type==="listUnordered"||gr[1].type==="listOrdered")){if(rn){let Gi=mr;for(Vt=void 0;Gi--;){const bi=ke[Gi];if(bi[1].type==="lineEnding"||bi[1].type==="lineEndingBlank"){if(bi[0]==="exit")continue;Vt&&(ke[Vt][1].type="lineEndingBlank",Za=!0),bi[1].type="lineEnding",Vt=Gi}else if(bi[1].type!=="linePrefix"&&bi[1].type!=="blockQuotePrefix"&&bi[1].type!=="blockQuotePrefixWhitespace"&&bi[1].type!=="blockQuoteMarker"&&bi[1].type!=="listItemIndent")break}Ar&&(!Vt||Ar<Vt)&&(rn._spread=!0),rn.end=Object.assign({},Vt?ke[Vt][1].start:gr[1].end),ke.splice(Vt||mr,0,["exit",rn,gr[2]]),mr++,yt++}if(gr[1].type==="listItemPrefix"){const Gi={type:"listItem",_spread:!1,start:Object.assign({},gr[1].start),end:void 0};rn=Gi,ke.splice(mr,0,["enter",Gi,gr[2]]),mr++,yt++,Ar=void 0,Lo=!0}}}return ke[ot][1]._spread=Za,yt}function l(ke,ot){return yt;function yt(rn){u.call(this,ke(rn),rn),ot&&ot.call(this,rn)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(ke,ot,yt){this.stack[this.stack.length-1].children.push(ke),this.stack.push(ke),this.tokenStack.push([ot,yt]),ke.position={start:zs(ot.start),end:void 0}}function h(ke){return ot;function ot(yt){ke&&ke.call(this,yt),d.call(this,yt)}}function d(ke,ot){const yt=this.stack.pop(),rn=this.tokenStack.pop();if(!rn)throw new Error("Cannot close `"+ke.type+"` ("+Xd({start:ke.start,end:ke.end})+"): it’s not open");rn[0].type!==ke.type&&(ot?ot.call(this,ke,rn[0]):(rn[1]||pA).call(this,ke,rn[0])),yt.position.end=zs(ke.end)}function p(){return o4(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(ke){this.data.expectingFirstListItemValue&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(ke),10),this.data.expectingFirstListItemValue=void 0)}function b(){const ke=this.resume();this.stack[this.stack.length-1].lang=ke}function v(){const ke=this.resume();this.stack[this.stack.length-1].meta=ke}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ke=this.resume();this.stack[this.stack.length-1].value=ke.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ke=this.resume();this.stack[this.stack.length-1].value=ke.replace(/(\r?\n|\r)$/g,"")}function E(ke){const ot=this.resume(),yt=this.stack[this.stack.length-1];yt.label=ot,yt.identifier=Eo(this.sliceSerialize(ke)).toLowerCase()}function M(){const ke=this.resume();this.stack[this.stack.length-1].title=ke}function T(){const ke=this.resume();this.stack[this.stack.length-1].url=ke}function S(ke){const ot=this.stack[this.stack.length-1];if(!ot.depth){const yt=this.sliceSerialize(ke).length;ot.depth=yt}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function P(ke){this.stack[this.stack.length-1].depth=this.sliceSerialize(ke).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function W(ke){const ot=this.stack[this.stack.length-1].children;let yt=ot[ot.length-1];(!yt||yt.type!=="text")&&(yt=Wn(),yt.position={start:zs(ke.start),end:void 0},ot.push(yt)),this.stack.push(yt)}function te(ke){const ot=this.stack.pop();ot.value+=this.sliceSerialize(ke),ot.position.end=zs(ke.end)}function ne(ke){const ot=this.stack[this.stack.length-1];if(this.data.atHardBreak)return ot.children[ot.children.length-1].position.end=zs(ke.end),void(this.data.atHardBreak=void 0);!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(ot.type)&&(W.call(this,ke),te.call(this,ke))}function ae(){this.data.atHardBreak=!0}function he(){const ke=this.resume();this.stack[this.stack.length-1].value=ke}function fe(){const ke=this.resume();this.stack[this.stack.length-1].value=ke}function le(){const ke=this.resume();this.stack[this.stack.length-1].value=ke}function N(){const ke=this.stack[this.stack.length-1];if(this.data.inReference){const ot=this.data.referenceType||"shortcut";ke.type+="Reference",ke.referenceType=ot,delete ke.url,delete ke.title}else delete ke.identifier,delete ke.label;this.data.referenceType=void 0}function H(){const ke=this.stack[this.stack.length-1];if(this.data.inReference){const ot=this.data.referenceType||"shortcut";ke.type+="Reference",ke.referenceType=ot,delete ke.url,delete ke.title}else delete ke.identifier,delete ke.label;this.data.referenceType=void 0}function F(ke){const ot=this.sliceSerialize(ke),yt=this.stack[this.stack.length-2];yt.label=uA(ot),yt.identifier=Eo(ot).toLowerCase()}function K(){const ke=this.stack[this.stack.length-1],ot=this.resume(),yt=this.stack[this.stack.length-1];if(this.data.inReference=!0,yt.type==="link"){const rn=ke.children;yt.children=rn}else yt.alt=ot}function ye(){const ke=this.resume();this.stack[this.stack.length-1].url=ke}function me(){const ke=this.resume();this.stack[this.stack.length-1].title=ke}function Pe(){this.data.inReference=void 0}function Ue(){this.data.referenceType="collapsed"}function de(ke){const ot=this.resume(),yt=this.stack[this.stack.length-1];yt.label=ot,yt.identifier=Eo(this.sliceSerialize(ke)).toLowerCase(),this.data.referenceType="full"}function be(ke){this.data.characterReferenceType=ke.type}function Le(ke){const ot=this.sliceSerialize(ke),yt=this.data.characterReferenceType;let rn;yt?(rn=WE(ot,yt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):rn=a4(ot),this.stack[this.stack.length-1].value+=rn}function Ve(ke){this.stack.pop().position.end=zs(ke.end)}function He(ke){te.call(this,ke),this.stack[this.stack.length-1].url=this.sliceSerialize(ke)}function st(ke){te.call(this,ke),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(ke)}function Rt(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function Ot(){return{type:"inlineCode",value:""}}function Kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function bt(){return{type:"emphasis",children:[]}}function rt(){return{type:"heading",depth:0,children:[]}}function We(){return{type:"break"}}function nn(){return{type:"html",value:""}}function rr(){return{type:"image",title:null,url:"",alt:null}}function Lt(){return{type:"link",title:null,url:"",children:[]}}function en(ke){return{type:"list",ordered:ke.type==="listOrdered",start:null,spread:ke._spread,children:[]}}function Be(ke){return{type:"listItem",spread:ke._spread,checked:null,children:[]}}function xn(){return{type:"paragraph",children:[]}}function Er(){return{type:"strong",children:[]}}function Wn(){return{type:"text",value:""}}function qp(){return{type:"thematicBreak"}}}(n)(function(r){for(;!tA(r););return r}(function(r){const i={defined:[],lazy:{},constructs:GE([aH,...(r||{}).extensions||[]]),content:o(xq),document:o(kq),flow:o(Wq),string:o(Qq),text:o(Yq)};return i;function o(a){return function(s){return Jq(i,a,s)}}}(n).document().write(function(){let r,i=1,o="",a=!0;return function(s,l,c){const u=[];let h,d,p,f,m;for(s=o+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),p=0,o="",a&&(s.charCodeAt(0)===65279&&p++,a=void 0);p<s.length;){if(cA.lastIndex=p,h=cA.exec(s),f=h&&h.index!==void 0?h.index:s.length,m=s.charCodeAt(f),!h){o=s.slice(p);break}if(m===10&&p===f&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<f&&(u.push(s.slice(p,f)),i+=f-p),m){case 0:u.push(65533),i++;break;case 9:for(d=4*Math.ceil(i/4),u.push(-2);i++<d;)u.push(-1);break;case 10:u.push(-4),i=1;break;default:r=!0,i=1}p=f+1}return c&&(r&&u.push(-5),o&&u.push(o),u.push(null)),u}}()(e,t,!0))))}function zs(e){return{line:e.line,column:e.column,offset:e.offset}}function dA(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?dA(e,r):uH(e,r)}}function uH(e,t){let n;for(n in t)if(hA.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function pA(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Xd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Xd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Xd({start:t.start,end:t.end})+") is still open")}function fA(e){const t=this;t.parser=function(n){return cH(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function mA(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function gA(e){return e.spread??e.children.length>1}const vA=9,yA=32;function hH(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(bA(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(bA(t.slice(i),i>0,!1)),o.join("")}function bA(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===vA||o===yA;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===vA||o===yA;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const dH={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]},code:function(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Lu(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mA(e,t);const i={src:Lu(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)},image:function(e,t){const n={src:Lu(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mA(e,t);const i={href:Lu(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)},link:function(e,t){const n={href:Lu(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(u){let h=!1;if(u.type==="list"){h=u.spread||!1;const d=u.children;let p=-1;for(;!h&&++p<d.length;)h=gA(d[p])}return h}(n):gA(t),o={},a=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type!=="element"||u.tagName!=="p"||i?a.push(u):a.push(...u.children)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Zw(t.children[1]),l=DE(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let s=-1;const l=[];for(;++s<a;){const u=t.children[s],h={},d=o?o[s]:void 0;d&&(h.align=d);let p={type:"element",tagName:i,properties:h,children:[]};u&&(p.children=e.all(u),e.patch(u,p),p=e.applyData(u,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:hH(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Om,yaml:Om,definition:Om,footnoteDefinition:Om};function Om(){}const wA=typeof self=="object"?self:globalThis,_A=e=>((t,n)=>{const r=(o,a)=>(t.set(a,o),o),i=o=>{if(t.has(o))return t.get(o);const[a,s]=n[o];switch(a){case 0:case-1:return r(s,o);case 1:{const l=r([],o);for(const c of s)l.push(i(c));return l}case 2:{const l=r({},o);for(const[c,u]of s)l[i(c)]=i(u);return l}case 3:return r(new Date(s),o);case 4:{const{source:l,flags:c}=s;return r(new RegExp(l,c),o)}case 5:{const l=r(new Map,o);for(const[c,u]of s)l.set(i(c),i(u));return l}case 6:{const l=r(new Set,o);for(const c of s)l.add(i(c));return l}case 7:{const{name:l,message:c}=s;return r(new wA[l](c),o)}case 8:return r(BigInt(s),o);case"BigInt":return r(Object(BigInt(s)),o)}return r(new wA[a](s),o)};return i})(new Map,e)(0),Du="",{toString:pH}={},{keys:fH}=Object,np=e=>{const t=typeof e;if(t!=="object"||!e)return[0,t];const n=pH.call(e).slice(8,-1);switch(n){case"Array":return[1,Du];case"Object":return[2,Du];case"Date":return[3,Du];case"RegExp":return[4,Du];case"Map":return[5,Du];case"Set":return[6,Du]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Lm=([e,t])=>e===0&&(t==="function"||t==="symbol"),xA=(e,{json:t,lossy:n}={})=>{const r=[];return((i,o,a,s)=>{const l=(u,h)=>{const d=s.push(u)-1;return a.set(h,d),d},c=u=>{if(a.has(u))return a.get(u);let[h,d]=np(u);switch(h){case 0:{let f=u;switch(d){case"bigint":h=8,f=u.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return l([-1],u)}return l([h,f],u)}case 1:{if(d)return l([d,[...u]],u);const f=[],m=l([h,f],u);for(const b of u)f.push(c(b));return m}case 2:{if(d)switch(d){case"BigInt":return l([d,u.toString()],u);case"Boolean":case"Number":case"String":return l([d,u.valueOf()],u)}if(o&&"toJSON"in u)return c(u.toJSON());const f=[],m=l([h,f],u);for(const b of fH(u))(i||!Lm(np(u[b])))&&f.push([c(b),c(u[b])]);return m}case 3:return l([h,u.toISOString()],u);case 4:{const{source:f,flags:m}=u;return l([h,{source:f,flags:m}],u)}case 5:{const f=[],m=l([h,f],u);for(const[b,v]of u)(i||!Lm(np(b))&&!Lm(np(v)))&&f.push([c(b),c(v)]);return m}case 6:{const f=[],m=l([h,f],u);for(const b of u)(i||!Lm(np(b)))&&f.push(c(b));return m}}const{message:p}=u;return l([h,{name:d,message:p}],u)};return c})(!(t||n),!!t,new Map,r)(e),r},Dm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_A(xA(e,t)):structuredClone(e):(e,t)=>_A(xA(e,t));function mH(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function gH(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const rp=function(e){if(e==null)return vH;if(typeof e=="function")return Pm(e);if(typeof e=="object")return Array.isArray(e)?function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=rp(t[r]);return Pm(i);function i(...o){let a=-1;for(;++a<n.length;)if(n[a].apply(this,o))return!0;return!1}}(e):function(t){const n=t;return Pm(r);function r(i){const o=i;let a;for(a in t)if(o[a]!==n[a])return!1;return!0}}(e);if(typeof e=="string")return function(t){return Pm(n);function n(r){return r&&r.type===t}}(e);throw new Error("Expected function, string, or object as test")};function Pm(e){return function(t,n,r){return!(!function(i){return i!==null&&typeof i=="object"&&"type"in i}(t)||!e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function vH(){return!0}const kA=[],yH=!0,d4=!1,SA="skip";function p4(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=rp(i),a=r?-1:1;(function s(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+l.type+(p?"<"+p+">":"")+")"})}return d;function d(){let p,f,m,b=kA;if((!t||o(l,c,u[u.length-1]||void 0))&&(b=function(v){return Array.isArray(v)?v:typeof v=="number"?[yH,v]:v==null?kA:[v]}(n(l,u)),b[0]===d4))return b;if("children"in l&&l.children){const v=l;if(v.children&&b[0]!==SA)for(f=(r?v.children.length:-1)+a,m=u.concat(v);f>-1&&f<v.children.length;){const _=v.children[f];if(p=s(_,f,m)(),p[0]===d4)return p;f=typeof p[1]=="number"?p[1]:f+a}}return b}})(e,void 0,[])()}function Nm(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),p4(e,o,function(s,l){const c=l[l.length-1],u=c?c.children.indexOf(s):void 0;return a(s,u,c)},i)}const f4={}.hasOwnProperty,bH={};function wH(e,t){const n=t||bH,r=new Map,i=new Map,o=new Map,a={...dH,...n.handlers},s={all:function(l){const c=[];if("children"in l){const u=l.children;let h=-1;for(;++h<u.length;){const d=s.one(u[h],l);if(d){if(h&&u[h-1].type==="break"&&(!Array.isArray(d)&&d.type==="text"&&(d.value=EA(d.value)),!Array.isArray(d)&&d.type==="element")){const p=d.children[0];p&&p.type==="text"&&(p.value=EA(p.value))}Array.isArray(d)?c.push(...d):c.push(d)}}}return c},applyData:xH,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:function(l,c){const u=l.type,h=s.handlers[u];if(f4.call(s.handlers,u)&&h)return h(s,l,c);if(s.options.passThrough&&s.options.passThrough.includes(u)){if("children"in l){const{children:d,...p}=l,f=Dm(p);return f.children=s.all(l),f}return Dm(l)}return(s.options.unknownHandler||kH)(s,l,c)},options:n,patch:_H,wrap:SH};return Nm(e,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){const c=l.type==="definition"?r:i,u=String(l.identifier).toUpperCase();c.has(u)||c.set(u,l)}}),s}function _H(e,t){e.position&&(t.position=function(n){const r=Zw(n),i=DE(n);if(r&&i)return{start:r,end:i}}(e))}function xH(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:"children"in n?n.children:[n]}),n.type==="element"&&o&&Object.assign(n.properties,Dm(o)),"children"in n&&n.children&&i!=null&&(n.children=i)}return n}function kH(e,t){const n=t.data||{},r=!("value"in t)||f4.call(n,"hProperties")||f4.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function SH(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function EA(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AA(e,t){const n=wH(e,t),r=n.one(e,void 0),i=function(a){const s=typeof a.options.clobberPrefix=="string"?a.options.clobberPrefix:"user-content-",l=a.options.footnoteBackContent||mH,c=a.options.footnoteBackLabel||gH,u=a.options.footnoteLabel||"Footnotes",h=a.options.footnoteLabelTagName||"h2",d=a.options.footnoteLabelProperties||{className:["sr-only"]},p=[];let f=-1;for(;++f<a.footnoteOrder.length;){const m=a.footnoteById.get(a.footnoteOrder[f]);if(!m)continue;const b=a.all(m),v=String(m.identifier).toUpperCase(),_=Lu(v.toLowerCase());let w=0;const x=[],E=a.footnoteCounts.get(v);for(;E!==void 0&&++w<=E;){x.length>0&&x.push({type:"text",value:" "});let S=typeof l=="string"?l:l(f,w);typeof S=="string"&&(S={type:"text",value:S}),x.push({type:"element",tagName:"a",properties:{href:"#"+s+"fnref-"+_+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof c=="string"?c:c(f,w),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const M=b[b.length-1];if(M&&M.type==="element"&&M.tagName==="p"){const S=M.children[M.children.length-1];S&&S.type==="text"?S.value+=" ":M.children.push({type:"text",value:" "}),M.children.push(...x)}else b.push(...x);const T={type:"element",tagName:"li",properties:{id:s+"fn-"+_},children:a.wrap(b,!0)};a.patch(m,T),p.push(T)}if(p.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:h,properties:{...Dm(d),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:a.wrap(p,!0)},{type:"text",value:`
`}]}}(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function EH(e,t){return e&&"run"in e?async function(n,r){const i=AA(n,{file:r,...t});await e.run(i,r)}:function(n,r){return AA(n,{file:r,...t||e})}}function CA(e){if(e)throw e}var Bm=Object.prototype.hasOwnProperty,TA=Object.prototype.toString,MA=Object.defineProperty,RA=Object.getOwnPropertyDescriptor,IA=function(e){return typeof Array.isArray=="function"?Array.isArray(e):TA.call(e)==="[object Array]"},OA=function(e){if(!e||TA.call(e)!=="[object Object]")return!1;var t,n=Bm.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Bm.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return typeof t>"u"||Bm.call(e,t)},LA=function(e,t){MA&&t.name==="__proto__"?MA(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},DA=function(e,t){if(t==="__proto__"){if(!Bm.call(e,t))return;if(RA)return RA(e,t).value}return e[t]},AH=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if((t=arguments[l])!=null)for(n in t)r=DA(s,n),s!==(i=DA(t,n))&&(u&&i&&(OA(i)||(o=IA(i)))?(o?(o=!1,a=r&&IA(r)?r:[]):a=r&&OA(r)?r:{},LA(s,{name:n,newValue:e(u,a,i)})):typeof i<"u"&&LA(s,{name:n,newValue:i}));return s};const m4=ad(AH);function g4(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return!(t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.toStringTag in e||Symbol.iterator in e)}function CH(){const e=[],t={run:function(...n){let r=-1;const i=n.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);(function o(a,...s){const l=e[++r];let c=-1;if(a)i(a);else{for(;++c<n.length;)(s[c]===null||s[c]===void 0)&&(s[c]=n[c]);n=s,l?function(u,h){let d;return p;function p(...b){const v=u.length>b.length;let _;v&&b.push(f);try{_=u.apply(this,b)}catch(w){if(v&&d)throw w;return f(w)}v||(_&&_.then&&typeof _.then=="function"?_.then(m,f):_ instanceof Error?f(_):m(_))}function f(b,...v){d||(d=!0,h(b,...v))}function m(b){f(null,b)}}(l,o)(...s):i(null,...s)}})(null,...n)},use:function(n){if(typeof n!="function")throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const ia={basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ip(e);let n,r=0,i=-1,o=e.length;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let a=-1,s=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(e.codePointAt(o)===t.codePointAt(s--)?s<0&&(i=o):(s=-1,i=a));return r===i?i=a:i<0&&(i=e.length),e.slice(r,i)},dirname:function(e){if(ip(e),e.length===0)return".";let t,n=-1,r=e.length;for(;--r;)if(e.codePointAt(r)===47){if(t){n=r;break}}else t||(t=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)},extname:function(e){ip(e);let t,n=e.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=e.codePointAt(n);if(s!==47)r<0&&(t=!0,r=n+1),s===46?o<0?o=n:a!==1&&(a=1):o>-1&&(a=-1);else if(t){i=n+1;break}}return o<0||r<0||a===0||a===1&&o===r-1&&o===i+1?"":e.slice(o,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)ip(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":function(r){ip(r);const i=r.codePointAt(0)===47;let o=function(a,s){let l,c,u="",h=0,d=-1,p=0,f=-1;for(;++f<=a.length;){if(f<a.length)l=a.codePointAt(f);else{if(l===47)break;l=47}if(l===47){if(d!==f-1&&p!==1)if(d!==f-1&&p===2){if(u.length<2||h!==2||u.codePointAt(u.length-1)!==46||u.codePointAt(u.length-2)!==46){if(u.length>2){if(c=u.lastIndexOf("/"),c!==u.length-1){c<0?(u="",h=0):(u=u.slice(0,c),h=u.length-1-u.lastIndexOf("/")),d=f,p=0;continue}}else if(u.length>0){u="",h=0,d=f,p=0;continue}}s&&(u=u.length>0?u+"/..":"..",h=2)}else u.length>0?u+="/"+a.slice(d+1,f):u=a.slice(d+1,f),h=f-d-1;d=f,p=0}else l===46&&p>-1?p++:p=-1}return u}(r,!i);return o.length===0&&!i&&(o="."),o.length>0&&r.codePointAt(r.length-1)===47&&(o+="/"),i?"/"+o:o}(t)},sep:"/"};function ip(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const TH={cwd:function(){return"/"}};function v4(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function MH(e){if(typeof e=="string")e=new URL(e);else if(!v4(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const n=t.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const i=n.codePointAt(r+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(n)}(e)}const y4=["history","path","basename","stem","extname","dirname"];class PA{constructor(t){let n;n=t?v4(t)?{path:t}:typeof t=="string"||function(o){return!!(o&&typeof o=="object"&&"byteLength"in o&&"byteOffset"in o)}(t)?{value:t}:t:{},this.cwd=TH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r,i=-1;for(;++i<y4.length;){const o=y4[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}for(r in n)y4.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ia.basename(this.path):void 0}set basename(t){w4(t,"basename"),b4(t,"basename"),this.path=ia.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ia.dirname(this.path):void 0}set dirname(t){NA(this.basename,"dirname"),this.path=ia.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ia.extname(this.path):void 0}set extname(t){if(b4(t,"extname"),NA(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ia.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){v4(t)&&(t=MH(t)),w4(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ia.basename(this.path,this.extname):void 0}set stem(t){w4(t,"stem"),b4(t,"stem"),this.path=ia.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Br(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function b4(e,t){if(e&&e.includes(ia.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ia.sep+"`")}function w4(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function NA(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const RH=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},IH={}.hasOwnProperty;class _4 extends RH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CH()}copy(){const t=new _4;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(m4(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(S4("data",this.frozen),this.namespace[t]=n,this):IH.call(this.namespace,t)&&this.namespace[t]||void 0:t?(S4("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=zm(t),r=this.parser||this.Parser;return x4("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),x4("process",this.parser||this.Parser),k4("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=zm(t),l=r.parse(s);function c(u,h){u||!h?a(u):o?o(h):n(void 0,h)}r.run(l,s,function(u,h,d){if(u||!h||!d)return c(u);const p=h,f=r.stringify(p,d);(function(m){return typeof m=="string"||function(b){return!!(b&&typeof b=="object"&&"byteLength"in b&&"byteOffset"in b)}(m)})(f)?d.value=f:d.result=f,c(u,d)})}}processSync(t){let n,r=!1;return this.freeze(),x4("processSync",this.parser||this.Parser),k4("processSync",this.compiler||this.Compiler),this.process(t,function(i,o){r=!0,CA(i),n=o}),FA("processSync","process",r),n}run(t,n,r){zA(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=zm(n);i.run(t,l,function(c,u,h){const d=u||t;c?s(c):a?a(d):r(void 0,d,h)})}}runSync(t,n){let r,i=!1;return this.run(t,n,function(o,a){CA(o),r=a,i=!0}),FA("runSync","run",i),r}stringify(t,n){this.freeze();const r=zm(n),i=this.compiler||this.Compiler;return k4("stringify",i),zA(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(S4("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else{if(typeof t!="object")throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?s(t):a(t)}return this;function o(c){if(typeof c=="function")l(c,[]);else{if(typeof c!="object")throw new TypeError("Expected usable value, not `"+c+"`");if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else a(c)}}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=m4(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null){if(!Array.isArray(c))throw new TypeError("Expected a list of plugins, not `"+c+"`");for(;++u<c.length;)o(c[u])}}function l(c,u){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===c){d=h;break}if(d===-1)r.push([c,...u]);else if(u.length>0){let[p,...f]=u;const m=r[d][1];g4(m)&&g4(p)&&(p=m4(!0,m,p)),r[d]=[c,p,...f]}}}}const BA=new _4().freeze();function x4(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function k4(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function S4(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zA(e){if(!g4(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function FA(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function zm(e){return function(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}(e)?e:new PA(e)}const UA=[],jA={allowDangerousHtml:!0},OH=/^(https?|ircs?|mailto|xmpp)$/i,LH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function DH(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,a=e.disallowedElements,s=e.rehypePlugins||UA,l=e.remarkPlugins||UA,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...jA}:jA,u=e.skipHtml,h=e.unwrapDisallowed,d=e.urlTransform||PH,p=BA().use(fA).use(l).use(EH,c).use(s),f=new PA;typeof r=="string"&&(f.value=r);for(const v of LH)Object.hasOwn(e,v.from)&&(v.from,v.to&&v.to,v.id);const m=p.parse(f);let b=p.runSync(m,f);return i&&(b={type:"element",tagName:"div",properties:{className:i},children:b.type==="root"?b.children:[b]}),Nm(b,function(v,_,w){if(v.type==="raw"&&w&&typeof _=="number")return u?w.children.splice(_,1):w.children[_]={type:"text",value:v.value},_;if(v.type==="element"){let x;for(x in i4)if(Object.hasOwn(i4,x)&&Object.hasOwn(v.properties,x)){const E=v.properties[x],M=i4[x];(M===null||M.includes(v.tagName))&&(v.properties[x]=d(String(E||""),x,v))}}if(v.type==="element"){let x=t?!t.includes(v.tagName):!!a&&a.includes(v.tagName);if(!x&&n&&typeof _=="number"&&(x=!n(v,_,w)),x&&w&&typeof _=="number")return h&&v.children?w.children.splice(_,1,...v.children):w.children.splice(_,1),_}}),hq(b,{Fragment:Gr.Fragment,components:o,ignoreInvalidStyle:!0,jsx:Gr.jsx,jsxs:Gr.jsxs,passKeys:!0,passNode:!0})}function PH(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||OH.test(e.slice(0,t))?e:""}function VA(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function NH(e,t,n){const r=rp((n||{}).ignore||[]),i=function(s){const l=[];if(!Array.isArray(s))throw new TypeError("Expected find and replace tuple or list of tuples");const c=!s[0]||Array.isArray(s[0])?s:[s];let u=-1;for(;++u<c.length;){const h=c[u];l.push([BH(h[0]),zH(h[1])])}return l}(t);let o=-1;for(;++o<i.length;)p4(e,"text",a);function a(s,l){let c,u=-1;for(;++u<l.length;){const h=l[u],d=c?c.children:void 0;if(r(h,d?d.indexOf(h):void 0,c))return;c=h}if(c)return function(h,d){const p=d[d.length-1],f=i[o][0],m=i[o][1];let b=0;const v=p.children.indexOf(h);let _=!1,w=[];f.lastIndex=0;let x=f.exec(h.value);for(;x;){const E=x.index,M={index:x.index,input:x.input,stack:[...d,h]};let T=m(...x,M);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?f.lastIndex=E+1:(b!==E&&w.push({type:"text",value:h.value.slice(b,E)}),Array.isArray(T)?w.push(...T):T&&w.push(T),b=E+x[0].length,_=!0),!f.global)break;x=f.exec(h.value)}return _?(b<h.value.length&&w.push({type:"text",value:h.value.slice(b)}),p.children.splice(v,1,...w)):w=[h],v+w.length}(s,l)}}function BH(e){return typeof e=="string"?new RegExp(function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function zH(e){return typeof e=="function"?e:function(){return e}}const E4="phrasing",A4=["autolink","link","image","label"];function FH(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function C4(e){this.config.enter.autolinkProtocol.call(this,e)}function UH(e){this.config.exit.autolinkProtocol.call(this,e)}function jH(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function VH(e){this.config.exit.autolinkEmail.call(this,e)}function qH(e){this.exit(e)}function HH(e){NH(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$H],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,GH]],{ignore:["link","linkReference"]})}function $H(e,t,n,r,i){let o="";if(!qA(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!function(l){const c=l.split(".");return!(c.length<2||c[c.length-1]&&(/_/.test(c[c.length-1])||!/[a-zA-Z\d]/.test(c[c.length-1]))||c[c.length-2]&&(/_/.test(c[c.length-2])||!/[a-zA-Z\d]/.test(c[c.length-2])))}(n)))return!1;const a=function(l){const c=/[!"&'),.:;<>?\]}]+$/.exec(l);if(!c)return[l,void 0];l=l.slice(0,c.index);let u=c[0],h=u.indexOf(")");const d=VA(l,"(");let p=VA(l,")");for(;h!==-1&&d>p;)l+=u.slice(0,h+1),u=u.slice(h+1),h=u.indexOf(")"),p++;return[l,u]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function GH(e,t,n,r){return!(!qA(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function qA(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ql(n)||Tm(n))&&(!t||n!==47)}function WH(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function KH(){this.buffer()}function QH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Eo(this.sliceSerialize(e)).toLowerCase()}function YH(e){this.exit(e)}function XH(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function JH(){this.buffer()}function ZH(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Eo(this.sliceSerialize(e)).toLowerCase()}function e$(e){this.exit(e)}function HA(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),s(),a(),o+=i.move("]"),o}function t$(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return o+=i.move(n.safe(n.associationId(e),{...i.current(),before:o,after:"]"})),s(),o+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),o+=i.move(n.indentLines(n.containerFlow(e,i.current()),n$)),a(),o}function n$(e,t,n){return t===0?e:(n?"":"    ")+e}HA.peek=function(){return"["};const r$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function i$(e){this.enter({type:"delete",children:[]},e)}function o$(e){this.exit(e)}function $A(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}function a$(e){return e==null?"":String(e)}function s$(e){return e.length}function GA(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}$A.peek=function(){return"~"};const WA={}.hasOwnProperty,l$={}.hasOwnProperty;function KA(e,t){let n,r=-1;if(t.extensions)for(;++r<t.extensions.length;)KA(e,t.extensions[r]);for(n in t)if(l$.call(t,n))switch(n){case"extensions":break;case"unsafe":case"join":c$(e[n],t[n]);break;case"handlers":u$(e[n],t[n]);break;default:e.options[n]=t[n]}return e}function c$(e,t){t&&e.push(...t)}function u$(e,t){t&&Object.assign(e,t)}function h$(e,t,n){return">"+(n?"":" ")+e}function QA(e,t){return YA(e,t.inConstruct,!0)&&!YA(e,t.notInConstruct,!1)}function YA(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function XA(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&QA(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function JA(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>a&&(a=o):o=1,i=r+t.length,r=n.indexOf(t,i);return a}function T4(e,t){return!(t.options.fences!==!1||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function d$(e,t,n){return(n?"":"    ")+e}function M4(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function ZA(e,t,n,r){const i=function(l){const c=l.options.emphasis||"*";if(c!=="*"&&c!=="_")throw new Error("Cannot serialize emphasis with `"+c+"` for `options.emphasis`, expected `*`, or `_`");return c}(n),o=n.enter("emphasis"),a=n.createTracker(r);let s=a.move(i);return s+=a.move(n.containerPhrasing(e,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}function eC(e,t){let n=!1;return Nm(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,d4}),!(e.depth&&!(e.depth<3)||!o4(e)||!t.options.setext&&!n)}function tC(e){return e.value||""}function nC(e,t,n,r){const i=M4(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function rC(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i!=="full"&&c&&c===h?i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}function iC(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const a=n.unsafe[o],s=n.compilePattern(a);let l;if(a.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function oC(e,t){const n=o4(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||e.children.length!==1||e.children[0].type!=="text"||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function aC(e,t,n,r){const i=M4(n),o=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let s,l;if(oC(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),s(),n.stack=u,h}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${o}`),c+=a.move(" "+i),c+=a.move(n.safe(e.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function sC(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),i!=="full"&&c&&c===h?i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}function R4(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function lC(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}ZA.peek=function(e,t,n){return n.options.emphasis||"*"},tC.peek=function(){return"<"},nC.peek=function(){return"!"},rC.peek=function(){return"!"},iC.peek=function(){return"`"},aC.peek=function(e,t,n){return oC(e,n)?"<":"["},sC.peek=function(){return"["};const p$=rp(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cC(e,t,n,r){const i=function(l){const c=l.options.strong||"*";if(c!=="*"&&c!=="_")throw new Error("Cannot serialize strong with `"+c+"` for `options.strong`, expected `*`, or `_`");return c}(n),o=n.enter("strong"),a=n.createTracker(r);let s=a.move(i+i);return s+=a.move(n.containerPhrasing(e,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}cC.peek=function(e,t,n){return n.options.strong||"*"};const I4={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const a=n.indentLines(n.containerFlow(e,o.current()),h$);return i(),a},break:XA,code:function(e,t,n,r){const i=function(h){const d=h.options.fence||"`";if(d!=="`"&&d!=="~")throw new Error("Cannot serialize code with `"+d+"` for `options.fence`, expected `` ` `` or `~`");return d}(n),o=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(T4(e,n)){const h=n.enter("codeIndented"),d=n.indentLines(o,d$);return h(),d}const s=n.createTracker(r),l=i.repeat(Math.max(JA(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const h=n.enter(`codeFencedLang${a}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),h()}if(e.lang&&e.meta){const h=n.enter(`codeFencedMeta${a}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),h()}return u+=s.move(`
`),o&&(u+=s.move(o+`
`)),u+=s.move(l),c(),u},definition:function(e,t,n,r){const i=M4(n),o=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c},emphasis:ZA,hardBreak:XA,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(eC(e,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),d=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return h(),u(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:tC,image:nC,imageReference:rC,inlineCode:iC,link:aC,linkReference:sC,list:function(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=e.ordered?function(u){const h=u.options.bulletOrdered||".";if(h!=="."&&h!==")")throw new Error("Cannot serialize items with `"+h+"` for `options.bulletOrdered`, expected `.` or `)`");return h}(n):R4(n);const s=e.ordered?a==="."?")":".":function(u){const h=R4(u),d=u.options.bulletOther;if(!d)return h==="*"?"-":"*";if(d!=="*"&&d!=="+"&&d!=="-")throw new Error("Cannot serialize items with `"+d+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(d===h)throw new Error("Expected `bullet` (`"+h+"`) and `bulletOther` (`"+d+"`) to be different");return d}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),lC(n)===a&&u){let h=-1;for(;++h<e.children.length;){const d=e.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=s),n.bulletCurrent=a;const c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),c},listItem:function(e,t,n,r){const i=function(u){const h=u.options.listItemIndent||"one";if(h!=="tab"&&h!=="one"&&h!=="mixed")throw new Error("Cannot serialize items with `"+h+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return h}(n);let o=n.bulletCurrent||R4(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let a=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const s=n.createTracker(r);s.move(o+" ".repeat(a-o.length)),s.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),function(u,h,d){return h?(d?"":" ".repeat(a))+u:(d?o:o+" ".repeat(a-o.length))+u});return l(),c},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=n.containerPhrasing(e,r);return o(),i(),a},root:function(e,t,n,r){return(e.children.some(function(i){return p$(i)})?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:cC,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(lC(n)+(n.options.ruleSpaces?" ":"")).repeat(function(i){const o=i.options.ruleRepetition||3;if(o<3)throw new Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},f$=[function(e,t,n,r){if(t.type==="code"&&T4(t,r)&&(e.type==="list"||e.type===t.type&&T4(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&eC(t,r))?void 0:n.spread?1:0}],Yl=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],m$=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Yl},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Yl},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Yl},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Yl},{atBreak:!0,character:"~"}];function g$(e){return e.label||!e.identifier?e.label||"":uA(e.identifier)}function v$(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function y$(e,t,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](e,t,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const b$=/\r?\n|\r/g;function w$(e,t){const n=[];let r,i=0,o=0;for(;r=b$.exec(e);)a(e.slice(i,r.index)),n.push(r[0]),i=r.index+r[0].length,o++;return a(e.slice(i)),n.join("");function a(s){n.push(t(s,o,!s))}}function _$(e,t){return e-t}function uC(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=e+t;let a,s=-1,l=0;for(;a=n.exec(o);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&i.push(e.slice(l,r[s])),i.push("\\"),l=r[s];return i.push(e.slice(l)),i.join("")}function x$(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,o=n.column||1;return{move:function(a){const s=a||"",l=s.split(/\r?\n|\r/g),c=l[l.length-1];return i+=l.length-1,o=l.length===1?o+c.length:1+c.length+r,s},current:function(){return{now:{line:i,column:o},lineShift:r}},shift:function(a){r+=a}}}function k$(e,t={}){const n={enter:function(i){return n.stack.push(i),function(){n.stack.pop()}},indentLines:w$,associationId:g$,containerPhrasing:C$,containerFlow:T$,createTracker:x$,compilePattern:v$,safe:M$,stack:[],unsafe:[...m$],join:[...f$],handlers:{...I4},options:{},indexStack:[],handle:void 0};KA(n,t),n.options.tightDefinitions&&n.join.push(A$),n.handle=function(i,o){const a=o||{};function s(l,...c){let u=s.invalid;const h=s.handlers;if(l&&WA.call(l,i)){const d=String(l[i]);u=WA.call(h,d)?h[d]:s.unknown}if(u)return u.call(this,l,...c)}return s.handlers=a.handlers||{},s.invalid=a.invalid,s.unknown=a.unknown,s}("type",{invalid:S$,unknown:E$,handlers:n.handlers});let r=n.handle(e,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r}function S$(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function E$(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function A$(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function C$(e,t){return function(n,r,i){const o=r.indexStack,a=n.children||[],s=[];let l=-1,c=i.before;o.push(-1);let u=r.createTracker(i);for(;++l<a.length;){const h=a[l];let d;if(o[o.length-1]=l,l+1<a.length){let p=r.handle.handlers[a[l+1].type];p&&p.peek&&(p=p.peek),d=p?p(a[l+1],n,r,{before:"",after:"",...u.current()}).charAt(0):""}else d=i.after;s.length>0&&(c==="\r"||c===`
`)&&h.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),c=" ",u=r.createTracker(i),u.move(s.join(""))),s.push(u.move(r.handle(h,n,r,{...u.current(),before:c,after:d}))),c=s[s.length-1].slice(-1)}return o.pop(),s.join("")}(e,this,t)}function T$(e,t){return function(n,r,i){const o=r.indexStack,a=n.children||[],s=r.createTracker(i),l=[];let c=-1;for(o.push(-1);++c<a.length;){const u=a[c];o[o.length-1]=c,l.push(s.move(r.handle(u,n,r,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(r.bulletLastUsed=void 0),c<a.length-1&&l.push(s.move(y$(u,a[c+1],n,r)))}return o.pop(),l.join("")}(e,this,t)}function M$(e,t){return function(n,r,i){const o=(i.before||"")+(r||"")+(i.after||""),a=[],s=[],l={};let c=-1;for(;++c<n.unsafe.length;){const d=n.unsafe[c];if(!QA(n.stack,d))continue;const p=n.compilePattern(d);let f;for(;f=p.exec(o);){const m="before"in d||!!d.atBreak,b="after"in d,v=f.index+(m?f[1].length:0);a.includes(v)?(l[v].before&&!m&&(l[v].before=!1),l[v].after&&!b&&(l[v].after=!1)):(a.push(v),l[v]={before:m,after:b})}}a.sort(_$);let u=i.before?i.before.length:0;const h=o.length-(i.after?i.after.length:0);for(c=-1;++c<a.length;){const d=a[c];d<u||d>=h||d+1<h&&a[c+1]===d+1&&l[d].after&&!l[d+1].before&&!l[d+1].after||a[c-1]===d-1&&l[d].before&&!l[d-1].before&&!l[d-1].after||(u!==d&&s.push(uC(o.slice(u,d),"\\")),u=d,!/[!-/:-@[-`{-~]/.test(o.charAt(d))||i.encode&&i.encode.includes(o.charAt(d))?(s.push("&#x"+o.charCodeAt(d).toString(16).toUpperCase()+";"),u++):s.push("\\"))}return s.push(uC(o.slice(u,h),i.after)),s.join("")}(this,e,t)}function R$(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function I$(e){this.exit(e),this.data.inTable=void 0}function O$(e){this.enter({type:"tableRow",children:[]},e)}function O4(e){this.exit(e)}function hC(e){this.enter({type:"tableCell",children:[]},e)}function L$(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,D$));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function D$(e,t){return t==="|"?t:e}function P$(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(c,u,h){let d=I4.inlineCode(c,u,h);return h.stack.includes("tableCell")&&(d=d.replace(/\|/g,"\\$&")),d},table:function(c,u,h,d){return s(function(p,f,m){const b=p.children;let v=-1;const _=[],w=f.enter("table");for(;++v<b.length;)_[v]=l(b[v],f,m);return w(),_}(c,h,d),c.align)},tableCell:a,tableRow:function(c,u,h,d){const p=l(c,h,d),f=s([p]);return f.slice(0,f.indexOf(`
`))}}};function a(c,u,h,d){const p=h.enter("tableCell"),f=h.enter("phrasing"),m=h.containerPhrasing(c,{...d,before:o,after:o});return f(),p(),m}function s(c,u){return function(h,d={}){const p=(d.align||[]).concat(),f=d.stringLength||s$,m=[],b=[],v=[],_=[];let w=0,x=-1;for(;++x<h.length;){const C=[],P=[];let U=-1;for(h[x].length>w&&(w=h[x].length);++U<h[x].length;){const W=a$(h[x][U]);if(d.alignDelimiters!==!1){const te=f(W);P[U]=te,(_[U]===void 0||te>_[U])&&(_[U]=te)}C.push(W)}b[x]=C,v[x]=P}let E=-1;if(typeof p=="object"&&"length"in p)for(;++E<w;)m[E]=GA(p[E]);else{const C=GA(p);for(;++E<w;)m[E]=C}E=-1;const M=[],T=[];for(;++E<w;){const C=m[E];let P="",U="";C===99?(P=":",U=":"):C===108?P=":":C===114&&(U=":");let W=d.alignDelimiters===!1?1:Math.max(1,_[E]-P.length-U.length);const te=P+"-".repeat(W)+U;d.alignDelimiters!==!1&&(W=P.length+W+U.length,W>_[E]&&(_[E]=W),T[E]=W),M[E]=te}b.splice(1,0,M),v.splice(1,0,T),x=-1;const S=[];for(;++x<b.length;){const C=b[x],P=v[x];E=-1;const U=[];for(;++E<w;){const W=C[E]||"";let te="",ne="";if(d.alignDelimiters!==!1){const ae=_[E]-(P[E]||0),he=m[E];he===114?te=" ".repeat(ae):he===99?ae%2?(te=" ".repeat(ae/2+.5),ne=" ".repeat(ae/2-.5)):(te=" ".repeat(ae/2),ne=te):ne=" ".repeat(ae)}d.delimiterStart!==!1&&!E&&U.push("|"),d.padding!==!1&&!(d.alignDelimiters===!1&&W==="")&&(d.delimiterStart!==!1||E)&&U.push(" "),d.alignDelimiters!==!1&&U.push(te),U.push(W),d.alignDelimiters!==!1&&U.push(ne),d.padding!==!1&&U.push(" "),(d.delimiterEnd!==!1||E!==w-1)&&U.push("|")}S.push(d.delimiterEnd===!1?U.join("").replace(/ +$/,""):U.join(""))}return S.join(`
`)}(c,{align:u,alignDelimiters:r,padding:n,stringLength:i})}function l(c,u,h){const d=c.children;let p=-1;const f=[],m=u.enter("tableRow");for(;++p<d.length;)f[p]=a(d[p],0,u,h);return m(),f}}function dC(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function N$(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o,a=-1;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function B$(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(a);let l=I4.listItem(e,t,n,{...r,...s.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(c){return c+a})),l}const z$={tokenize:function(e,t,n){let r=0;return function o(a){return(a===87||a===119)&&r<3?(r++,e.consume(a),o):a===46&&r===3?(e.consume(a),i):n(a)};function i(o){return o===null?n(o):t(o)}},partial:!0},pC={tokenize:function(e,t,n){let r,i,o;return a;function a(c){return c===46||c===95?e.check(mC,l,s)(c):c===null||un(c)||Ql(c)||c!==45&&Tm(c)?l(c):(o=!0,e.consume(c),a)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),a}function l(c){return i||r||!o?n(c):t(c)}},partial:!0},fC={tokenize:function(e,t){let n=0,r=0;return i;function i(a){return a===40?(n++,e.consume(a),i):a===41&&r<n?o(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(mC,t,o)(a):a===null||un(a)||Ql(a)?t(a):(e.consume(a),i)}function o(a){return a===41&&r++,e.consume(a),i}},partial:!0},mC={tokenize:function(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||un(s)||Ql(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||un(s)||Ql(s)?t(s):r(s)}function o(s){return ti(s)?a(s):n(s)}function a(s){return s===59?(e.consume(s),r):ti(s)?(e.consume(s),a):n(s)}},partial:!0},F$={tokenize:function(e,t,n){return function(i){return e.consume(i),r};function r(i){return zr(i)?n(i):t(i)}},partial:!0},gC={tokenize:function(e,t,n){const r=this;return function(o){return o!==87&&o!==119||!yC.call(r,r.previous)||D4(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(z$,e.attempt(pC,e.attempt(fC,i),n),n)(o))};function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}},previous:yC},vC={tokenize:function(e,t,n){const r=this;let i="",o=!1;return function(u){return u!==72&&u!==104||!bC.call(r,r.previous)||D4(r.events)?n(u):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(u),e.consume(u),a)};function a(u){if(ti(u)&&i.length<5)return i+=String.fromCodePoint(u),e.consume(u),a;if(u===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(u),s}return n(u)}function s(u){return u===47?(e.consume(u),o?l:(o=!0,s)):n(u)}function l(u){return u===null||Cm(u)||un(u)||Ql(u)||Tm(u)?n(u):e.attempt(pC,e.attempt(fC,c),n)(u)}function c(u){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(u)}},previous:bC},Ua={tokenize:function(e,t,n){const r=this;let i,o;return function(u){return L4(u)&&wC.call(r,r.previous)&&!D4(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(u)):n(u)};function a(u){return L4(u)?(e.consume(u),a):u===64?(e.consume(u),s):n(u)}function s(u){return u===46?e.check(F$,c,l)(u):u===45||u===95||zr(u)?(o=!0,e.consume(u),s):c(u)}function l(u){return e.consume(u),i=!0,s}function c(u){return o&&i&&ti(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(u)):n(u)}},previous:wC},oa={};let Xl=48;for(;Xl<123;)oa[Xl]=Ua,Xl++,Xl===58?Xl=65:Xl===91&&(Xl=97);function yC(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||un(e)}function bC(e){return!ti(e)}function wC(e){return!(e===47||L4(e))}function L4(e){return e===43||e===45||e===46||e===95||zr(e)}function D4(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}oa[43]=Ua,oa[45]=Ua,oa[46]=Ua,oa[95]=Ua,oa[72]=[Ua,vC],oa[104]=[Ua,vC],oa[87]=[Ua,gC],oa[119]=[Ua,gC];const U$={tokenize:function(e,t,n){const r=this;return zt(e,function(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function j$(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const s=r.events[i][1];if(s.type==="labelImage"){a=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return function(s){if(!a||!a._balanced)return n(s);const l=Eo(r.sliceSerialize({start:a.end,end:r.now()}));return l.codePointAt(0)===94&&o.includes(l.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),t(s)):n(s)}}function V$(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function q$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(u){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),s};function s(u){return u!==94?n(u):(e.enter("gfmFootnoteCallMarker"),e.consume(u),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(u){if(a>999||u===93&&!o||u===null||u===91||un(u))return n(u);if(u===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Eo(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(u)}return un(u)||(o=!0),a++,e.consume(u),u===92?c:l}function c(u){return u===91||u===92||u===93?(e.consume(u),a++,l):l(u)}}function H$(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,s=0;return function(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(p)}function c(p){if(s>999||p===93&&!a||p===null||p===91||un(p))return n(p);if(p===93){e.exit("chunkString");const f=e.exit("gfmFootnoteDefinitionLabelString");return o=Eo(r.sliceSerialize(f)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return un(p)||(a=!0),s++,e.consume(p),p===92?u:c}function u(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(o)||i.push(o),zt(e,d,"gfmFootnoteDefinitionWhitespace")):n(p)}function d(p){return t(p)}}function $$(e,t,n){return e.check(Zd,t,e.attempt(U$,t,n))}function G$(e){e.exit("gfmFootnoteDefinition")}function W$(e){let t=(e||{}).singleTilde;const n={tokenize:function(r,i,o){const a=this.previous,s=this.events;let l=0;return function(u){return a===126&&s[s.length-1][1].type!=="characterEscape"?o(u):(r.enter("strikethroughSequenceTemporary"),c(u))};function c(u){const h=Mm(a);if(u===126)return l>1?o(u):(r.consume(u),l++,c);if(l<2&&!t)return o(u);const d=r.exit("strikethroughSequenceTemporary"),p=Mm(u);return d._open=!p||p===2&&!!h,d._close=!h||h===2&&!!p,i(u)}},resolveAll:function(r,i){let o=-1;for(;++o<r.length;)if(r[o][0]==="enter"&&r[o][1].type==="strikethroughSequenceTemporary"&&r[o][1]._close){let a=o;for(;a--;)if(r[a][0]==="exit"&&r[a][1].type==="strikethroughSequenceTemporary"&&r[a][1]._open&&r[o][1].end.offset-r[o][1].start.offset==r[a][1].end.offset-r[a][1].start.offset){r[o][1].type="strikethroughSequence",r[a][1].type="strikethroughSequence";const s={type:"strikethrough",start:Object.assign({},r[a][1].start),end:Object.assign({},r[o][1].end)},l={type:"strikethroughText",start:Object.assign({},r[a][1].end),end:Object.assign({},r[o][1].start)},c=[["enter",s,i],["enter",r[a][1],i],["exit",r[a][1],i],["enter",l,i]],u=i.parser.constructs.insideSpan.null;u&&ao(c,c.length,0,Rm(u,r.slice(a+1,o),i)),ao(c,c.length,0,[["exit",l,i],["enter",r[o][1],i],["exit",r[o][1],i],["exit",s,i]]),ao(r,a-1,o-a+3,c),o=a+c.length-2;break}}for(o=-1;++o<r.length;)r[o][1].type==="strikethroughSequenceTemporary"&&(r[o][1].type="data");return r}};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class K${constructor(){this.map=[]}add(t,n,r){(function(i,o,a,s){let l=0;if(a!==0||s.length!==0){for(;l<i.map.length;){if(i.map[l][0]===o)return i.map[l][1]+=a,void i.map[l][2].push(...s);l+=1}i.map.push([o,a,s])}})(this,t,n,r)}consume(t){if(this.map.sort(function(o,a){return o[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function Q$(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Y$(e,t,n){const r=this;let i,o=0,a=0;return function(S){let C=r.events.length-1;for(;C>-1;){const W=r.events[C][1].type;if(W!=="lineEnding"&&W!=="linePrefix")break;C--}const P=C>-1?r.events[C][1].type:null,U=P==="tableHead"||P==="tableRow"?x:s;return U===x&&r.parser.lazy[r.now().line]?n(S):U(S)};function s(S){return e.enter("tableHead"),e.enter("tableRow"),function(C){return C===124||(i=!0,a+=1),l(C)}(S)}function l(S){return S===null?n(S):nt(S)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h):n(S):Ft(S)?zt(e,l,"whitespace")(S):(a+=1,i&&(i=!1,o+=1),S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),c(S)))}function c(S){return S===null||S===124||un(S)?(e.exit("data"),l(S)):(e.consume(S),S===92?u:c)}function u(S){return S===92||S===124?(e.consume(S),c):c(S)}function h(S){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(S):(e.enter("tableDelimiterRow"),i=!1,Ft(S)?zt(e,d,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):d(S))}function d(S){return S===45||S===58?f(S):S===124?(i=!0,e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),p):w(S)}function p(S){return Ft(S)?zt(e,f,"whitespace")(S):f(S)}function f(S){return S===58?(a+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),m):S===45?(a+=1,m(S)):S===null||nt(S)?_(S):w(S)}function m(S){return S===45?(e.enter("tableDelimiterFiller"),b(S)):w(S)}function b(S){return S===45?(e.consume(S),b):S===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(S),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(S))}function v(S){return Ft(S)?zt(e,_,"whitespace")(S):_(S)}function _(S){return S===124?d(S):(S===null||nt(S))&&i&&o===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(S)):w(S)}function w(S){return n(S)}function x(S){return e.enter("tableRow"),E(S)}function E(S){return S===124?(e.enter("tableCellDivider"),e.consume(S),e.exit("tableCellDivider"),E):S===null||nt(S)?(e.exit("tableRow"),t(S)):Ft(S)?zt(e,E,"whitespace")(S):(e.enter("data"),M(S))}function M(S){return S===null||S===124||un(S)?(e.exit("data"),E(S)):(e.consume(S),S===92?T:M)}function T(S){return S===92||S===124?(e.consume(S),M):M(S)}}function X$(e,t){let n,r,i,o=-1,a=!0,s=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,h=0;const d=new K$;for(;++o<e.length;){const p=e[o],f=p[1];p[0]==="enter"?f.type==="tableHead"?(u=!1,h!==0&&(_C(d,t,h,n,r),r=void 0,h=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},d.add(o,0,[["enter",n,t]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(a=!0,i=void 0,l=[0,0,0,0],c=[0,o+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},d.add(o,0,[["enter",r,t]])),s=f.type==="tableDelimiterRow"?2:r?3:1):!s||f.type!=="data"&&f.type!=="tableDelimiterMarker"&&f.type!=="tableDelimiterFiller"?f.type==="tableCellDivider"&&(a?a=!1:(l[1]!==0&&(c[0]=c[1],i=Fm(d,t,l,s,void 0,i)),l=c,c=[l[1],o,0,0])):(a=!1,c[2]===0&&(l[1]!==0&&(c[0]=c[1],i=Fm(d,t,l,s,void 0,i),l=[0,0,0,0]),c[2]=o)):f.type==="tableHead"?(u=!0,h=o):f.type==="tableRow"||f.type==="tableDelimiterRow"?(h=o,l[1]!==0?(c[0]=c[1],i=Fm(d,t,l,s,o,i)):c[1]!==0&&(i=Fm(d,t,c,s,o,i)),s=0):s&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(c[3]=o)}for(h!==0&&_C(d,t,h,n,r),d.consume(t.events),o=-1;++o<t.events.length;){const p=t.events[o];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Q$(t.events,o))}return e}function Fm(e,t,n,r,i,o){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData";n[0]!==0&&(o.end=Object.assign({},Pu(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const s=Pu(t.events,n[1]);if(o={type:a,start:Object.assign({},s),end:Object.assign({},s)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const l=Pu(t.events,n[2]),c=Pu(t.events,n[3]),u={type:"tableContent",start:Object.assign({},l),end:Object.assign({},c)};if(e.add(n[2],0,[["enter",u,t]]),r!==2){const h=t.events[n[2]],d=t.events[n[3]];if(h[1].end=Object.assign({},d[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,f=n[3]-n[2]-1;e.add(p,f,[])}}e.add(n[3]+1,0,[["exit",u,t]])}return i!==void 0&&(o.end=Object.assign({},Pu(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function _C(e,t,n,r,i){const o=[],a=Pu(t.events,n);i&&(i.end=Object.assign({},a),o.push(["exit",i,t])),r.end=Object.assign({},a),o.push(["exit",r,t]),e.add(n+1,0,o)}function Pu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const J$={tokenize:function(e,t,n){const r=this;return function(s){return r.previous===null&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),i):n(s)};function i(s){return un(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),o):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),o):n(s)}function o(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(s)}function a(s){return nt(s)?t(s):Ft(s)?e.check({tokenize:Z$},t,n)(s):n(s)}}};function Z$(e,t,n){return zt(e,function(r){return r===null?n(r):t(r)},"whitespace")}const eG={};function tG(e){const t=e||eG,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(a){return GE([{text:oa},{document:{91:{tokenize:H$,continuation:{tokenize:$$},exit:G$}},text:{91:{tokenize:q$},93:{add:"after",tokenize:j$,resolveTo:V$}}},W$(a),{flow:{null:{tokenize:Y$,resolveAll:X$}}},{text:{91:J$}}])}(t)),i.push([{transforms:[HH],enter:{literalAutolink:FH,literalAutolinkEmail:C4,literalAutolinkHttp:C4,literalAutolinkWww:C4},exit:{literalAutolink:qH,literalAutolinkEmail:VH,literalAutolinkHttp:UH,literalAutolinkWww:jH}},{enter:{gfmFootnoteDefinition:WH,gfmFootnoteDefinitionLabelString:KH,gfmFootnoteCall:XH,gfmFootnoteCallString:JH},exit:{gfmFootnoteDefinition:YH,gfmFootnoteDefinitionLabelString:QH,gfmFootnoteCall:e$,gfmFootnoteCallString:ZH}},{canContainEols:["delete"],enter:{strikethrough:i$},exit:{strikethrough:o$}},{enter:{table:R$,tableData:hC,tableHeader:hC,tableRow:O$},exit:{codeText:L$,table:I$,tableData:O4,tableHeader:O4,tableRow:O4}},{exit:{taskListCheckValueChecked:dC,taskListCheckValueUnchecked:dC,paragraph:N$}}]),o.push(function(a){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:E4,notInConstruct:A4},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:E4,notInConstruct:A4},{character:":",before:"[ps]",after:"\\/",inConstruct:E4,notInConstruct:A4}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:t$,footnoteReference:HA}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:r$}],handlers:{delete:$A}},P$(a),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:B$}}]}}(t))}const nG={tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return function(v){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),s(v)};function s(v){return v===36?(e.consume(v),a++,s):a<2?n(v):(e.exit("mathFlowFenceSequence"),zt(e,l,"whitespace")(v))}function l(v){return v===null||nt(v)?u(v):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),c(v))}function c(v){return v===null||nt(v)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),u(v)):v===36?n(v):(e.consume(v),c)}function u(v){return e.exit("mathFlowFence"),r.interrupt?t(v):e.attempt(xC,h,m)(v)}function h(v){return e.attempt({tokenize:b,partial:!0},m,d)(v)}function d(v){return(o?zt(e,p,"linePrefix",o+1):p)(v)}function p(v){return v===null?m(v):nt(v)?e.attempt(xC,h,m)(v):(e.enter("mathFlowValue"),f(v))}function f(v){return v===null||nt(v)?(e.exit("mathFlowValue"),p(v)):(e.consume(v),f)}function m(v){return e.exit("mathFlow"),t(v)}function b(v,_,w){let x=0;return zt(v,function(T){return v.enter("mathFlowFence"),v.enter("mathFlowFenceSequence"),E(T)},"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function E(T){return T===36?(x++,v.consume(T),E):x<a?w(T):(v.exit("mathFlowFenceSequence"),zt(v,M,"whitespace")(T))}function M(T){return T===null||nt(T)?(v.exit("mathFlowFence"),_(T)):w(T)}}},concrete:!0},xC={tokenize:function(e,t,n){const r=this;return function(o){return o===null?t(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)};function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}},partial:!0};function rG(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),{tokenize:function(n,r,i){let o,a,s=0;return function(d){return n.enter("mathText"),n.enter("mathTextSequence"),l(d)};function l(d){return d===36?(n.consume(d),s++,l):s<2&&!t?i(d):(n.exit("mathTextSequence"),c(d))}function c(d){return d===null?i(d):d===36?(a=n.enter("mathTextSequence"),o=0,h(d)):d===32?(n.enter("space"),n.consume(d),n.exit("space"),c):nt(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),c):(n.enter("mathTextData"),u(d))}function u(d){return d===null||d===32||d===36||nt(d)?(n.exit("mathTextData"),c(d)):(n.consume(d),u)}function h(d){return d===36?(n.consume(d),o++,h):o===s?(n.exit("mathTextSequence"),n.exit("mathText"),r(d)):(a.type="mathTextData",u(d))}},resolve:iG,previous:oG}}function iG(e){let t,n,r=e.length-4,i=3;if(!(e[i][1].type!=="lineEnding"&&e[i][1].type!=="space"||e[r][1].type!=="lineEnding"&&e[r][1].type!=="space")){for(t=i;++t<r;)if(e[t][1].type==="mathTextData"){e[r][1].type="mathTextPadding",e[i][1].type="mathTextPadding",i+=2,r-=2;break}}for(t=i-1,r++;++t<=r;)n===void 0?t!==r&&e[t][1].type!=="lineEnding"&&(n=t):(t===r||e[t][1].type==="lineEnding")&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function oG(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}class Ui{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?t&&t.loc&&n.loc&&t.loc.lexer===n.loc.lexer?new Ui(t.loc.lexer,t.loc.start,n.loc.end):null:t&&t.loc}}class lo{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new lo(n,Ui.range(this,t))}}class De{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r,i,o="KaTeX parse error: "+t,a=n&&n.loc;if(a&&a.start<=a.end){var s=a.lexer.input;r=a.start,i=a.end,r===s.length?o+=" at end of input: ":o+=" at position "+(r+1)+": ";var l=s.slice(r,i).replace(/[^]/g,"$&̲");o+=(r>15?"…"+s.slice(r-15,r):s.slice(0,r))+l+(i+15<s.length?s.slice(i,i+15)+"…":s.slice(i))}var c=new Error(o);return c.name="ParseError",c.__proto__=De.prototype,c.position=r,r!=null&&i!=null&&(c.length=i-r),c.rawMessage=t,c}}De.prototype.__proto__=Error.prototype;var aG=/([A-Z])/g,sG={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lG=/[&><"']/g,kC=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},lt={contains:function(e,t){return e.indexOf(t)!==-1},deflt:function(e,t){return e===void 0?t:e},escape:function(e){return String(e).replace(lG,t=>sG[t])},hyphenate:function(e){return e.replace(aG,"-$1").toLowerCase()},getBaseElem:kC,isCharacterBox:function(e){var t=kC(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},protocolFromUrl:function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]===":"&&/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}},P4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function cG(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class uG{constructor(t){for(var n in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{},P4)if(P4.hasOwnProperty(n)){var r=P4[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:cG(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),i&&i!=="ignore"&&(i===!0||i==="error"))throw new De("LaTeX-incompatible input and strict mode is set to 'error': "+n+" ["+t+"]",r)}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!(!i||i==="ignore")&&(i===!0||i==="error")}isTrusted(t){if(t.url&&!t.protocol){var n=lt.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}return!!(typeof this.trust=="function"?this.trust(t):this.trust)}}class Fs{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return aa[hG[this.id]]}sub(){return aa[dG[this.id]]}fracNum(){return aa[pG[this.id]]}fracDen(){return aa[fG[this.id]]}cramp(){return aa[mG[this.id]]}text(){return aa[gG[this.id]]}isTight(){return this.size>=2}}var aa=[new Fs(0,0,!1),new Fs(1,0,!0),new Fs(2,1,!1),new Fs(3,1,!0),new Fs(4,2,!1),new Fs(5,2,!0),new Fs(6,3,!1),new Fs(7,3,!0)],hG=[4,5,4,5,6,7,6,7],dG=[5,5,5,5,7,7,7,7],pG=[2,3,4,5,6,7,6,7],fG=[3,3,5,5,7,7,7,7],mG=[1,1,3,3,5,5,7,7],gG=[0,1,2,3,2,3,2,3],pt={DISPLAY:aa[0],TEXT:aa[2],SCRIPT:aa[4],SCRIPTSCRIPT:aa[6]},N4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],Um=[];function SC(e){for(var t=0;t<Um.length;t+=2)if(e>=Um[t]&&e<=Um[t+1])return!0;return!1}N4.forEach(e=>e.blocks.forEach(t=>Um.push(...t)));var Nu=80,EC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class op{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return lt.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){return this.children.map(t=>t.toText()).join("")}}var ja={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},jm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},AC={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function B4(e,t,n){if(!ja[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),i=ja[t][r];if(!i&&e[0]in AC&&(r=AC[e[0]].charCodeAt(0),i=ja[t][r]),!i&&n==="text"&&SC(r)&&(i=ja[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var z4={},vG=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],CC=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],TC=function(e,t){return t.size<2?e:vG[e-1][t.size-1]};class Va{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Va.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=CC[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new Va(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:TC(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:CC[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=TC(Va.BASESIZE,t);return this.size===n&&this.textSize===Va.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Va.BASESIZE?["sizing","reset-size"+this.size,"size"+Va.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(t){var n;if(!z4[n=t>=5?0:t>=3?1:2]){var r=z4[n]={cssEmPerMu:jm.quad[n]/18};for(var i in jm)jm.hasOwnProperty(i)&&(r[i]=jm[i][n])}return z4[n]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Va.BASESIZE=6;var F4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},yG={ex:!0,em:!0,mu:!0},MC=function(e){return typeof e!="string"&&(e=e.unit),e in F4||e in yG||e==="ex"},On=function(e,t){var n;if(e.unit in F4)n=F4[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,e.unit==="ex")n=r.fontMetrics().xHeight;else{if(e.unit!=="em")throw new De("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},ze=function(e){return+e.toFixed(4)+"em"},Us=function(e){return e.filter(t=>t).join(" ")},RC=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},IC=function(e){var t=document.createElement(e);for(var n in t.className=Us(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},OC=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+lt.escape(Us(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=lt.hyphenate(r)+":"+this.style[r]+";");for(var i in n&&(t+=' style="'+lt.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+lt.escape(this.attributes[i])+'"');t+=">";for(var o=0;o<this.children.length;o++)t+=this.children[o].toMarkup();return t+="</"+e+">"};class Vm{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,RC.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return lt.contains(this.classes,t)}toNode(){return IC.call(this,"span")}toMarkup(){return OC.call(this,"span")}}class LC{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,RC.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return lt.contains(this.classes,t)}toNode(){return IC.call(this,"a")}toMarkup(){return OC.call(this,"a")}}class bG{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return lt.contains(this.classes,t)}toNode(){var t=document.createElement("img");for(var n in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+lt.escape(this.src)+'" alt="'+lt.escape(this.alt)+'"',n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=lt.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+lt.escape(n)+'"'),t+="'/>"}}var wG={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Ao{constructor(t,n,r,i,o,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var c=function(u){for(var h=0;h<N4.length;h++)for(var d=N4[h],p=0;p<d.blocks.length;p++){var f=d.blocks[p];if(u>=f[0]&&u<=f[1])return d.name}return null}(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=wG[this.text])}hasClass(t){return lt.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;for(var r in this.italic>0&&((n=document.createElement("span")).style.marginRight=ze(this.italic)),this.classes.length>0&&((n=n||document.createElement("span")).className=Us(this.classes)),this.style)this.style.hasOwnProperty(r)&&((n=n||document.createElement("span")).style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=lt.escape(Us(this.classes)),n+='"');var r="";for(var i in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(r+=lt.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+lt.escape(r)+'"');var o=lt.escape(this.text);return t?(n+=">",n+=o,n+="</span>"):o}}class js{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+lt.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>"}}class Jl{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",EC[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+lt.escape(this.alternate)+'"/>':'<path d="'+lt.escape(EC[this.pathName])+'"/>'}}class DC{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+lt.escape(this.attributes[n])+'"');return t+="/>"}}function PC(e){if(e instanceof Ao)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var _G={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xG={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},An={math:{},text:{}};function I(e,t,n,r,i,o){An[e][i]={font:t,group:n,replace:r},o&&r&&(An[e][r]=An[e][i])}var D="math",Ce="text",V="main",J="ams",Cn="accent-token",Ke="bin",ni="close",Bu="inner",ft="mathord",Jn="op-token",ji="open",qm="punct",Z="rel",qa="spacing",se="textord";I(D,V,Z,"≡","\\equiv",!0),I(D,V,Z,"≺","\\prec",!0),I(D,V,Z,"≻","\\succ",!0),I(D,V,Z,"∼","\\sim",!0),I(D,V,Z,"⊥","\\perp"),I(D,V,Z,"⪯","\\preceq",!0),I(D,V,Z,"⪰","\\succeq",!0),I(D,V,Z,"≃","\\simeq",!0),I(D,V,Z,"∣","\\mid",!0),I(D,V,Z,"≪","\\ll",!0),I(D,V,Z,"≫","\\gg",!0),I(D,V,Z,"≍","\\asymp",!0),I(D,V,Z,"∥","\\parallel"),I(D,V,Z,"⋈","\\bowtie",!0),I(D,V,Z,"⌣","\\smile",!0),I(D,V,Z,"⊑","\\sqsubseteq",!0),I(D,V,Z,"⊒","\\sqsupseteq",!0),I(D,V,Z,"≐","\\doteq",!0),I(D,V,Z,"⌢","\\frown",!0),I(D,V,Z,"∋","\\ni",!0),I(D,V,Z,"∝","\\propto",!0),I(D,V,Z,"⊢","\\vdash",!0),I(D,V,Z,"⊣","\\dashv",!0),I(D,V,Z,"∋","\\owns"),I(D,V,qm,".","\\ldotp"),I(D,V,qm,"⋅","\\cdotp"),I(D,V,se,"#","\\#"),I(Ce,V,se,"#","\\#"),I(D,V,se,"&","\\&"),I(Ce,V,se,"&","\\&"),I(D,V,se,"ℵ","\\aleph",!0),I(D,V,se,"∀","\\forall",!0),I(D,V,se,"ℏ","\\hbar",!0),I(D,V,se,"∃","\\exists",!0),I(D,V,se,"∇","\\nabla",!0),I(D,V,se,"♭","\\flat",!0),I(D,V,se,"ℓ","\\ell",!0),I(D,V,se,"♮","\\natural",!0),I(D,V,se,"♣","\\clubsuit",!0),I(D,V,se,"℘","\\wp",!0),I(D,V,se,"♯","\\sharp",!0),I(D,V,se,"♢","\\diamondsuit",!0),I(D,V,se,"ℜ","\\Re",!0),I(D,V,se,"♡","\\heartsuit",!0),I(D,V,se,"ℑ","\\Im",!0),I(D,V,se,"♠","\\spadesuit",!0),I(D,V,se,"§","\\S",!0),I(Ce,V,se,"§","\\S"),I(D,V,se,"¶","\\P",!0),I(Ce,V,se,"¶","\\P"),I(D,V,se,"†","\\dag"),I(Ce,V,se,"†","\\dag"),I(Ce,V,se,"†","\\textdagger"),I(D,V,se,"‡","\\ddag"),I(Ce,V,se,"‡","\\ddag"),I(Ce,V,se,"‡","\\textdaggerdbl"),I(D,V,ni,"⎱","\\rmoustache",!0),I(D,V,ji,"⎰","\\lmoustache",!0),I(D,V,ni,"⟯","\\rgroup",!0),I(D,V,ji,"⟮","\\lgroup",!0),I(D,V,Ke,"∓","\\mp",!0),I(D,V,Ke,"⊖","\\ominus",!0),I(D,V,Ke,"⊎","\\uplus",!0),I(D,V,Ke,"⊓","\\sqcap",!0),I(D,V,Ke,"∗","\\ast"),I(D,V,Ke,"⊔","\\sqcup",!0),I(D,V,Ke,"◯","\\bigcirc",!0),I(D,V,Ke,"∙","\\bullet",!0),I(D,V,Ke,"‡","\\ddagger"),I(D,V,Ke,"≀","\\wr",!0),I(D,V,Ke,"⨿","\\amalg"),I(D,V,Ke,"&","\\And"),I(D,V,Z,"⟵","\\longleftarrow",!0),I(D,V,Z,"⇐","\\Leftarrow",!0),I(D,V,Z,"⟸","\\Longleftarrow",!0),I(D,V,Z,"⟶","\\longrightarrow",!0),I(D,V,Z,"⇒","\\Rightarrow",!0),I(D,V,Z,"⟹","\\Longrightarrow",!0),I(D,V,Z,"↔","\\leftrightarrow",!0),I(D,V,Z,"⟷","\\longleftrightarrow",!0),I(D,V,Z,"⇔","\\Leftrightarrow",!0),I(D,V,Z,"⟺","\\Longleftrightarrow",!0),I(D,V,Z,"↦","\\mapsto",!0),I(D,V,Z,"⟼","\\longmapsto",!0),I(D,V,Z,"↗","\\nearrow",!0),I(D,V,Z,"↩","\\hookleftarrow",!0),I(D,V,Z,"↪","\\hookrightarrow",!0),I(D,V,Z,"↘","\\searrow",!0),I(D,V,Z,"↼","\\leftharpoonup",!0),I(D,V,Z,"⇀","\\rightharpoonup",!0),I(D,V,Z,"↙","\\swarrow",!0),I(D,V,Z,"↽","\\leftharpoondown",!0),I(D,V,Z,"⇁","\\rightharpoondown",!0),I(D,V,Z,"↖","\\nwarrow",!0),I(D,V,Z,"⇌","\\rightleftharpoons",!0),I(D,J,Z,"≮","\\nless",!0),I(D,J,Z,"","\\@nleqslant"),I(D,J,Z,"","\\@nleqq"),I(D,J,Z,"⪇","\\lneq",!0),I(D,J,Z,"≨","\\lneqq",!0),I(D,J,Z,"","\\@lvertneqq"),I(D,J,Z,"⋦","\\lnsim",!0),I(D,J,Z,"⪉","\\lnapprox",!0),I(D,J,Z,"⊀","\\nprec",!0),I(D,J,Z,"⋠","\\npreceq",!0),I(D,J,Z,"⋨","\\precnsim",!0),I(D,J,Z,"⪹","\\precnapprox",!0),I(D,J,Z,"≁","\\nsim",!0),I(D,J,Z,"","\\@nshortmid"),I(D,J,Z,"∤","\\nmid",!0),I(D,J,Z,"⊬","\\nvdash",!0),I(D,J,Z,"⊭","\\nvDash",!0),I(D,J,Z,"⋪","\\ntriangleleft"),I(D,J,Z,"⋬","\\ntrianglelefteq",!0),I(D,J,Z,"⊊","\\subsetneq",!0),I(D,J,Z,"","\\@varsubsetneq"),I(D,J,Z,"⫋","\\subsetneqq",!0),I(D,J,Z,"","\\@varsubsetneqq"),I(D,J,Z,"≯","\\ngtr",!0),I(D,J,Z,"","\\@ngeqslant"),I(D,J,Z,"","\\@ngeqq"),I(D,J,Z,"⪈","\\gneq",!0),I(D,J,Z,"≩","\\gneqq",!0),I(D,J,Z,"","\\@gvertneqq"),I(D,J,Z,"⋧","\\gnsim",!0),I(D,J,Z,"⪊","\\gnapprox",!0),I(D,J,Z,"⊁","\\nsucc",!0),I(D,J,Z,"⋡","\\nsucceq",!0),I(D,J,Z,"⋩","\\succnsim",!0),I(D,J,Z,"⪺","\\succnapprox",!0),I(D,J,Z,"≆","\\ncong",!0),I(D,J,Z,"","\\@nshortparallel"),I(D,J,Z,"∦","\\nparallel",!0),I(D,J,Z,"⊯","\\nVDash",!0),I(D,J,Z,"⋫","\\ntriangleright"),I(D,J,Z,"⋭","\\ntrianglerighteq",!0),I(D,J,Z,"","\\@nsupseteqq"),I(D,J,Z,"⊋","\\supsetneq",!0),I(D,J,Z,"","\\@varsupsetneq"),I(D,J,Z,"⫌","\\supsetneqq",!0),I(D,J,Z,"","\\@varsupsetneqq"),I(D,J,Z,"⊮","\\nVdash",!0),I(D,J,Z,"⪵","\\precneqq",!0),I(D,J,Z,"⪶","\\succneqq",!0),I(D,J,Z,"","\\@nsubseteqq"),I(D,J,Ke,"⊴","\\unlhd"),I(D,J,Ke,"⊵","\\unrhd"),I(D,J,Z,"↚","\\nleftarrow",!0),I(D,J,Z,"↛","\\nrightarrow",!0),I(D,J,Z,"⇍","\\nLeftarrow",!0),I(D,J,Z,"⇏","\\nRightarrow",!0),I(D,J,Z,"↮","\\nleftrightarrow",!0),I(D,J,Z,"⇎","\\nLeftrightarrow",!0),I(D,J,Z,"△","\\vartriangle"),I(D,J,se,"ℏ","\\hslash"),I(D,J,se,"▽","\\triangledown"),I(D,J,se,"◊","\\lozenge"),I(D,J,se,"Ⓢ","\\circledS"),I(D,J,se,"®","\\circledR"),I(Ce,J,se,"®","\\circledR"),I(D,J,se,"∡","\\measuredangle",!0),I(D,J,se,"∄","\\nexists"),I(D,J,se,"℧","\\mho"),I(D,J,se,"Ⅎ","\\Finv",!0),I(D,J,se,"⅁","\\Game",!0),I(D,J,se,"‵","\\backprime"),I(D,J,se,"▲","\\blacktriangle"),I(D,J,se,"▼","\\blacktriangledown"),I(D,J,se,"■","\\blacksquare"),I(D,J,se,"⧫","\\blacklozenge"),I(D,J,se,"★","\\bigstar"),I(D,J,se,"∢","\\sphericalangle",!0),I(D,J,se,"∁","\\complement",!0),I(D,J,se,"ð","\\eth",!0),I(Ce,V,se,"ð","ð"),I(D,J,se,"╱","\\diagup"),I(D,J,se,"╲","\\diagdown"),I(D,J,se,"□","\\square"),I(D,J,se,"□","\\Box"),I(D,J,se,"◊","\\Diamond"),I(D,J,se,"¥","\\yen",!0),I(Ce,J,se,"¥","\\yen",!0),I(D,J,se,"✓","\\checkmark",!0),I(Ce,J,se,"✓","\\checkmark"),I(D,J,se,"ℶ","\\beth",!0),I(D,J,se,"ℸ","\\daleth",!0),I(D,J,se,"ℷ","\\gimel",!0),I(D,J,se,"ϝ","\\digamma",!0),I(D,J,se,"ϰ","\\varkappa"),I(D,J,ji,"┌","\\@ulcorner",!0),I(D,J,ni,"┐","\\@urcorner",!0),I(D,J,ji,"└","\\@llcorner",!0),I(D,J,ni,"┘","\\@lrcorner",!0),I(D,J,Z,"≦","\\leqq",!0),I(D,J,Z,"⩽","\\leqslant",!0),I(D,J,Z,"⪕","\\eqslantless",!0),I(D,J,Z,"≲","\\lesssim",!0),I(D,J,Z,"⪅","\\lessapprox",!0),I(D,J,Z,"≊","\\approxeq",!0),I(D,J,Ke,"⋖","\\lessdot"),I(D,J,Z,"⋘","\\lll",!0),I(D,J,Z,"≶","\\lessgtr",!0),I(D,J,Z,"⋚","\\lesseqgtr",!0),I(D,J,Z,"⪋","\\lesseqqgtr",!0),I(D,J,Z,"≑","\\doteqdot"),I(D,J,Z,"≓","\\risingdotseq",!0),I(D,J,Z,"≒","\\fallingdotseq",!0),I(D,J,Z,"∽","\\backsim",!0),I(D,J,Z,"⋍","\\backsimeq",!0),I(D,J,Z,"⫅","\\subseteqq",!0),I(D,J,Z,"⋐","\\Subset",!0),I(D,J,Z,"⊏","\\sqsubset",!0),I(D,J,Z,"≼","\\preccurlyeq",!0),I(D,J,Z,"⋞","\\curlyeqprec",!0),I(D,J,Z,"≾","\\precsim",!0),I(D,J,Z,"⪷","\\precapprox",!0),I(D,J,Z,"⊲","\\vartriangleleft"),I(D,J,Z,"⊴","\\trianglelefteq"),I(D,J,Z,"⊨","\\vDash",!0),I(D,J,Z,"⊪","\\Vvdash",!0),I(D,J,Z,"⌣","\\smallsmile"),I(D,J,Z,"⌢","\\smallfrown"),I(D,J,Z,"≏","\\bumpeq",!0),I(D,J,Z,"≎","\\Bumpeq",!0),I(D,J,Z,"≧","\\geqq",!0),I(D,J,Z,"⩾","\\geqslant",!0),I(D,J,Z,"⪖","\\eqslantgtr",!0),I(D,J,Z,"≳","\\gtrsim",!0),I(D,J,Z,"⪆","\\gtrapprox",!0),I(D,J,Ke,"⋗","\\gtrdot"),I(D,J,Z,"⋙","\\ggg",!0),I(D,J,Z,"≷","\\gtrless",!0),I(D,J,Z,"⋛","\\gtreqless",!0),I(D,J,Z,"⪌","\\gtreqqless",!0),I(D,J,Z,"≖","\\eqcirc",!0),I(D,J,Z,"≗","\\circeq",!0),I(D,J,Z,"≜","\\triangleq",!0),I(D,J,Z,"∼","\\thicksim"),I(D,J,Z,"≈","\\thickapprox"),I(D,J,Z,"⫆","\\supseteqq",!0),I(D,J,Z,"⋑","\\Supset",!0),I(D,J,Z,"⊐","\\sqsupset",!0),I(D,J,Z,"≽","\\succcurlyeq",!0),I(D,J,Z,"⋟","\\curlyeqsucc",!0),I(D,J,Z,"≿","\\succsim",!0),I(D,J,Z,"⪸","\\succapprox",!0),I(D,J,Z,"⊳","\\vartriangleright"),I(D,J,Z,"⊵","\\trianglerighteq"),I(D,J,Z,"⊩","\\Vdash",!0),I(D,J,Z,"∣","\\shortmid"),I(D,J,Z,"∥","\\shortparallel"),I(D,J,Z,"≬","\\between",!0),I(D,J,Z,"⋔","\\pitchfork",!0),I(D,J,Z,"∝","\\varpropto"),I(D,J,Z,"◀","\\blacktriangleleft"),I(D,J,Z,"∴","\\therefore",!0),I(D,J,Z,"∍","\\backepsilon"),I(D,J,Z,"▶","\\blacktriangleright"),I(D,J,Z,"∵","\\because",!0),I(D,J,Z,"⋘","\\llless"),I(D,J,Z,"⋙","\\gggtr"),I(D,J,Ke,"⊲","\\lhd"),I(D,J,Ke,"⊳","\\rhd"),I(D,J,Z,"≂","\\eqsim",!0),I(D,V,Z,"⋈","\\Join"),I(D,J,Z,"≑","\\Doteq",!0),I(D,J,Ke,"∔","\\dotplus",!0),I(D,J,Ke,"∖","\\smallsetminus"),I(D,J,Ke,"⋒","\\Cap",!0),I(D,J,Ke,"⋓","\\Cup",!0),I(D,J,Ke,"⩞","\\doublebarwedge",!0),I(D,J,Ke,"⊟","\\boxminus",!0),I(D,J,Ke,"⊞","\\boxplus",!0),I(D,J,Ke,"⋇","\\divideontimes",!0),I(D,J,Ke,"⋉","\\ltimes",!0),I(D,J,Ke,"⋊","\\rtimes",!0),I(D,J,Ke,"⋋","\\leftthreetimes",!0),I(D,J,Ke,"⋌","\\rightthreetimes",!0),I(D,J,Ke,"⋏","\\curlywedge",!0),I(D,J,Ke,"⋎","\\curlyvee",!0),I(D,J,Ke,"⊝","\\circleddash",!0),I(D,J,Ke,"⊛","\\circledast",!0),I(D,J,Ke,"⋅","\\centerdot"),I(D,J,Ke,"⊺","\\intercal",!0),I(D,J,Ke,"⋒","\\doublecap"),I(D,J,Ke,"⋓","\\doublecup"),I(D,J,Ke,"⊠","\\boxtimes",!0),I(D,J,Z,"⇢","\\dashrightarrow",!0),I(D,J,Z,"⇠","\\dashleftarrow",!0),I(D,J,Z,"⇇","\\leftleftarrows",!0),I(D,J,Z,"⇆","\\leftrightarrows",!0),I(D,J,Z,"⇚","\\Lleftarrow",!0),I(D,J,Z,"↞","\\twoheadleftarrow",!0),I(D,J,Z,"↢","\\leftarrowtail",!0),I(D,J,Z,"↫","\\looparrowleft",!0),I(D,J,Z,"⇋","\\leftrightharpoons",!0),I(D,J,Z,"↶","\\curvearrowleft",!0),I(D,J,Z,"↺","\\circlearrowleft",!0),I(D,J,Z,"↰","\\Lsh",!0),I(D,J,Z,"⇈","\\upuparrows",!0),I(D,J,Z,"↿","\\upharpoonleft",!0),I(D,J,Z,"⇃","\\downharpoonleft",!0),I(D,V,Z,"⊶","\\origof",!0),I(D,V,Z,"⊷","\\imageof",!0),I(D,J,Z,"⊸","\\multimap",!0),I(D,J,Z,"↭","\\leftrightsquigarrow",!0),I(D,J,Z,"⇉","\\rightrightarrows",!0),I(D,J,Z,"⇄","\\rightleftarrows",!0),I(D,J,Z,"↠","\\twoheadrightarrow",!0),I(D,J,Z,"↣","\\rightarrowtail",!0),I(D,J,Z,"↬","\\looparrowright",!0),I(D,J,Z,"↷","\\curvearrowright",!0),I(D,J,Z,"↻","\\circlearrowright",!0),I(D,J,Z,"↱","\\Rsh",!0),I(D,J,Z,"⇊","\\downdownarrows",!0),I(D,J,Z,"↾","\\upharpoonright",!0),I(D,J,Z,"⇂","\\downharpoonright",!0),I(D,J,Z,"⇝","\\rightsquigarrow",!0),I(D,J,Z,"⇝","\\leadsto"),I(D,J,Z,"⇛","\\Rrightarrow",!0),I(D,J,Z,"↾","\\restriction"),I(D,V,se,"‘","`"),I(D,V,se,"$","\\$"),I(Ce,V,se,"$","\\$"),I(Ce,V,se,"$","\\textdollar"),I(D,V,se,"%","\\%"),I(Ce,V,se,"%","\\%"),I(D,V,se,"_","\\_"),I(Ce,V,se,"_","\\_"),I(Ce,V,se,"_","\\textunderscore"),I(D,V,se,"∠","\\angle",!0),I(D,V,se,"∞","\\infty",!0),I(D,V,se,"′","\\prime"),I(D,V,se,"△","\\triangle"),I(D,V,se,"Γ","\\Gamma",!0),I(D,V,se,"Δ","\\Delta",!0),I(D,V,se,"Θ","\\Theta",!0),I(D,V,se,"Λ","\\Lambda",!0),I(D,V,se,"Ξ","\\Xi",!0),I(D,V,se,"Π","\\Pi",!0),I(D,V,se,"Σ","\\Sigma",!0),I(D,V,se,"Υ","\\Upsilon",!0),I(D,V,se,"Φ","\\Phi",!0),I(D,V,se,"Ψ","\\Psi",!0),I(D,V,se,"Ω","\\Omega",!0),I(D,V,se,"A","Α"),I(D,V,se,"B","Β"),I(D,V,se,"E","Ε"),I(D,V,se,"Z","Ζ"),I(D,V,se,"H","Η"),I(D,V,se,"I","Ι"),I(D,V,se,"K","Κ"),I(D,V,se,"M","Μ"),I(D,V,se,"N","Ν"),I(D,V,se,"O","Ο"),I(D,V,se,"P","Ρ"),I(D,V,se,"T","Τ"),I(D,V,se,"X","Χ"),I(D,V,se,"¬","\\neg",!0),I(D,V,se,"¬","\\lnot"),I(D,V,se,"⊤","\\top"),I(D,V,se,"⊥","\\bot"),I(D,V,se,"∅","\\emptyset"),I(D,J,se,"∅","\\varnothing"),I(D,V,ft,"α","\\alpha",!0),I(D,V,ft,"β","\\beta",!0),I(D,V,ft,"γ","\\gamma",!0),I(D,V,ft,"δ","\\delta",!0),I(D,V,ft,"ϵ","\\epsilon",!0),I(D,V,ft,"ζ","\\zeta",!0),I(D,V,ft,"η","\\eta",!0),I(D,V,ft,"θ","\\theta",!0),I(D,V,ft,"ι","\\iota",!0),I(D,V,ft,"κ","\\kappa",!0),I(D,V,ft,"λ","\\lambda",!0),I(D,V,ft,"μ","\\mu",!0),I(D,V,ft,"ν","\\nu",!0),I(D,V,ft,"ξ","\\xi",!0),I(D,V,ft,"ο","\\omicron",!0),I(D,V,ft,"π","\\pi",!0),I(D,V,ft,"ρ","\\rho",!0),I(D,V,ft,"σ","\\sigma",!0),I(D,V,ft,"τ","\\tau",!0),I(D,V,ft,"υ","\\upsilon",!0),I(D,V,ft,"ϕ","\\phi",!0),I(D,V,ft,"χ","\\chi",!0),I(D,V,ft,"ψ","\\psi",!0),I(D,V,ft,"ω","\\omega",!0),I(D,V,ft,"ε","\\varepsilon",!0),I(D,V,ft,"ϑ","\\vartheta",!0),I(D,V,ft,"ϖ","\\varpi",!0),I(D,V,ft,"ϱ","\\varrho",!0),I(D,V,ft,"ς","\\varsigma",!0),I(D,V,ft,"φ","\\varphi",!0),I(D,V,Ke,"∗","*",!0),I(D,V,Ke,"+","+"),I(D,V,Ke,"−","-",!0),I(D,V,Ke,"⋅","\\cdot",!0),I(D,V,Ke,"∘","\\circ",!0),I(D,V,Ke,"÷","\\div",!0),I(D,V,Ke,"±","\\pm",!0),I(D,V,Ke,"×","\\times",!0),I(D,V,Ke,"∩","\\cap",!0),I(D,V,Ke,"∪","\\cup",!0),I(D,V,Ke,"∖","\\setminus",!0),I(D,V,Ke,"∧","\\land"),I(D,V,Ke,"∨","\\lor"),I(D,V,Ke,"∧","\\wedge",!0),I(D,V,Ke,"∨","\\vee",!0),I(D,V,se,"√","\\surd"),I(D,V,ji,"⟨","\\langle",!0),I(D,V,ji,"∣","\\lvert"),I(D,V,ji,"∥","\\lVert"),I(D,V,ni,"?","?"),I(D,V,ni,"!","!"),I(D,V,ni,"⟩","\\rangle",!0),I(D,V,ni,"∣","\\rvert"),I(D,V,ni,"∥","\\rVert"),I(D,V,Z,"=","="),I(D,V,Z,":",":"),I(D,V,Z,"≈","\\approx",!0),I(D,V,Z,"≅","\\cong",!0),I(D,V,Z,"≥","\\ge"),I(D,V,Z,"≥","\\geq",!0),I(D,V,Z,"←","\\gets"),I(D,V,Z,">","\\gt",!0),I(D,V,Z,"∈","\\in",!0),I(D,V,Z,"","\\@not"),I(D,V,Z,"⊂","\\subset",!0),I(D,V,Z,"⊃","\\supset",!0),I(D,V,Z,"⊆","\\subseteq",!0),I(D,V,Z,"⊇","\\supseteq",!0),I(D,J,Z,"⊈","\\nsubseteq",!0),I(D,J,Z,"⊉","\\nsupseteq",!0),I(D,V,Z,"⊨","\\models"),I(D,V,Z,"←","\\leftarrow",!0),I(D,V,Z,"≤","\\le"),I(D,V,Z,"≤","\\leq",!0),I(D,V,Z,"<","\\lt",!0),I(D,V,Z,"→","\\rightarrow",!0),I(D,V,Z,"→","\\to"),I(D,J,Z,"≱","\\ngeq",!0),I(D,J,Z,"≰","\\nleq",!0),I(D,V,qa," ","\\ "),I(D,V,qa," ","\\space"),I(D,V,qa," ","\\nobreakspace"),I(Ce,V,qa," ","\\ "),I(Ce,V,qa," "," "),I(Ce,V,qa," ","\\space"),I(Ce,V,qa," ","\\nobreakspace"),I(D,V,qa,null,"\\nobreak"),I(D,V,qa,null,"\\allowbreak"),I(D,V,qm,",",","),I(D,V,qm,";",";"),I(D,J,Ke,"⊼","\\barwedge",!0),I(D,J,Ke,"⊻","\\veebar",!0),I(D,V,Ke,"⊙","\\odot",!0),I(D,V,Ke,"⊕","\\oplus",!0),I(D,V,Ke,"⊗","\\otimes",!0),I(D,V,se,"∂","\\partial",!0),I(D,V,Ke,"⊘","\\oslash",!0),I(D,J,Ke,"⊚","\\circledcirc",!0),I(D,J,Ke,"⊡","\\boxdot",!0),I(D,V,Ke,"△","\\bigtriangleup"),I(D,V,Ke,"▽","\\bigtriangledown"),I(D,V,Ke,"†","\\dagger"),I(D,V,Ke,"⋄","\\diamond"),I(D,V,Ke,"⋆","\\star"),I(D,V,Ke,"◃","\\triangleleft"),I(D,V,Ke,"▹","\\triangleright"),I(D,V,ji,"{","\\{"),I(Ce,V,se,"{","\\{"),I(Ce,V,se,"{","\\textbraceleft"),I(D,V,ni,"}","\\}"),I(Ce,V,se,"}","\\}"),I(Ce,V,se,"}","\\textbraceright"),I(D,V,ji,"{","\\lbrace"),I(D,V,ni,"}","\\rbrace"),I(D,V,ji,"[","\\lbrack",!0),I(Ce,V,se,"[","\\lbrack",!0),I(D,V,ni,"]","\\rbrack",!0),I(Ce,V,se,"]","\\rbrack",!0),I(D,V,ji,"(","\\lparen",!0),I(D,V,ni,")","\\rparen",!0),I(Ce,V,se,"<","\\textless",!0),I(Ce,V,se,">","\\textgreater",!0),I(D,V,ji,"⌊","\\lfloor",!0),I(D,V,ni,"⌋","\\rfloor",!0),I(D,V,ji,"⌈","\\lceil",!0),I(D,V,ni,"⌉","\\rceil",!0),I(D,V,se,"\\","\\backslash"),I(D,V,se,"∣","|"),I(D,V,se,"∣","\\vert"),I(Ce,V,se,"|","\\textbar",!0),I(D,V,se,"∥","\\|"),I(D,V,se,"∥","\\Vert"),I(Ce,V,se,"∥","\\textbardbl"),I(Ce,V,se,"~","\\textasciitilde"),I(Ce,V,se,"\\","\\textbackslash"),I(Ce,V,se,"^","\\textasciicircum"),I(D,V,Z,"↑","\\uparrow",!0),I(D,V,Z,"⇑","\\Uparrow",!0),I(D,V,Z,"↓","\\downarrow",!0),I(D,V,Z,"⇓","\\Downarrow",!0),I(D,V,Z,"↕","\\updownarrow",!0),I(D,V,Z,"⇕","\\Updownarrow",!0),I(D,V,Jn,"∐","\\coprod"),I(D,V,Jn,"⋁","\\bigvee"),I(D,V,Jn,"⋀","\\bigwedge"),I(D,V,Jn,"⨄","\\biguplus"),I(D,V,Jn,"⋂","\\bigcap"),I(D,V,Jn,"⋃","\\bigcup"),I(D,V,Jn,"∫","\\int"),I(D,V,Jn,"∫","\\intop"),I(D,V,Jn,"∬","\\iint"),I(D,V,Jn,"∭","\\iiint"),I(D,V,Jn,"∏","\\prod"),I(D,V,Jn,"∑","\\sum"),I(D,V,Jn,"⨂","\\bigotimes"),I(D,V,Jn,"⨁","\\bigoplus"),I(D,V,Jn,"⨀","\\bigodot"),I(D,V,Jn,"∮","\\oint"),I(D,V,Jn,"∯","\\oiint"),I(D,V,Jn,"∰","\\oiiint"),I(D,V,Jn,"⨆","\\bigsqcup"),I(D,V,Jn,"∫","\\smallint"),I(Ce,V,Bu,"…","\\textellipsis"),I(D,V,Bu,"…","\\mathellipsis"),I(Ce,V,Bu,"…","\\ldots",!0),I(D,V,Bu,"…","\\ldots",!0),I(D,V,Bu,"⋯","\\@cdots",!0),I(D,V,Bu,"⋱","\\ddots",!0),I(D,V,se,"⋮","\\varvdots"),I(D,V,Cn,"ˊ","\\acute"),I(D,V,Cn,"ˋ","\\grave"),I(D,V,Cn,"¨","\\ddot"),I(D,V,Cn,"~","\\tilde"),I(D,V,Cn,"ˉ","\\bar"),I(D,V,Cn,"˘","\\breve"),I(D,V,Cn,"ˇ","\\check"),I(D,V,Cn,"^","\\hat"),I(D,V,Cn,"⃗","\\vec"),I(D,V,Cn,"˙","\\dot"),I(D,V,Cn,"˚","\\mathring"),I(D,V,ft,"","\\@imath"),I(D,V,ft,"","\\@jmath"),I(D,V,se,"ı","ı"),I(D,V,se,"ȷ","ȷ"),I(Ce,V,se,"ı","\\i",!0),I(Ce,V,se,"ȷ","\\j",!0),I(Ce,V,se,"ß","\\ss",!0),I(Ce,V,se,"æ","\\ae",!0),I(Ce,V,se,"œ","\\oe",!0),I(Ce,V,se,"ø","\\o",!0),I(Ce,V,se,"Æ","\\AE",!0),I(Ce,V,se,"Œ","\\OE",!0),I(Ce,V,se,"Ø","\\O",!0),I(Ce,V,Cn,"ˊ","\\'"),I(Ce,V,Cn,"ˋ","\\`"),I(Ce,V,Cn,"ˆ","\\^"),I(Ce,V,Cn,"˜","\\~"),I(Ce,V,Cn,"ˉ","\\="),I(Ce,V,Cn,"˘","\\u"),I(Ce,V,Cn,"˙","\\."),I(Ce,V,Cn,"¸","\\c"),I(Ce,V,Cn,"˚","\\r"),I(Ce,V,Cn,"ˇ","\\v"),I(Ce,V,Cn,"¨",'\\"'),I(Ce,V,Cn,"˝","\\H"),I(Ce,V,Cn,"◯","\\textcircled");var NC={"--":!0,"---":!0,"``":!0,"''":!0};I(Ce,V,se,"–","--",!0),I(Ce,V,se,"–","\\textendash"),I(Ce,V,se,"—","---",!0),I(Ce,V,se,"—","\\textemdash"),I(Ce,V,se,"‘","`",!0),I(Ce,V,se,"‘","\\textquoteleft"),I(Ce,V,se,"’","'",!0),I(Ce,V,se,"’","\\textquoteright"),I(Ce,V,se,"“","``",!0),I(Ce,V,se,"“","\\textquotedblleft"),I(Ce,V,se,"”","''",!0),I(Ce,V,se,"”","\\textquotedblright"),I(D,V,se,"°","\\degree",!0),I(Ce,V,se,"°","\\degree"),I(Ce,V,se,"°","\\textdegree",!0),I(D,V,se,"£","\\pounds"),I(D,V,se,"£","\\mathsterling",!0),I(Ce,V,se,"£","\\pounds"),I(Ce,V,se,"£","\\textsterling",!0),I(D,J,se,"✠","\\maltese"),I(Ce,J,se,"✠","\\maltese");for(var kG='0123456789/@."',U4=0;U4<14;U4++){var BC=kG.charAt(U4);I(D,V,se,BC,BC)}for(var SG='0123456789!@*()-=+";:?/.,',j4=0;j4<25;j4++){var zC=SG.charAt(j4);I(Ce,V,se,zC,zC)}for(var FC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",V4=0;V4<52;V4++){var Hm=FC.charAt(V4);I(D,V,ft,Hm,Hm),I(Ce,V,se,Hm,Hm)}I(D,J,se,"C","ℂ"),I(Ce,J,se,"C","ℂ"),I(D,J,se,"H","ℍ"),I(Ce,J,se,"H","ℍ"),I(D,J,se,"N","ℕ"),I(Ce,J,se,"N","ℕ"),I(D,J,se,"P","ℙ"),I(Ce,J,se,"P","ℙ"),I(D,J,se,"Q","ℚ"),I(Ce,J,se,"Q","ℚ"),I(D,J,se,"R","ℝ"),I(Ce,J,se,"R","ℝ"),I(D,J,se,"Z","ℤ"),I(Ce,J,se,"Z","ℤ"),I(D,V,ft,"h","ℎ"),I(Ce,V,ft,"h","ℎ");for(var Qt="",ri=0;ri<52;ri++){var zn=FC.charAt(ri);I(D,V,ft,zn,Qt=String.fromCharCode(55349,56320+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56372+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56424+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56580+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56684+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56736+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56788+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56840+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56944+ri)),I(Ce,V,se,zn,Qt),ri<26&&(I(D,V,ft,zn,Qt=String.fromCharCode(55349,56632+ri)),I(Ce,V,se,zn,Qt),I(D,V,ft,zn,Qt=String.fromCharCode(55349,56476+ri)),I(Ce,V,se,zn,Qt))}I(D,V,ft,"k",Qt="𝕜"),I(Ce,V,se,"k",Qt);for(var Zl=0;Zl<10;Zl++){var Vs=Zl.toString();I(D,V,ft,Vs,Qt=String.fromCharCode(55349,57294+Zl)),I(Ce,V,se,Vs,Qt),I(D,V,ft,Vs,Qt=String.fromCharCode(55349,57314+Zl)),I(Ce,V,se,Vs,Qt),I(D,V,ft,Vs,Qt=String.fromCharCode(55349,57324+Zl)),I(Ce,V,se,Vs,Qt),I(D,V,ft,Vs,Qt=String.fromCharCode(55349,57334+Zl)),I(Ce,V,se,Vs,Qt)}for(var UC="ÐÞþ",q4=0;q4<3;q4++){var $m=UC.charAt(q4);I(D,V,ft,$m,$m),I(Ce,V,se,$m,$m)}var Gm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],jC=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Wm=function(e,t,n){return An[n][e]&&An[n][e].replace&&(e=An[n][e].replace),{value:e,metrics:B4(e,t,n)}},Co=function(e,t,n,r,i){var o,a=Wm(e,t,n),s=a.metrics;if(e=a.value,s){var l=s.italic;(n==="text"||r&&r.font==="mathit")&&(l=0),o=new Ao(e,s.height,s.depth,l,s.skew,s.width,i)}else o=new Ao(e,0,0,0,0,0,i);if(r){o.maxFontSize=r.sizeMultiplier,r.style.isTight()&&o.classes.push("mtight");var c=r.getColor();c&&(o.style.color=c)}return o},EG=(e,t)=>{if(Us(e.classes)!==Us(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},H4=function(e){for(var t=0,n=0,r=0,i=0;i<e.children.length;i++){var o=e.children[i];o.height>t&&(t=o.height),o.depth>n&&(n=o.depth),o.maxFontSize>r&&(r=o.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},gi=function(e,t,n,r){var i=new Vm(e,t,n,r);return H4(i),i},VC=(e,t,n,r)=>new Vm(e,t,n,r),qC=function(e){var t=new op(e);return H4(t),t},Km=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+(t==="textbf"&&n==="textit"?"BoldItalic":t==="textbf"?"Bold":t==="textit"?"Italic":"Regular")},HC={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$C={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},pe={fontMap:HC,makeSymbol:Co,mathsym:function(e,t,n,r){return r===void 0&&(r=[]),n.font==="boldsymbol"&&Wm(e,"Main-Bold",t).metrics?Co(e,"Main-Bold",t,n,r.concat(["mathbf"])):e==="\\"||An[t][e].font==="main"?Co(e,"Main-Regular",t,n,r):Co(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:gi,makeSvgSpan:VC,makeLineSpan:function(e,t,n){var r=gi([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=ze(r.height),r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var i=new LC(e,t,n,r);return H4(i),i},makeFragment:qC,wrapFragment:function(e,t){return e instanceof op?gi([],[e],t):e},makeVList:function(e,t){for(var{children:n,depth:r}=function(C){if(C.positionType==="individualShift"){for(var P=C.children,U=[P[0]],W=-P[0].shift-P[0].elem.depth,te=W,ne=1;ne<P.length;ne++){var ae=-P[ne].shift-te-P[ne].elem.depth,he=ae-(P[ne-1].elem.height+P[ne-1].elem.depth);te+=ae,U.push({type:"kern",size:he}),U.push(P[ne])}return{children:U,depth:W}}var fe;if(C.positionType==="top"){for(var le=C.positionData,N=0;N<C.children.length;N++){var H=C.children[N];le-=H.type==="kern"?H.size:H.elem.height+H.elem.depth}fe=le}else if(C.positionType==="bottom")fe=-C.positionData;else{var F=C.children[0];if(F.type!=="elem")throw new Error('First child must have type "elem".');if(C.positionType==="shift")fe=-F.elem.depth-C.positionData;else{if(C.positionType!=="firstBaseline")throw new Error("Invalid positionType "+C.positionType+".");fe=-F.elem.depth}}return{children:C.children,depth:fe}}(e),i=0,o=0;o<n.length;o++){var a=n[o];if(a.type==="elem"){var s=a.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=gi(["pstrut"],[]);l.style.height=ze(i);for(var c=[],u=r,h=r,d=r,p=0;p<n.length;p++){var f=n[p];if(f.type==="kern")d+=f.size;else{var m=f.elem,b=f.wrapperClasses||[],v=f.wrapperStyle||{},_=gi(b,[l,m],void 0,v);_.style.top=ze(-i-d-m.depth),f.marginLeft&&(_.style.marginLeft=f.marginLeft),f.marginRight&&(_.style.marginRight=f.marginRight),c.push(_),d+=m.height+m.depth}u=Math.min(u,d),h=Math.max(h,d)}var w,x=gi(["vlist"],c);if(x.style.height=ze(h),u<0){var E=gi([],[]),M=gi(["vlist"],[E]);M.style.height=ze(-u);var T=gi(["vlist-s"],[new Ao("​")]);w=[gi(["vlist-r"],[x,T]),gi(["vlist-r"],[M])]}else w=[gi(["vlist-r"],[x])];var S=gi(["vlist-t"],w);return w.length===2&&S.classes.push("vlist-t2"),S.height=h,S.depth=-u,S},makeOrd:function(e,t,n){var r=e.mode,i=e.text,o=["mord"],a=r==="math"||r==="text"&&t.font,s=a?t.font:t.fontFamily,l="",c="";if(i.charCodeAt(0)===55349&&([l,c]=function(w,x){var E=1024*(w.charCodeAt(0)-55296)+(w.charCodeAt(1)-56320)+65536,M=x==="math"?0:1;if(119808<=E&&E<120484){var T=Math.floor((E-119808)/26);return[Gm[T][2],Gm[T][M]]}if(120782<=E&&E<=120831){var S=Math.floor((E-120782)/10);return[jC[S][2],jC[S][M]]}if(E===120485||E===120486)return[Gm[0][2],Gm[0][M]];if(120486<E&&E<120782)return["",""];throw new De("Unsupported character: "+w)}(i,r)),l.length>0)return Co(i,l,r,t,o.concat(c));if(s){var u,h;if(s==="boldsymbol"){var d=function(w,x,E,M,T){return T!=="textord"&&Wm(w,"Math-BoldItalic",x).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,r,0,0,n);u=d.fontName,h=[d.fontClass]}else a?(u=HC[s].fontName,h=[s]):(u=Km(s,t.fontWeight,t.fontShape),h=[s,t.fontWeight,t.fontShape]);if(Wm(i,u,r).metrics)return Co(i,u,r,t,o.concat(h));if(NC.hasOwnProperty(i)&&u.slice(0,10)==="Typewriter"){for(var p=[],f=0;f<i.length;f++)p.push(Co(i[f],u,r,t,o.concat(h)));return qC(p)}}if(n==="mathord")return Co(i,"Math-Italic",r,t,o.concat(["mathnormal"]));if(n==="textord"){var m=An[r][i]&&An[r][i].font;if(m==="ams"){var b=Km("amsrm",t.fontWeight,t.fontShape);return Co(i,b,r,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if(m!=="main"&&m){var v=Km(m,t.fontWeight,t.fontShape);return Co(i,v,r,t,o.concat(v,t.fontWeight,t.fontShape))}var _=Km("textrm",t.fontWeight,t.fontShape);return Co(i,_,r,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(e,t)=>{var n=gi(["mspace"],[],t),r=On(e,t);return n.style.marginRight=ze(r),n},staticSvg:function(e,t){var[n,r,i]=$C[e],o=new Jl(n),a=new js([o],{width:ze(r),height:ze(i),style:"width:"+ze(r),viewBox:"0 0 "+1e3*r+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=VC(["overlay"],[a],t);return s.height=i,s.style.height=ze(i),s.style.width=ze(r),s},svgData:$C,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof Ao&&r instanceof Ao&&EG(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}},Ln={number:3,unit:"mu"},ec={number:4,unit:"mu"},Ha={number:5,unit:"mu"},AG={mord:{mop:Ln,mbin:ec,mrel:Ha,minner:Ln},mop:{mord:Ln,mop:Ln,mrel:Ha,minner:Ln},mbin:{mord:ec,mop:ec,mopen:ec,minner:ec},mrel:{mord:Ha,mop:Ha,mopen:Ha,minner:Ha},mopen:{},mclose:{mop:Ln,mbin:ec,mrel:Ha,minner:Ln},mpunct:{mord:Ln,mop:Ln,mrel:Ha,mopen:Ln,mclose:Ln,mpunct:Ln,minner:Ln},minner:{mord:Ln,mop:Ln,mbin:ec,mrel:Ha,mopen:Ln,mpunct:Ln,minner:Ln}},CG={mord:{mop:Ln},mop:{mord:Ln,mop:Ln},mbin:{},mrel:{},mopen:{},mclose:{mop:Ln},mpunct:{},minner:{mop:Ln}},GC={},Qm={},Ym={};function qe(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)GC[n[l]]=s;t&&(o&&(Qm[t]=o),a&&(Ym[t]=a))}function tc(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;qe({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Xm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Gn=function(e){return e.type==="ordgroup"?e.body:[e]},$a=pe.makeSpan,TG=["leftmost","mbin","mopen","mrel","mop","mpunct"],MG=["rightmost","mrel","mclose","mpunct"],RG={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT},IG={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},lr=function(e,t,n,r){r===void 0&&(r=[null,null]);for(var i=[],o=0;o<e.length;o++){var a=Gt(e[o],t);if(a instanceof op){var s=a.children;i.push(...s)}else i.push(a)}if(pe.tryCombineChars(i),!n)return i;var l=t;if(e.length===1){var c=e[0];c.type==="sizing"?l=t.havingSize(c.size):c.type==="styling"&&(l=t.havingStyle(RG[c.style]))}var u=$a([r[0]||"leftmost"],[],t),h=$a([r[1]||"rightmost"],[],t),d=n==="root";return WC(i,(p,f)=>{var m=f.classes[0],b=p.classes[0];m==="mbin"&&lt.contains(MG,b)?f.classes[0]="mord":b==="mbin"&&lt.contains(TG,m)&&(p.classes[0]="mord")},{node:u},h,d),WC(i,(p,f)=>{var m=$4(f),b=$4(p),v=m&&b?p.hasClass("mtight")?CG[m][b]:AG[m][b]:null;if(v)return pe.makeGlue(v,l)},{node:u},h,d),i},WC=function e(t,n,r,i,o){i&&t.push(i);for(var a=0;a<t.length;a++){var s=t[a],l=KC(s);if(l)e(l.children,n,r,null,o);else{var c=!s.hasClass("mspace");if(c){var u=n(s,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),a++))}c?r.node=s:o&&s.hasClass("newline")&&(r.node=$a(["leftmost"])),r.insertAfter=(h=>d=>{t.splice(h+1,0,d),a++})(a)}}i&&t.pop()},KC=function(e){return e instanceof op||e instanceof LC||e instanceof Vm&&e.hasClass("enclosing")?e:null},OG=function e(t,n){var r=KC(t);if(r){var i=r.children;if(i.length){if(n==="right")return e(i[i.length-1],"right");if(n==="left")return e(i[0],"left")}}return t},$4=function(e,t){return e?(t&&(e=OG(e,t)),IG[e.classes[0]]||null):null},ap=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return $a(t.concat(n))},Gt=function(e,t,n){if(!e)return $a();if(Qm[e.type]){var r=Qm[e.type](e,t);if(n&&t.size!==n.size){r=$a(t.sizingClasses(n),[r],t);var i=t.sizeMultiplier/n.sizeMultiplier;r.height*=i,r.depth*=i}return r}throw new De("Got group of unknown type: '"+e.type+"'")};function Jm(e,t){var n=$a(["base"],e,t),r=$a(["strut"]);return r.style.height=ze(n.height+n.depth),n.depth&&(r.style.verticalAlign=ze(-n.depth)),n.children.unshift(r),n}function QC(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var r,i,o=lr(e,t,"root");o.length===2&&o[1].hasClass("tag")&&(r=o.pop());for(var a=[],s=[],l=0;l<o.length;l++)if(s.push(o[l]),o[l].hasClass("mbin")||o[l].hasClass("mrel")||o[l].hasClass("allowbreak")){for(var c=!1;l<o.length-1&&o[l+1].hasClass("mspace")&&!o[l+1].hasClass("newline");)l++,s.push(o[l]),o[l].hasClass("nobreak")&&(c=!0);c||(a.push(Jm(s,t)),s=[])}else o[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Jm(s,t)),s=[]),a.push(o[l]));s.length>0&&a.push(Jm(s,t)),n?((i=Jm(lr(n,t,!0))).classes=["tag"],a.push(i)):r&&a.push(r);var u=$a(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),i){var h=i.children[0];h.style.height=ze(u.height+u.depth),u.depth&&(h.style.verticalAlign=ze(-u.depth))}return u}function YC(e){return new op(e)}class co{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Us(this.classes));for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=lt.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+lt.escape(Us(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">"}toText(){return this.children.map(t=>t.toText()).join("")}}class sp{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return lt.escape(this.toText())}toText(){return this.text}}var Me={MathNode:co,TextNode:sp,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ze(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ze(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:YC},uo=function(e,t,n){return An[t][e]&&An[t][e].replace&&e.charCodeAt(0)!==55349&&!(NC.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=An[t][e].replace),new Me.TextNode(e)},G4=function(e){return e.length===1?e[0]:new Me.MathNode("mrow",e)},W4=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var r=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var i=e.text;return lt.contains(["\\imath","\\jmath"],i)?null:(An[r][i]&&An[r][i].replace&&(i=An[r][i].replace),B4(i,pe.fontMap[n].fontName,r)?pe.fontMap[n].variant:null)},vi=function(e,t,n){if(e.length===1){var r=hn(e[0],t);return n&&r instanceof co&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var i,o=[],a=0;a<e.length;a++){var s=hn(e[a],t);if(s instanceof co&&i instanceof co){if(s.type==="mtext"&&i.type==="mtext"&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if(s.type==="mn"&&i.type==="mn"){i.children.push(...s.children);continue}if(s.type==="mi"&&s.children.length===1&&i.type==="mn"){var l=s.children[0];if(l instanceof sp&&l.text==="."){i.children.push(...s.children);continue}}else if(i.type==="mi"&&i.children.length===1){var c=i.children[0];if(c instanceof sp&&c.text==="̸"&&(s.type==="mo"||s.type==="mi"||s.type==="mn")){var u=s.children[0];u instanceof sp&&u.text.length>0&&(u.text=u.text.slice(0,1)+"̸"+u.text.slice(1),o.pop())}}}o.push(s),i=s}return o},qs=function(e,t,n){return G4(vi(e,t,n))},hn=function(e,t){if(!e)return new Me.MathNode("mrow");if(Ym[e.type])return Ym[e.type](e,t);throw new De("Got group of unknown type: '"+e.type+"'")};function XC(e,t,n,r,i){var o,a=vi(e,n);o=a.length===1&&a[0]instanceof co&&lt.contains(["mrow","mtable"],a[0].type)?a[0]:new Me.MathNode("mrow",a);var s=new Me.MathNode("annotation",[new Me.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new Me.MathNode("semantics",[o,s]),c=new Me.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return pe.makeSpan([u],[c])}var LG=function(e){return new Va({style:e.displayMode?pt.DISPLAY:pt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},DG=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=pe.makeSpan(n,[e])}return e},PG={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},NG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},BG=function(e,t,n,r,i){var o,a=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(o=pe.makeSpan(["stretchy",t],[],i),t==="fbox"){var s=i.color&&i.getColor();s&&(o.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new DC({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new DC({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new js(l,{width:"100%",height:ze(a)});o=pe.makeSvgSpan([],[c],i)}return o.height=a,o.style.height=ze(a),o},Zm=function(e){var t=new Me.MathNode("mo",[new Me.TextNode(PG[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},eg=function(e,t){var{span:n,minWidth:r,height:i}=function(){var o=4e5,a=e.label.slice(1);if(lt.contains(["widehat","widecheck","widetilde","utilde"],a)){var s,l,c,u=function(U){return U.type==="ordgroup"?U.body.length:1}(e.base);if(u>5)a==="widehat"||a==="widecheck"?(s=420,o=2364,c=.42,l=a+"4"):(s=312,o=2340,c=.34,l="tilde4");else{var h=[1,1,2,2,3,3][u];a==="widehat"||a==="widecheck"?(o=[0,1062,2364,2364,2364][h],s=[0,239,300,360,420][h],c=[0,.24,.3,.3,.36,.42][h],l=a+h):(o=[0,600,1033,2339,2340][h],s=[0,260,286,306,312][h],c=[0,.26,.286,.3,.306,.34][h],l="tilde"+h)}var d=new Jl(l),p=new js([d],{width:"100%",height:ze(c),viewBox:"0 0 "+o+" "+s,preserveAspectRatio:"none"});return{span:pe.makeSvgSpan([],[p],t),minWidth:0,height:c}}var f,m,b=[],v=NG[a],[_,w,x]=v,E=x/1e3,M=_.length;if(M===1)f=["hide-tail"],m=[v[3]];else if(M===2)f=["halfarrow-left","halfarrow-right"],m=["xMinYMin","xMaxYMin"];else{if(M!==3)throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");f=["brace-left","brace-center","brace-right"],m=["xMinYMin","xMidYMin","xMaxYMin"]}for(var T=0;T<M;T++){var S=new Jl(_[T]),C=new js([S],{width:"400em",height:ze(E),viewBox:"0 0 "+o+" "+x,preserveAspectRatio:m[T]+" slice"}),P=pe.makeSvgSpan([f[T]],[C],t);if(M===1)return{span:P,minWidth:w,height:E};P.style.height=ze(E),b.push(P)}return{span:pe.makeSpan(["stretchy"],b,t),minWidth:w,height:E}}();return n.height=i,n.style.height=ze(i),r>0&&(n.style.minWidth=ze(r)),n};function It(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function K4(e){var t=tg(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function tg(e){return e&&(e.type==="atom"||xG.hasOwnProperty(e.type))?e:null}var Q4=(e,t)=>{var n,r,i;e&&e.type==="supsub"?(n=(r=It(e.base,"accent")).base,e.base=n,i=function(b){if(b instanceof Vm)return b;throw new Error("Expected span<HtmlDomNode> but got "+String(b)+".")}(Gt(e,t)),e.base=r):n=(r=It(e,"accent")).base;var o=Gt(n,t.havingCrampedStyle()),a=0;if(r.isShifty&&lt.isCharacterBox(n)){var s=lt.getBaseElem(n);a=PC(Gt(s,t.havingCrampedStyle())).skew}var l,c=r.label==="\\c",u=c?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight);if(r.isStretchy)l=eg(r,t),l=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+ze(2*a)+")",marginLeft:ze(2*a)}:void 0}]},t);else{var h,d;r.label==="\\vec"?(h=pe.staticSvg("vec",t),d=pe.svgData.vec[1]):((h=PC(h=pe.makeOrd({mode:r.mode,text:r.label},t,"textord"))).italic=0,d=h.width,c&&(u+=h.depth)),l=pe.makeSpan(["accent-body"],[h]);var p=r.label==="\\textcircled";p&&(l.classes.push("accent-full"),u=o.height);var f=a;p||(f-=d/2),l.style.left=ze(f),r.label==="\\textcircled"&&(l.style.top=".2em"),l=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-u},{type:"elem",elem:l}]},t)}var m=pe.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=m,i.height=Math.max(m.height,i.height),i.classes[0]="mord",i):m},JC=(e,t)=>{var n=e.isStretchy?Zm(e.label):new Me.MathNode("mo",[uo(e.label,e.mode)]),r=new Me.MathNode("mover",[hn(e.base,t),n]);return r.setAttribute("accent","true"),r},zG=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));qe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Xm(t[0]),r=!zG.test(e.funcName),i=!r||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Q4,mathmlBuilder:JC}),qe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return r==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Q4,mathmlBuilder:JC}),qe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{var n=Gt(e.base,t),r=eg(e,t),i=e.label==="\\utilde"?.12:0,o=pe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return pe.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var n=Zm(e.label),r=new Me.MathNode("munder",[hn(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var ng=e=>{var t=new Me.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};qe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:i}=e;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,r=t.style,i=t.havingStyle(r.sup()),o=pe.wrapFragment(Gt(e.body,i,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";o.classes.push(a+"-arrow-pad"),e.below&&(i=t.havingStyle(r.sub()),(n=pe.wrapFragment(Gt(e.below,i,t),t)).classes.push(a+"-arrow-pad"));var s,l=eg(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((o.depth>.25||e.label==="\\xleftequilibrium")&&(u-=o.depth),n){var h=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;s=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:h}]},t)}else s=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:u},{type:"elem",elem:l,shift:c}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),pe.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder(e,t){var n,r=Zm(e.label);if(r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em"),e.body){var i=ng(hn(e.body,t));if(e.below){var o=ng(hn(e.below,t));n=new Me.MathNode("munderover",[r,o,i])}else n=new Me.MathNode("mover",[r,i])}else if(e.below){var a=ng(hn(e.below,t));n=new Me.MathNode("munder",[r,a])}else n=ng(),n=new Me.MathNode("mover",[r,n]);return n}});var FG=pe.makeSpan;function ZC(e,t){var n=lr(e.body,t,!0);return FG([e.mclass],n,t)}function eT(e,t){var n,r=vi(e.body,t);return e.mclass==="minner"?n=new Me.MathNode("mpadded",r):e.mclass==="mord"?e.isCharacterBox?(n=r[0]).type="mi":n=new Me.MathNode("mi",r):(e.isCharacterBox?(n=r[0]).type="mo":n=new Me.MathNode("mo",r),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}qe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Gn(i),isCharacterBox:lt.isCharacterBox(i)}},htmlBuilder:ZC,mathmlBuilder:eT});var rg=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type!=="atom"||t.family!=="bin"&&t.family!=="rel"?"mord":"m"+t.family};qe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:rg(t[0]),body:Gn(t[1]),isCharacterBox:lt.isCharacterBox(t[1])}}}),qe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:r,funcName:i}=e,o=t[1],a=t[0];n=i!=="\\stackrel"?rg(o):"mrel";var s={type:"op",mode:o.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Gn(o)},l={type:"supsub",mode:a.mode,base:s,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:lt.isCharacterBox(l)}},htmlBuilder:ZC,mathmlBuilder:eT}),qe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:rg(t[0]),body:Gn(t[0])}},htmlBuilder(e,t){var n=lr(e.body,t,!0),r=pe.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=vi(e.body,t),r=new Me.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var UG={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},tT=e=>e.type==="textord"&&e.text==="@",jG=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function VG(e,t,n){var r=UG[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:r,mode:"math",family:"rel"},o={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[i],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[o],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}qe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=pe.wrapFragment(Gt(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=ze(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new Me.MathNode("mrow",[hn(e.label,t)]);return(n=new Me.MathNode("mpadded",[n])).setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new Me.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),qe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=pe.wrapFragment(Gt(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new Me.MathNode("mrow",[hn(e.fragment,t)])}),qe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=It(t[0],"ordgroup").body,i="",o=0;o<r.length;o++)i+=It(r[o],"textord").text;var a,s=parseInt(i);if(isNaN(s))throw new De("\\@char has non-numeric argument "+i);if(s<0||s>=1114111)throw new De("\\@char with invalid code point "+i);return s<=65535?a=String.fromCharCode(s):(s-=65536,a=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:n.mode,text:a}}});var nT=(e,t)=>{var n=lr(e.body,t.withColor(e.color),!1);return pe.makeFragment(n)},rT=(e,t)=>{var n=vi(e.body,t.withColor(e.color)),r=new Me.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};qe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=It(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:Gn(i)}},htmlBuilder:nT,mathmlBuilder:rT}),qe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,i=It(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:nT,mathmlBuilder:rT}),qe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&It(i,"size").value}},htmlBuilder(e,t){var n=pe.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=ze(On(e.size,t)))),n},mathmlBuilder(e,t){var n=new Me.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",ze(On(e.size,t)))),n}});var Y4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},iT=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new De("Expected a control sequence",e);return t},oT=(e,t,n,r)=>{var i=e.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};qe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if(Y4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Y4[r.text]),It(t.parseFunction(),"internal");throw new De("Invalid token after macro prefix",r)}}),qe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new De("Expected a control sequence",r);for(var o,a=0,s=[[]];t.gullet.future().text!=="{";)if((r=t.gullet.popToken()).text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),s[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new De('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new De('Argument number "'+r.text+'" out of order');a++,s.push([])}else{if(r.text==="EOF")throw new De("Expected a macro definition");s[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l)).reverse(),t.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:s},n===Y4[n]),{type:"internal",mode:t.mode}}}),qe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=iT(t.gullet.popToken());t.gullet.consumeSpaces();var i=(o=>{var a=o.gullet.popToken();return a.text==="="&&(a=o.gullet.popToken()).text===" "&&(a=o.gullet.popToken()),a})(t);return oT(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}}),qe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=iT(t.gullet.popToken()),i=t.gullet.popToken(),o=t.gullet.popToken();return oT(t,r,o,n==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var lp=function(e,t,n){var r=B4(An.math[e]&&An.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},X4=function(e,t,n,r){var i=n.havingBaseStyle(t),o=pe.makeSpan(r.concat(i.sizingClasses(n)),[e],n),a=i.sizeMultiplier/n.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=i.sizeMultiplier,o},aT=function(e,t,n){var r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ze(i),e.height-=i,e.depth+=i},sT=function(e,t,n,r,i,o){var a=function(l,c,u,h){return pe.makeSymbol(l,"Size"+c+"-Regular",u,h)}(e,t,i,r),s=X4(pe.makeSpan(["delimsizing","size"+t],[a],r),pt.TEXT,r,o);return n&&aT(s,r,pt.TEXT),s},J4=function(e,t,n){var r;return r=t==="Size1-Regular"?"delim-size1":"delim-size4",{type:"elem",elem:pe.makeSpan(["delimsizinginner",r],[pe.makeSpan([],[pe.makeSymbol(e,t,n)])])}},Z4=function(e,t,n){var r=ja["Size4-Regular"][e.charCodeAt(0)]?ja["Size4-Regular"][e.charCodeAt(0)][4]:ja["Size1-Regular"][e.charCodeAt(0)][4],i=new Jl("inner",function(s,l){switch(s){case"⎜":return"M291 0 H417 V"+l+" H291z M291 0 H417 V"+l+" H291z";case"∣":return"M145 0 H188 V"+l+" H145z M145 0 H188 V"+l+" H145z";case"∥":return"M145 0 H188 V"+l+" H145z M145 0 H188 V"+l+" H145zM367 0 H410 V"+l+" H367z M367 0 H410 V"+l+" H367z";case"⎟":return"M457 0 H583 V"+l+" H457z M457 0 H583 V"+l+" H457z";case"⎢":return"M319 0 H403 V"+l+" H319z M319 0 H403 V"+l+" H319z";case"⎥":return"M263 0 H347 V"+l+" H263z M263 0 H347 V"+l+" H263z";case"⎪":return"M384 0 H504 V"+l+" H384z M384 0 H504 V"+l+" H384z";case"⏐":return"M312 0 H355 V"+l+" H312z M312 0 H355 V"+l+" H312z";case"‖":return"M257 0 H300 V"+l+" H257z M257 0 H300 V"+l+" H257zM478 0 H521 V"+l+" H478z M478 0 H521 V"+l+" H478z";default:return""}}(e,Math.round(1e3*t))),o=new js([i],{width:ze(r),height:ze(t),style:"width:"+ze(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=pe.makeSvgSpan([],[o],n);return a.height=t,a.style.height=ze(t),a.style.width=ze(r),{type:"elem",elem:a}},e2=.008,ig={type:"kern",size:-1*e2},qG=["|","\\lvert","\\rvert","\\vert"],HG=["\\|","\\lVert","\\rVert","\\Vert"],lT=function(e,t,n,r,i,o){var a,s,l,c,u="",h=0;a=l=c=e,s=null;var d="Size1-Regular";e==="\\uparrow"?l=c="⏐":e==="\\Uparrow"?l=c="‖":e==="\\downarrow"?a=l="⏐":e==="\\Downarrow"?a=l="‖":e==="\\updownarrow"?(a="\\uparrow",l="⏐",c="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",l="‖",c="\\Downarrow"):lt.contains(qG,e)?(l="∣",u="vert",h=333):lt.contains(HG,e)?(l="∥",u="doublevert",h=556):e==="["||e==="\\lbrack"?(a="⎡",l="⎢",c="⎣",d="Size4-Regular",u="lbrack",h=667):e==="]"||e==="\\rbrack"?(a="⎤",l="⎥",c="⎦",d="Size4-Regular",u="rbrack",h=667):e==="\\lfloor"||e==="⌊"?(l=a="⎢",c="⎣",d="Size4-Regular",u="lfloor",h=667):e==="\\lceil"||e==="⌈"?(a="⎡",l=c="⎢",d="Size4-Regular",u="lceil",h=667):e==="\\rfloor"||e==="⌋"?(l=a="⎥",c="⎦",d="Size4-Regular",u="rfloor",h=667):e==="\\rceil"||e==="⌉"?(a="⎤",l=c="⎥",d="Size4-Regular",u="rceil",h=667):e==="("||e==="\\lparen"?(a="⎛",l="⎜",c="⎝",d="Size4-Regular",u="lparen",h=875):e===")"||e==="\\rparen"?(a="⎞",l="⎟",c="⎠",d="Size4-Regular",u="rparen",h=875):e==="\\{"||e==="\\lbrace"?(a="⎧",s="⎨",c="⎩",l="⎪",d="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="⎫",s="⎬",c="⎭",l="⎪",d="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a="⎧",c="⎩",l="⎪",d="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a="⎫",c="⎭",l="⎪",d="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a="⎧",c="⎭",l="⎪",d="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(a="⎫",c="⎩",l="⎪",d="Size4-Regular");var p=lp(a,d,i),f=p.height+p.depth,m=lp(l,d,i),b=m.height+m.depth,v=lp(c,d,i),_=v.height+v.depth,w=0,x=1;if(s!==null){var E=lp(s,d,i);w=E.height+E.depth,x=2}var M=f+_+w,T=M+Math.max(0,Math.ceil((t-M)/(x*b)))*x*b,S=r.fontMetrics().axisHeight;n&&(S*=r.sizeMultiplier);var C=T/2-S,P=[];if(u.length>0){var U=T-f-_,W=Math.round(1e3*T),te=function(ye,me){switch(ye){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+me+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+me+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+me+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+me+" v1759 h84z";case"vert":return"M145 15 v585 v"+me+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-me+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+me+" v585 h43z";case"doublevert":return"M145 15 v585 v"+me+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-me+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+me+` v585 h43z
M367 15 v585 v`+me+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-me+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+me+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+me+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+me+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+me+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+me+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+me+` v602 h84z
M403 1759 V0 H319 V1759 v`+me+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+me+` v602 h84z
M347 1759 V0 h-84 V1759 v`+me+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(me+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(me+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(me+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(me+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}}(u,Math.round(1e3*U)),ne=new Jl(u,te),ae=(h/1e3).toFixed(3)+"em",he=(W/1e3).toFixed(3)+"em",fe=new js([ne],{width:ae,height:he,viewBox:"0 0 "+h+" "+W}),le=pe.makeSvgSpan([],[fe],r);le.height=W/1e3,le.style.width=ae,le.style.height=he,P.push({type:"elem",elem:le})}else{if(P.push(J4(c,d,i)),P.push(ig),s===null){var N=T-f-_+2*e2;P.push(Z4(l,N,r))}else{var H=(T-f-_-w)/2+2*e2;P.push(Z4(l,H,r)),P.push(ig),P.push(J4(s,d,i)),P.push(ig),P.push(Z4(l,H,r))}P.push(ig),P.push(J4(a,d,i))}var F=r.havingBaseStyle(pt.TEXT),K=pe.makeVList({positionType:"bottom",positionData:C,children:P},F);return X4(pe.makeSpan(["delimsizing","mult"],[K],F),pt.TEXT,r,o)},t2=.08,n2=function(e,t,n,r,i){var o=function(l,c,u){c*=1e3;var h="";switch(l){case"sqrtMain":h=function(d,p){return"M95,"+(622+d+p)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+d/2.075+" -"+d+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+d)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+d)+" "+p+"h400000v"+(40+d)+"h-400000z"}(c,Nu);break;case"sqrtSize1":h=function(d,p){return"M263,"+(601+d+p)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+d/2.084+" -"+d+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+d)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+d)+" "+p+"h400000v"+(40+d)+"h-400000z"}(c,Nu);break;case"sqrtSize2":h=function(d,p){return"M983 "+(10+d+p)+`
l`+d/3.13+" -"+d+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+d)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+d)+" "+p+"h400000v"+(40+d)+"h-400000z"}(c,Nu);break;case"sqrtSize3":h=function(d,p){return"M424,"+(2398+d+p)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+d/4.223+" -"+d+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+d)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+d)+" "+p+`
h400000v`+(40+d)+"h-400000z"}(c,Nu);break;case"sqrtSize4":h=function(d,p){return"M473,"+(2713+d+p)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+d/5.298+" -"+d+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+d)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+d)+" "+p+"h400000v"+(40+d)+"H1017.7z"}(c,Nu);break;case"sqrtTall":h=function(d,p,f){return"M702 "+(d+p)+"H400000"+(40+d)+`
H742v`+(f-54-p-d)+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+p+"H400000v"+(40+d)+"H742z"}(c,Nu,u)}return h}(e,r,n),a=new Jl(e,o),s=new js([a],{width:"400em",height:ze(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return pe.makeSvgSpan(["hide-tail"],[s],i)},cT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],$G=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],uT=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],cp=[0,1.2,1.8,2.4,3],GG=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],WG=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"stack"}],hT=[{type:"small",style:pt.SCRIPTSCRIPT},{type:"small",style:pt.SCRIPT},{type:"small",style:pt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],KG=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},dT=function(e,t,n,r){for(var i=Math.min(2,3-r.style.size);i<n.length&&n[i].type!=="stack";i++){var o=lp(e,KG(n[i]),"math"),a=o.height+o.depth;if(n[i].type==="small"&&(a*=r.havingBaseStyle(n[i].style).sizeMultiplier),a>t)return n[i]}return n[n.length-1]},pT=function(e,t,n,r,i,o){var a;e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),a=lt.contains(uT,e)?GG:lt.contains(cT,e)?hT:WG;var s=dT(e,t,a,r);return s.type==="small"?function(l,c,u,h,d,p){var f=pe.makeSymbol(l,"Main-Regular",d,h),m=X4(f,c,h,p);return u&&aT(m,h,c),m}(e,s.style,n,r,i,o):s.type==="large"?sT(e,s.size,n,r,i,o):lT(e,t,n,r,i,o)},Ga={sqrtImage:function(e,t){var n,r,i=t.havingBaseSizing(),o=dT("\\surd",e*i.sizeMultiplier,hT,i),a=i.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return o.type==="small"?(e<1?a=1:e<1.4&&(a=.7),c=(1+s)/a,(n=n2("sqrtMain",l=(1+s+t2)/a,u=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",r=.833/a):o.type==="large"?(u=1080*cp[o.size],c=(cp[o.size]+s)/a,l=(cp[o.size]+s+t2)/a,(n=n2("sqrtSize"+o.size,l,u,s,t)).style.minWidth="1.02em",r=1/a):(l=e+s+t2,c=e+s,u=Math.floor(1e3*e+s)+80,(n=n2("sqrtTall",l,u,s,t)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=ze(l),{span:n,advanceWidth:r,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},sizedDelim:function(e,t,n,r,i){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),lt.contains(cT,e)||lt.contains(uT,e))return sT(e,t,!1,n,r,i);if(lt.contains($G,e))return lT(e,cp[t],!1,n,r,i);throw new De("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:cp,customSizedDelim:pT,leftRightDelim:function(e,t,n,r,i,o){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,l=Math.max(t-a,n+a),c=Math.max(l/500*901,2*l-s);return pT(e,c,!0,r,i,o)}},fT={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},QG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function og(e,t){var n=tg(e);if(n&&lt.contains(QG,n.text))return n;throw new De(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function mT(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}qe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=og(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:fT[e.funcName].size,mclass:fT[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?pe.makeSpan([e.mclass]):Ga.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(uo(e.delim,e.mode));var n=new Me.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ze(Ga.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),qe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new De("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:og(t[0],e).text,color:n}}}),qe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=og(t[0],e),r=e.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=It(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{mT(e);for(var n=lr(e.body,t,!0,["mopen","mclose"]),r=0,i=0,o=!1,a=0;a<n.length;a++)n[a].isMiddle?o=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));var s,l;if(r*=t.sizeMultiplier,i*=t.sizeMultiplier,s=e.left==="."?ap(t,["mopen"]):Ga.leftRightDelim(e.left,r,i,t,e.mode,["mopen"]),n.unshift(s),o)for(var c=1;c<n.length;c++){var u=n[c].isMiddle;u&&(n[c]=Ga.leftRightDelim(u.delim,r,i,u.options,e.mode,[]))}if(e.right===".")l=ap(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;l=Ga.leftRightDelim(e.right,r,i,h,e.mode,["mclose"])}return n.push(l),pe.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{mT(e);var n=vi(e.body,t);if(e.left!=="."){var r=new Me.MathNode("mo",[uo(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(e.right!=="."){var i=new Me.MathNode("mo",[uo(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),n.push(i)}return G4(n)}}),qe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=og(t[0],e);if(!e.parser.leftrightDepth)throw new De("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=ap(t,[]);else{n=Ga.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?uo("|","text"):uo(e.delim,e.mode),r=new Me.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var r2=(e,t)=>{var n,r,i=pe.wrapFragment(Gt(e.body,t),t),o=e.label.slice(1),a=t.sizeMultiplier,s=0,l=lt.isCharacterBox(e.body);if(o==="sout")(n=pe.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else if(o==="phase"){var c=On({number:.6,unit:"pt"},t),u=On({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var h=i.height+i.depth+c+u;i.style.paddingLeft=ze(h/2+c);var d=Math.floor(1e3*h*a),p=function(w){return"M400000 "+w+" H0 L"+w/2+" 0 l65 45 L145 "+(w-80)+" H400000z"}(d),f=new js([new Jl("phase",p)],{width:"400em",height:ze(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});(n=pe.makeSvgSpan(["hide-tail"],[f],t)).style.height=ze(h),s=i.depth+c+u}else{/cancel/.test(o)?l||i.classes.push("cancel-pad"):o==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var m=0,b=0,v=0;/box/.test(o)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),b=m=t.fontMetrics().fboxsep+(o==="colorbox"?0:v)):o==="angl"?(m=4*(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),b=Math.max(0,.25-i.depth)):b=m=l?.2:0,n=BG(i,o,m,b,t),/fbox|boxed|fcolorbox/.test(o)?(n.style.borderStyle="solid",n.style.borderWidth=ze(v)):o==="angl"&&v!==.049&&(n.style.borderTopWidth=ze(v),n.style.borderRightWidth=ze(v)),s=i.depth+b,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)r=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:s},{type:"elem",elem:i,shift:0}]},t);else{var _=/cancel|phase/.test(o)?["svg-align"]:[];r=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:n,shift:s,wrapperClasses:_}]},t)}return/cancel/.test(o)&&(r.height=i.height,r.depth=i.depth),/cancel/.test(o)&&!l?pe.makeSpan(["mord","cancel-lap"],[r],t):pe.makeSpan(["mord"],[r],t)},i2=(e,t)=>{var n=0,r=new Me.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[hn(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};qe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=It(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:a}},htmlBuilder:r2,mathmlBuilder:i2}),qe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:i}=e,o=It(t[0],"color-token").color,a=It(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:o,body:s}},htmlBuilder:r2,mathmlBuilder:i2}),qe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),qe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:r2,mathmlBuilder:i2}),qe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var gT={};function sa(e){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:a}=e,s={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)gT[n[l]]=s;o&&(Qm[t]=o),a&&(Ym[t]=a)}var vT={};function $(e,t){vT[e]=t}function yT(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var ag=e=>{if(!e.parser.settings.displayMode)throw new De("{"+e.envName+"} can be used only in display mode.")};function o2(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Hs(e,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:h,leqno:d}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)a=1;else if(!(a=parseFloat(p))||a<0)throw new De("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var f=[],m=[f],b=[],v=[],_=l!=null?[]:void 0;function w(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function x(){_&&(e.gullet.macros.get("\\df@tag")?(_.push(e.subparse([new lo("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):_.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(w(),v.push(yT(e));;){var E=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),E={type:"ordgroup",mode:e.mode,body:E},n&&(E={type:"styling",mode:e.mode,style:n,body:[E]}),f.push(E);var M=e.fetch().text;if(M==="&"){if(h&&f.length===h){if(c||s)throw new De("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if(M==="\\end"){x(),f.length===1&&E.type==="styling"&&E.body[0].body.length===0&&(m.length>1||!u)&&m.pop(),v.length<m.length+1&&v.push([]);break}if(M!=="\\\\")throw new De("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var T=void 0;e.gullet.future().text!==" "&&(T=e.parseSizeGroup(!0)),b.push(T?T.value:null),x(),v.push(yT(e)),f=[],m.push(f),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:a,body:m,cols:o,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:s,tags:_,leqno:d}}function a2(e){return e.slice(0,1)==="d"?"display":"text"}var la=function(e,t){var n,r,i=e.body.length,o=e.hLinesBeforeRow,a=0,s=new Array(i),l=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,h=5*u;e.colSeparationType&&e.colSeparationType==="small"&&(h=t.havingStyle(pt.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var d=e.colSeparationType==="CD"?On({number:3,unit:"ex"},t):12*u,p=3*u,f=e.arraystretch*d,m=.7*f,b=.3*f,v=0;function _(Kt){for(var bt=0;bt<Kt.length;++bt)bt>0&&(v+=.25),l.push({pos:v,isDashed:Kt[bt]})}for(_(o[0]),n=0;n<e.body.length;++n){var w=e.body[n],x=m,E=b;a<w.length&&(a=w.length);var M=new Array(w.length);for(r=0;r<w.length;++r){var T=Gt(w[r],t);E<T.depth&&(E=T.depth),x<T.height&&(x=T.height),M[r]=T}var S=e.rowGaps[n],C=0;S&&(C=On(S,t))>0&&(E<(C+=b)&&(E=C),C=0),e.addJot&&(E+=p),M.height=x,M.depth=E,v+=x,M.pos=v,v+=E+C,s[n]=M,_(o[n+1])}var P,U,W=v/2+t.fontMetrics().axisHeight,te=e.cols||[],ne=[],ae=[];if(e.tags&&e.tags.some(Kt=>Kt))for(n=0;n<i;++n){var he=s[n],fe=he.pos-W,le=e.tags[n],N=void 0;(N=le===!0?pe.makeSpan(["eqn-num"],[],t):le===!1?pe.makeSpan([],[],t):pe.makeSpan([],lr(le,t,!0),t)).depth=he.depth,N.height=he.height,ae.push({type:"elem",elem:N,shift:fe})}for(r=0,U=0;r<a||U<te.length;++r,++U){for(var H=te[U]||{},F=!0;H.type==="separator";){if(F||((P=pe.makeSpan(["arraycolsep"],[])).style.width=ze(t.fontMetrics().doubleRuleSep),ne.push(P)),H.separator!=="|"&&H.separator!==":")throw new De("Invalid separator type: "+H.separator);var K=H.separator==="|"?"solid":"dashed",ye=pe.makeSpan(["vertical-separator"],[],t);ye.style.height=ze(v),ye.style.borderRightWidth=ze(c),ye.style.borderRightStyle=K,ye.style.margin="0 "+ze(-c/2);var me=v-W;me&&(ye.style.verticalAlign=ze(-me)),ne.push(ye),H=te[++U]||{},F=!1}if(!(r>=a)){var Pe=void 0;(r>0||e.hskipBeforeAndAfter)&&(Pe=lt.deflt(H.pregap,h))!==0&&((P=pe.makeSpan(["arraycolsep"],[])).style.width=ze(Pe),ne.push(P));var Ue=[];for(n=0;n<i;++n){var de=s[n],be=de[r];if(be){var Le=de.pos-W;be.depth=de.depth,be.height=de.height,Ue.push({type:"elem",elem:be,shift:Le})}}Ue=pe.makeVList({positionType:"individualShift",children:Ue},t),Ue=pe.makeSpan(["col-align-"+(H.align||"c")],[Ue]),ne.push(Ue),(r<a-1||e.hskipBeforeAndAfter)&&(Pe=lt.deflt(H.postgap,h))!==0&&((P=pe.makeSpan(["arraycolsep"],[])).style.width=ze(Pe),ne.push(P))}}if(s=pe.makeSpan(["mtable"],ne),l.length>0){for(var Ve=pe.makeLineSpan("hline",t,c),He=pe.makeLineSpan("hdashline",t,c),st=[{type:"elem",elem:s,shift:0}];l.length>0;){var Rt=l.pop(),Et=Rt.pos-W;Rt.isDashed?st.push({type:"elem",elem:He,shift:Et}):st.push({type:"elem",elem:Ve,shift:Et})}s=pe.makeVList({positionType:"individualShift",children:st},t)}if(ae.length===0)return pe.makeSpan(["mord"],[s],t);var Ot=pe.makeVList({positionType:"individualShift",children:ae},t);return Ot=pe.makeSpan(["tag"],[Ot],t),pe.makeFragment([s,Ot])},YG={c:"center ",l:"left ",r:"right "},ca=function(e,t){for(var n=[],r=new Me.MathNode("mtd",[],["mtr-glue"]),i=new Me.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],s=[],l=0;l<a.length;l++)s.push(new Me.MathNode("mtd",[hn(a[l],t)]));e.tags&&e.tags[o]&&(s.unshift(r),s.push(r),e.leqno?s.unshift(i):s.push(i)),n.push(new Me.MathNode("mtr",s))}var c=new Me.MathNode("mtable",n),u=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",ze(u));var h="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,f="",m=!1,b=0,v=p.length;p[0].type==="separator"&&(h+="top ",b=1),p[p.length-1].type==="separator"&&(h+="bottom ",v-=1);for(var _=b;_<v;_++)p[_].type==="align"?(d+=YG[p[_].align],m&&(f+="none "),m=!0):p[_].type==="separator"&&m&&(f+=p[_].separator==="|"?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",d.trim()),/[sd]/.test(f)&&c.setAttribute("columnlines",f.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],x="",E=1;E<w.length;E++)x+=E%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var M="",T=e.hLinesBeforeRow;h+=T[0].length>0?"left ":"",h+=T[T.length-1].length>0?"right ":"";for(var S=1;S<T.length-1;S++)M+=T[S].length===0?"none ":T[S][0]?"dashed ":"solid ";return/[sd]/.test(M)&&c.setAttribute("rowlines",M.trim()),h!==""&&(c=new Me.MathNode("menclose",[c])).setAttribute("notation",h.trim()),e.arraystretch&&e.arraystretch<1&&(c=new Me.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},bT=function(e,t){e.envName.indexOf("ed")===-1&&ag(e);var n,r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",a=Hs(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:o2(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var c="",u=0;u<t[0].body.length;u++)c+=It(t[0].body[u],"textord").text;n=Number(c),s=2*n}var h=!s;a.body.forEach(function(m){for(var b=1;b<m.length;b+=2){var v=It(m[b],"styling");It(v.body[0],"ordgroup").body.unshift(l)}if(h)s<m.length&&(s=m.length);else{var _=m.length/2;if(n<_)throw new De("Too many math in a row: expected "+n+", but got "+_,m[0])}});for(var d=0;d<s;++d){var p="r",f=0;d%2==1?p="l":d>0&&h&&(f=1),r[d]={type:"align",align:p,pregap:f,postgap:0}}return a.colSeparationType=h?"align":"alignat",a};sa({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=(tg(t[0])?[t[0]]:It(t[0],"ordgroup").body).map(function(i){var o=K4(i).text;if("lcr".indexOf(o)!==-1)return{type:"align",align:o};if(o==="|")return{type:"separator",separator:"|"};if(o===":")return{type:"separator",separator:":"};throw new De("Unknown column alignment: "+o,i)}),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Hs(e.parser,r,a2(e.envName))},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new De("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=Hs(e.parser,r,a2(e.envName)),a=Math.max(0,...o.body.map(s=>s.length));return o.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=Hs(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=(tg(t[0])?[t[0]]:It(t[0],"ordgroup").body).map(function(i){var o=K4(i).text;if("lc".indexOf(o)!==-1)return{type:"align",align:o};throw new De("Unknown column alignment: "+o,i)});if(n.length>1)throw new De("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=Hs(e.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new De("{subarray} can contain only one column");return r},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=Hs(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},a2(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:bT,htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){lt.contains(["gather","gather*"],e.envName)&&ag(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:o2(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Hs(e.parser,t,"display")},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:bT,htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){ag(e);var t={autoTag:o2(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Hs(e.parser,t,"display")},htmlBuilder:la,mathmlBuilder:ca}),sa({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(ag(e),function(t){var n=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){n.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r!=="&"&&r!=="\\\\"){if(r==="\\end"){n[n.length-1].length===0&&n.pop();break}throw new De("Expected \\\\ or \\cr or \\end",t.nextToken)}t.consume()}for(var i=[],o=[i],a=0;a<n.length;a++){for(var s=n[a],l={type:"styling",body:[],mode:"math",style:"display"},c=0;c<s.length;c++)if(tT(s[c])){i.push(l);var u=K4(s[c+=1]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1)){if(!("<>AV".indexOf(u)>-1))throw new De('Expected one of "<>AV=|." after @',s[c]);for(var d=0;d<2;d++){for(var p=!0,f=c+1;f<s.length;f++){if(jG(s[f],u)){p=!1,c=f;break}if(tT(s[f]))throw new De("Missing a "+u+" character to complete a CD arrow.",s[f]);h[d].body.push(s[f])}if(p)throw new De("Missing a "+u+" character to complete a CD arrow.",s[c])}}var m={type:"styling",body:[VG(u,h,t)],mode:"math",style:"display"};i.push(m),l={type:"styling",body:[],mode:"math",style:"display"}}else l.body.push(s[c]);a%2==0?i.push(l):i.shift(),i=[],o.push(i)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}(e.parser)),htmlBuilder:la,mathmlBuilder:ca}),$("\\nonumber","\\gdef\\@eqnsw{0}"),$("\\notag","\\nonumber"),qe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new De(e.funcName+" valid only within array environment")}});var wT=gT;qe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];if(i.type!=="ordgroup")throw new De("Invalid environment name",i);for(var o="",a=0;a<i.body.length;++a)o+=It(i.body[a],"textord").text;if(r==="\\begin"){if(!wT.hasOwnProperty(o))throw new De("No such environment: "+o,i);var s=wT[o],{args:l,optArgs:c}=n.parseArguments("\\begin{"+o+"}",s),u={mode:n.mode,envName:o,parser:n},h=s.handler(u,l,c);n.expect("\\end",!1);var d=n.nextToken,p=It(n.parseFunction(),"environment");if(p.name!==o)throw new De("Mismatch: \\begin{"+o+"} matched by \\end{"+p.name+"}",d);return h}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var _T=(e,t)=>{var n=e.font,r=t.withFont(n);return Gt(e.body,r)},xT=(e,t)=>{var n=e.font,r=t.withFont(n);return hn(e.body,r)},kT={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};qe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=Xm(t[0]),o=r;return o in kT&&(o=kT[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:_T,mathmlBuilder:xT}),qe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],i=lt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:rg(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}}),qe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:o}=n,a=n.parseExpression(!0,i);return{type:"font",mode:o,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:_T,mathmlBuilder:xT});var ST=(e,t)=>{var n=t;return e==="display"?n=n.id>=pt.SCRIPT.id?n.text():pt.DISPLAY:e==="text"&&n.size===pt.DISPLAY.size?n=pt.TEXT:e==="script"?n=pt.SCRIPT:e==="scriptscript"&&(n=pt.SCRIPTSCRIPT),n},s2=(e,t)=>{var n,r=ST(e.size,t.style),i=r.fracNum(),o=r.fracDen();n=t.havingStyle(i);var a=Gt(e.numer,n,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}n=t.havingStyle(o);var c,u,h,d,p,f,m,b,v,_,w=Gt(e.denom,n,t);if(e.hasBarLine?(e.barSize?(u=On(e.barSize,t),c=pe.makeLineSpan("frac-line",t,u)):c=pe.makeLineSpan("frac-line",t),u=c.height,h=c.height):(c=null,u=0,h=t.fontMetrics().defaultRuleThickness),r.size===pt.DISPLAY.size||e.size==="display"?(d=t.fontMetrics().num1,p=u>0?3*h:7*h,f=t.fontMetrics().denom1):(u>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),f=t.fontMetrics().denom2),c){var x=t.fontMetrics().axisHeight;d-a.depth-(x+.5*u)<p&&(d+=p-(d-a.depth-(x+.5*u))),x-.5*u-(w.height-f)<p&&(f+=p-(x-.5*u-(w.height-f)));var E=-(x-.5*u);m=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:f},{type:"elem",elem:c,shift:E},{type:"elem",elem:a,shift:-d}]},t)}else{var M=d-a.depth-(w.height-f);M<p&&(d+=.5*(p-M),f+=.5*(p-M)),m=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:f},{type:"elem",elem:a,shift:-d}]},t)}return n=t.havingStyle(r),m.height*=n.sizeMultiplier/t.sizeMultiplier,m.depth*=n.sizeMultiplier/t.sizeMultiplier,b=r.size===pt.DISPLAY.size?t.fontMetrics().delim1:r.size===pt.SCRIPTSCRIPT.size?t.havingStyle(pt.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,v=e.leftDelim==null?ap(t,["mopen"]):Ga.customSizedDelim(e.leftDelim,b,!0,t.havingStyle(r),e.mode,["mopen"]),_=e.continued?pe.makeSpan([]):e.rightDelim==null?ap(t,["mclose"]):Ga.customSizedDelim(e.rightDelim,b,!0,t.havingStyle(r),e.mode,["mclose"]),pe.makeSpan(["mord"].concat(n.sizingClasses(t)),[v,pe.makeSpan(["mfrac"],[m]),_],t)},l2=(e,t)=>{var n=new Me.MathNode("mfrac",[hn(e.numer,t),hn(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=On(e.barSize,t);n.setAttribute("linethickness",ze(r))}}else n.setAttribute("linethickness","0px");var i=ST(e.size,t.style);if(i.size!==t.style.size){n=new Me.MathNode("mstyle",[n]);var o=i.size===pt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var s=new Me.MathNode("mo",[new Me.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),e.rightDelim!=null){var l=new Me.MathNode("mo",[new Me.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return G4(a)}return n};qe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:r,funcName:i}=e,o=t[0],a=t[1],s=null,l=null,c="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:o,denom:a,hasBarLine:n,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:s2,mathmlBuilder:l2}),qe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),qe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:r,token:i}=e;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:i}}});var ET=["display","text","script","scriptscript"],AT=function(e){var t=null;return e.length>0&&(t=(t=e)==="."?null:t),t};qe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:r}=e,i=t[4],o=t[5],a=Xm(t[0]),s=a.type==="atom"&&a.family==="open"?AT(a.text):null,l=Xm(t[1]),c=l.type==="atom"&&l.family==="close"?AT(l.text):null,u=It(t[2],"size"),h=null;u.isBlank?n=!0:n=(h=u.value).number>0;var d="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var f=It(p.body[0],"textord");d=ET[Number(f.text)]}}else p=It(p,"textord"),d=ET[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:n,barSize:h,leftDelim:s,rightDelim:c,size:d}},htmlBuilder:s2,mathmlBuilder:l2}),qe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:i}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:It(t[0],"size").value,token:i}}}),qe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0],o=function(l){if(!l)throw new Error("Expected non-null, but got "+String(l));return l}(It(t[1],"infix").size),a=t[2],s=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:s,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:s2,mathmlBuilder:l2});var CT=(e,t)=>{var n,r,i=t.style;e.type==="supsub"?(n=e.sup?Gt(e.sup,t.havingStyle(i.sup()),t):Gt(e.sub,t.havingStyle(i.sub()),t),r=It(e.base,"horizBrace")):r=It(e,"horizBrace");var o,a=Gt(r.base,t.havingBaseStyle(pt.DISPLAY)),s=eg(r,t);if(r.isOver?(o=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(o=pe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=pe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t);o=r.isOver?pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):pe.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return pe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],t)};qe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:CT,mathmlBuilder:(e,t)=>{var n=Zm(e.label);return new Me.MathNode(e.isOver?"mover":"munder",[hn(e.base,t),n])}}),qe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],i=It(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Gn(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=lr(e.body,t,!1);return pe.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=qs(e.body,t);return n instanceof co||(n=new co("mrow",[n])),n.setAttribute("href",e.href),n}}),qe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=It(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var a=r[o];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Gn(s)}}}),qe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Gn(t[0])}},htmlBuilder(e,t){var n=lr(e.body,t,!1);return pe.makeFragment(n)},mathmlBuilder:(e,t)=>new Me.MathNode("mrow",vi(e.body,t))}),qe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,token:i}=e,o=It(t[0],"raw").string,a=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var s,l={};switch(r){case"\\htmlClass":l.class=o,s={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,s={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,s={command:"\\htmlStyle",style:o};break;case"\\htmlData":for(var c=o.split(","),u=0;u<c.length;u++){var h=c[u].split("=");if(h.length!==2)throw new De("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}s={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(s)?{type:"html",mode:n.mode,attributes:l,body:Gn(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(e,t)=>{var n=lr(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var i=pe.makeSpan(r,n,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&i.setAttribute(o,e.attributes[o]);return i},mathmlBuilder:(e,t)=>qs(e.body,t)}),qe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Gn(t[0]),mathml:Gn(t[1])}},htmlBuilder:(e,t)=>{var n=lr(e.html,t,!1);return pe.makeFragment(n)},mathmlBuilder:(e,t)=>qs(e.mathml,t)});var c2=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new De("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!MC(n))throw new De("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};qe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(n[0])for(var l=It(n[0],"raw").string.split(","),c=0;c<l.length;c++){var u=l[c].split("=");if(u.length===2){var h=u[1].trim();switch(u[0].trim()){case"alt":s=h;break;case"width":i=c2(h);break;case"height":o=c2(h);break;case"totalheight":a=c2(h);break;default:throw new De("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var d=It(t[0],"url").url;return s===""&&(s=(s=(s=d).replace(/^.*[\\/]/,"")).substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:d})?{type:"includegraphics",mode:r.mode,alt:s,width:i,height:o,totalheight:a,src:d}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=On(e.height,t),r=0;e.totalheight.number>0&&(r=On(e.totalheight,t)-n);var i=0;e.width.number>0&&(i=On(e.width,t));var o={height:ze(n+r)};i>0&&(o.width=ze(i)),r>0&&(o.verticalAlign=ze(-r));var a=new bG(e.src,e.alt,o);return a.height=n,a.depth=r,a},mathmlBuilder:(e,t)=>{var n=new Me.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=On(e.height,t),i=0;if(e.totalheight.number>0&&(i=On(e.totalheight,t)-r,n.setAttribute("valign",ze(-i))),n.setAttribute("height",ze(r+i)),e.width.number>0){var o=On(e.width,t);n.setAttribute("width",ze(o))}return n.setAttribute("src",e.src),n}}),qe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=It(t[0],"size");if(n.settings.strict){var o=r[1]==="m",a=i.value.unit==="mu";o?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+i.value.unit+" units"),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder:(e,t)=>pe.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=On(e.dimension,t);return new Me.SpaceNode(n)}}),qe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=pe.makeSpan([],[Gt(e.body,t)]),n=pe.makeSpan(["inner"],[n],t)):n=pe.makeSpan(["inner"],[Gt(e.body,t)]);var r=pe.makeSpan(["fix"],[]),i=pe.makeSpan([e.alignment],[n,r],t),o=pe.makeSpan(["strut"]);return o.style.height=ze(i.height+i.depth),i.depth&&(o.style.verticalAlign=ze(-i.depth)),i.children.unshift(o),i=pe.makeSpan(["thinbox"],[i],t),pe.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var n=new Me.MathNode("mpadded",[hn(e.body,t)]);if(e.alignment!=="rlap"){var r=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),qe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",a=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}}),qe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new De("Mismatched "+e.funcName)}});var TT=(e,t)=>{switch(t.style.size){case pt.DISPLAY.size:return e.display;case pt.TEXT.size:return e.text;case pt.SCRIPT.size:return e.script;case pt.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};qe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Gn(t[0]),text:Gn(t[1]),script:Gn(t[2]),scriptscript:Gn(t[3])}},htmlBuilder:(e,t)=>{var n=TT(e,t),r=lr(n,t,!1);return pe.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=TT(e,t);return qs(n,t)}});var MT=(e,t,n,r,i,o,a)=>{e=pe.makeSpan([],[e]);var s,l,c,u=n&&lt.isCharacterBox(n);if(t){var h=Gt(t,r.havingStyle(i.sup()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=Gt(n,r.havingStyle(i.sub()),r);s={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}if(l&&s){var p=r.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+a;c=pe.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:ze(-o)},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:ze(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(s){var f=e.height-a;c=pe.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:ze(-o)},{type:"kern",size:s.kern},{type:"elem",elem:e}]},r)}else{if(!l)return e;var m=e.depth+a;c=pe.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:ze(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var b=[c];if(s&&o!==0&&!u){var v=pe.makeSpan(["mspace"],[],r);v.style.marginRight=ze(o),b.unshift(v)}return pe.makeSpan(["mop","op-limits"],b,r)},RT=["\\smallint"],zu=(e,t)=>{var n,r,i,o=!1;e.type==="supsub"?(n=e.sup,r=e.sub,i=It(e.base,"op"),o=!0):i=It(e,"op");var a,s=t.style,l=!1;if(s.size===pt.DISPLAY.size&&i.symbol&&!lt.contains(RT,i.name)&&(l=!0),i.symbol){var c=l?"Size2-Regular":"Size1-Regular",u="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(u=i.name.slice(1),i.name=u==="oiint"?"\\iint":"\\iiint"),a=pe.makeSymbol(i.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),u.length>0){var h=a.italic,d=pe.staticSvg(u+"Size"+(l?"2":"1"),t);a=pe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:d,shift:l?.08:0}]},t),i.name="\\"+u,a.classes.unshift("mop"),a.italic=h}}else if(i.body){var p=lr(i.body,t,!0);p.length===1&&p[0]instanceof Ao?(a=p[0]).classes[0]="mop":a=pe.makeSpan(["mop"],p,t)}else{for(var f=[],m=1;m<i.name.length;m++)f.push(pe.mathsym(i.name[m],i.mode,t));a=pe.makeSpan(["mop"],f,t)}var b=0,v=0;return(a instanceof Ao||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(b=(a.height-a.depth)/2-t.fontMetrics().axisHeight,v=a.italic),o?MT(a,n,r,t,s,v,b):(b&&(a.style.position="relative",a.style.top=ze(b)),a)},up=(e,t)=>{var n;if(e.symbol)n=new co("mo",[uo(e.name,e.mode)]),lt.contains(RT,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new co("mo",vi(e.body,t));else{n=new co("mi",[new sp(e.name.slice(1))]);var r=new co("mo",[uo("⁡","text")]);n=e.parentIsSupSub?new co("mrow",[n,r]):YC([n,r])}return n},XG={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};qe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=XG[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:zu,mathmlBuilder:up}),qe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Gn(r)}},htmlBuilder:zu,mathmlBuilder:up});var JG={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};qe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:zu,mathmlBuilder:up}),qe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:zu,mathmlBuilder:up}),qe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=JG[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:zu,mathmlBuilder:up});var IT=(e,t)=>{var n,r,i,o,a=!1;if(e.type==="supsub"?(n=e.sup,r=e.sub,i=It(e.base,"operatorname"),a=!0):i=It(e,"operatorname"),i.body.length>0){for(var s=i.body.map(h=>{var d=h.text;return typeof d=="string"?{type:"textord",mode:h.mode,text:d}:h}),l=lr(s,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Ao&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=pe.makeSpan(["mop"],l,t)}else o=pe.makeSpan(["mop"],[],t);return a?MT(o,n,r,t,t.style,0,0):o};function OT(e,t,n){for(var r=lr(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var a=r[o].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[o].classes,t.sizingClasses(n)):r[o].classes[a+1]==="reset-size"+t.size&&(r[o].classes[a+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return pe.makeFragment(r)}qe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,i=t[0];return{type:"operatorname",mode:n.mode,body:Gn(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:IT,mathmlBuilder:(e,t)=>{for(var n=vi(e.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof Me.SpaceNode))if(o instanceof Me.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=o.children[0];o.children.length===1&&a instanceof Me.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map(u=>u.toText()).join("");n=[new Me.TextNode(s)]}var l=new Me.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new Me.MathNode("mo",[uo("⁡","text")]);return e.parentIsSupSub?new Me.MathNode("mrow",[l,c]):Me.newDocumentFragment([l,c])}}),$("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),tc({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?pe.makeFragment(lr(e.body,t,!1)):pe.makeSpan(["mord"],lr(e.body,t,!0),t),mathmlBuilder:(e,t)=>qs(e.body,t,!0)}),qe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=Gt(e.body,t.havingCrampedStyle()),r=pe.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,o=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return pe.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new Me.MathNode("mo",[new Me.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Me.MathNode("mover",[hn(e.body,t),n]);return r.setAttribute("accent","true"),r}}),qe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:Gn(r)}},htmlBuilder:(e,t)=>{var n=lr(e.body,t.withPhantom(),!1);return pe.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=vi(e.body,t);return new Me.MathNode("mphantom",n)}}),qe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=pe.makeSpan([],[Gt(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),pe.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=vi(Gn(e.body),t),r=new Me.MathNode("mphantom",n),i=new Me.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),qe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=pe.makeSpan(["inner"],[Gt(e.body,t.withPhantom())]),r=pe.makeSpan(["fix"],[]);return pe.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=vi(Gn(e.body),t),r=new Me.MathNode("mphantom",n),i=new Me.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}}),qe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=It(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){var n=Gt(e.body,t),r=On(e.dy,t);return pe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new Me.MathNode("mpadded",[hn(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}}),qe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),qe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,i=n[0],o=It(t[0],"size"),a=It(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&It(i,"size").value,width:o.value,height:a.value}},htmlBuilder(e,t){var n=pe.makeSpan(["mord","rule"],[],t),r=On(e.width,t),i=On(e.height,t),o=e.shift?On(e.shift,t):0;return n.style.borderRightWidth=ze(r),n.style.borderTopWidth=ze(i),n.style.bottom=ze(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=1.125*i*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=On(e.width,t),r=On(e.height,t),i=e.shift?On(e.shift,t):0,o=t.color&&t.getColor()||"black",a=new Me.MathNode("mspace");a.setAttribute("mathbackground",o),a.setAttribute("width",ze(n)),a.setAttribute("height",ze(r));var s=new Me.MathNode("mpadded",[a]);return i>=0?s.setAttribute("height",ze(i)):(s.setAttribute("height",ze(i)),s.setAttribute("depth",ze(-i))),s.setAttribute("voffset",ze(i)),s}});var LT=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];qe({type:"sizing",names:LT,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:LT.indexOf(r)+1,body:o}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return OT(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=vi(e.body,n),i=new Me.MathNode("mstyle",r);return i.setAttribute("mathsize",ze(n.sizeMultiplier)),i}}),qe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,i=!1,o=!1,a=n[0]&&It(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l)if((s=a.body[l].text)==="t")i=!0;else{if(s!=="b"){i=!1,o=!1;break}o=!0}else i=!0,o=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(e,t)=>{var n=pe.makeSpan([],[Gt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return pe.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new Me.MathNode("mpadded",[hn(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),qe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,i=n[0],o=t[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(e,t){var n=Gt(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=pe.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<pt.TEXT.id&&(i=t.fontMetrics().xHeight);var o=r+i/4,a=n.height+n.depth+o+r,{span:s,ruleWidth:l,advanceWidth:c}=Ga.sqrtImage(a,t),u=s.height-l;u>n.height+n.depth+o&&(o=(o+u-n.height-n.depth)/2);var h=s.height-n.height-o-l;n.style.paddingLeft=ze(c);var d=pe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(pt.SCRIPTSCRIPT),f=Gt(e.index,p,t),m=.6*(d.height-d.depth),b=pe.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:f}]},t),v=pe.makeSpan(["root"],[b]);return pe.makeSpan(["mord","sqrt"],[v,d],t)}return pe.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new Me.MathNode("mroot",[hn(n,t),hn(r,t)]):new Me.MathNode("msqrt",[hn(n,t)])}});var DT={display:pt.DISPLAY,text:pt.TEXT,script:pt.SCRIPT,scriptscript:pt.SCRIPTSCRIPT};qe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:i}=e,o=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:o}},htmlBuilder(e,t){var n=DT[e.style],r=t.havingStyle(n).withFont("");return OT(e.body,r,t)},mathmlBuilder(e,t){var n=DT[e.style],r=t.havingStyle(n),i=vi(e.body,r),o=new Me.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}}),tc({type:"supsub",htmlBuilder(e,t){var n=function(P,U){var W=P.base;return W?W.type==="op"?W.limits&&(U.style.size===pt.DISPLAY.size||W.alwaysHandleSupSub)?zu:null:W.type==="operatorname"?W.alwaysHandleSupSub&&(U.style.size===pt.DISPLAY.size||W.limits)?IT:null:W.type==="accent"?lt.isCharacterBox(W.base)?Q4:null:W.type==="horizBrace"&&!P.sub===W.isOver?CT:null:null}(e,t);if(n)return n(e,t);var r,i,o,{base:a,sup:s,sub:l}=e,c=Gt(a,t),u=t.fontMetrics(),h=0,d=0,p=a&&lt.isCharacterBox(a);if(s){var f=t.havingStyle(t.style.sup());r=Gt(s,f,t),p||(h=c.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());i=Gt(l,m,t),p||(d=c.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}o=t.style===pt.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;var b,v=t.sizeMultiplier,_=ze(.5/u.ptPerEm/v),w=null;if(i){var x=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(c instanceof Ao||x)&&(w=ze(-c.italic))}if(r&&i){h=Math.max(h,o,r.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var E=4*u.defaultRuleThickness;if(h-r.depth-(i.height-d)<E){d=E-(h-r.depth)+i.height;var M=.8*u.xHeight-(h-r.depth);M>0&&(h+=M,d-=M)}var T=[{type:"elem",elem:i,shift:d,marginRight:_,marginLeft:w},{type:"elem",elem:r,shift:-h,marginRight:_}];b=pe.makeVList({positionType:"individualShift",children:T},t)}else if(i){d=Math.max(d,u.sub1,i.height-.8*u.xHeight);var S=[{type:"elem",elem:i,marginLeft:w,marginRight:_}];b=pe.makeVList({positionType:"shift",positionData:d,children:S},t)}else{if(!r)throw new Error("supsub must have either sup or sub.");h=Math.max(h,o,r.depth+.25*u.xHeight),b=pe.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:r,marginRight:_}]},t)}var C=$4(c,"right")||"mord";return pe.makeSpan([C],[c,pe.makeSpan(["msupsub"],[b])],t)},mathmlBuilder(e,t){var n,r=!1;e.base&&e.base.type==="horizBrace"&&!!e.sup===e.base.isOver&&(r=!0,n=e.base.isOver),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var i,o=[hn(e.base,t)];if(e.sub&&o.push(hn(e.sub,t)),e.sup&&o.push(hn(e.sup,t)),r)i=n?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;i=a&&a.type==="op"&&a.limits&&t.style===pt.DISPLAY||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(t.style===pt.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=e.base;i=s&&s.type==="op"&&s.limits&&(t.style===pt.DISPLAY||s.alwaysHandleSupSub)||s&&s.type==="operatorname"&&s.alwaysHandleSupSub&&(s.limits||t.style===pt.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&l.type==="op"&&l.limits&&(t.style===pt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===pt.DISPLAY)?"mover":"msup"}return new Me.MathNode(i,o)}}),tc({type:"atom",htmlBuilder:(e,t)=>pe.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new Me.MathNode("mo",[uo(e.text,e.mode)]);if(e.family==="bin"){var r=W4(e,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var PT={mi:"italic",mn:"normal",mtext:"normal"};tc({type:"mathord",htmlBuilder:(e,t)=>pe.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new Me.MathNode("mi",[uo(e.text,e.mode,t)]),r=W4(e,t)||"italic";return r!==PT[n.type]&&n.setAttribute("mathvariant",r),n}}),tc({type:"textord",htmlBuilder:(e,t)=>pe.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,r=uo(e.text,e.mode,t),i=W4(e,t)||"normal";return n=e.mode==="text"?new Me.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new Me.MathNode("mn",[r]):e.text==="\\prime"?new Me.MathNode("mo",[r]):new Me.MathNode("mi",[r]),i!==PT[n.type]&&n.setAttribute("mathvariant",i),n}});var u2={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},h2={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};tc({type:"spacing",htmlBuilder(e,t){if(h2.hasOwnProperty(e.text)){var n=h2[e.text].className||"";if(e.mode==="text"){var r=pe.makeOrd(e,t,"textord");return r.classes.push(n),r}return pe.makeSpan(["mspace",n],[pe.mathsym(e.text,e.mode,t)],t)}if(u2.hasOwnProperty(e.text))return pe.makeSpan(["mspace",u2[e.text]],[],t);throw new De('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!h2.hasOwnProperty(e.text)){if(u2.hasOwnProperty(e.text))return new Me.MathNode("mspace");throw new De('Unknown type of space "'+e.text+'"')}return new Me.MathNode("mtext",[new Me.TextNode(" ")])}});var NT=()=>{var e=new Me.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};tc({type:"tag",mathmlBuilder(e,t){var n=new Me.MathNode("mtable",[new Me.MathNode("mtr",[NT(),new Me.MathNode("mtd",[qs(e.body,t)]),NT(),new Me.MathNode("mtd",[qs(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var BT={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},zT={"\\textbf":"textbf","\\textmd":"textmd"},ZG={"\\textit":"textit","\\textup":"textup"},FT=(e,t)=>{var n=e.font;return n?BT[n]?t.withTextFontFamily(BT[n]):zT[n]?t.withTextFontWeight(zT[n]):t.withTextFontShape(ZG[n]):t};qe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,i=t[0];return{type:"text",mode:n.mode,body:Gn(i),font:r}},htmlBuilder(e,t){var n=FT(e,t),r=lr(e.body,n,!0);return pe.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=FT(e,t);return qs(e.body,n)}}),qe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Gt(e.body,t),r=pe.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,o=pe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return pe.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new Me.MathNode("mo",[new Me.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new Me.MathNode("munder",[hn(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),qe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=Gt(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return pe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new Me.MathNode("mpadded",[hn(e.body,t)],["vcenter"])}),qe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new De("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=UT(e),r=[],i=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var a=n[o];a==="~"&&(a="\\textasciitilde"),r.push(pe.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return pe.makeSpan(["mord","text"].concat(i.sizingClasses(t)),pe.tryCombineChars(r),i)},mathmlBuilder(e,t){var n=new Me.TextNode(UT(e)),r=new Me.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var UT=e=>e.body.replace(/ /g,e.star?"␣":" "),nc=GC,jT=`[ \r
	]`,eW="(\\\\[a-zA-Z@]+)"+jT+"*",d2="[̀-ͯ]",tW=new RegExp(d2+"+$"),nW="("+jT+`+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]-‧‪-퟿豈-￿]`+d2+"*|[\uD800-\uDBFF][\uDC00-\uDFFF]"+d2+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+eW+"|\\\\[^\uD800-\uDFFF])";class VT{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(nW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new lo("EOF",new Ui(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new De("Unexpected character: '"+t[n]+"'",new lo(t[n],new Ui(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new lo(i,new Ui(this,n,this.tokenRegex.lastIndex))}}class rW{constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new De("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var iW=vT;$("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),$("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),$("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),$("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),$("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),$("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),$("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var qT={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};$("\\char",function(e){var t,n=e.popToken(),r="";if(n.text==="'")t=8,n=e.popToken();else if(n.text==='"')t=16,n=e.popToken();else if(n.text==="`")if((n=e.popToken()).text[0]==="\\")r=n.text.charCodeAt(1);else{if(n.text==="EOF")throw new De("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if((r=qT[n.text])==null||r>=t)throw new De("Invalid base-"+t+" digit "+n.text);for(var i;(i=qT[e.future().text])!=null&&i<t;)r*=t,r+=i,e.popToken()}return"\\@char{"+r+"}"});var p2=(e,t,n)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new De("\\newcommand's first argument must be a macro name");var i=r[0].text,o=e.isDefined(i);if(o&&!t)throw new De("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!n)throw new De("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var a=0;if((r=e.consumeArg().tokens).length===1&&r[0].text==="["){for(var s="",l=e.expandNextToken();l.text!=="]"&&l.text!=="EOF";)s+=l.text,l=e.expandNextToken();if(!s.match(/^\s*[0-9]+\s*$/))throw new De("Invalid number of arguments: "+s);a=parseInt(s),r=e.consumeArg().tokens}return e.macros.set(i,{tokens:r,numArgs:a}),""};$("\\newcommand",e=>p2(e,!1,!0)),$("\\renewcommand",e=>p2(e,!0,!1)),$("\\providecommand",e=>p2(e,!0,!0)),$("\\message",e=>(e.consumeArgs(1)[0],"")),$("\\errmessage",e=>(e.consumeArgs(1)[0],"")),$("\\show",e=>(e.popToken().text,"")),$("\\bgroup","{"),$("\\egroup","}"),$("~","\\nobreakspace"),$("\\lq","`"),$("\\rq","'"),$("\\aa","\\r a"),$("\\AA","\\r A"),$("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),$("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),$("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),$("ℬ","\\mathscr{B}"),$("ℰ","\\mathscr{E}"),$("ℱ","\\mathscr{F}"),$("ℋ","\\mathscr{H}"),$("ℐ","\\mathscr{I}"),$("ℒ","\\mathscr{L}"),$("ℳ","\\mathscr{M}"),$("ℛ","\\mathscr{R}"),$("ℭ","\\mathfrak{C}"),$("ℌ","\\mathfrak{H}"),$("ℨ","\\mathfrak{Z}"),$("\\Bbbk","\\Bbb{k}"),$("·","\\cdotp"),$("\\llap","\\mathllap{\\textrm{#1}}"),$("\\rlap","\\mathrlap{\\textrm{#1}}"),$("\\clap","\\mathclap{\\textrm{#1}}"),$("\\mathstrut","\\vphantom{(}"),$("\\underbar","\\underline{\\text{#1}}"),$("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),$("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),$("\\ne","\\neq"),$("≠","\\neq"),$("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),$("∉","\\notin"),$("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),$("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),$("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),$("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),$("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),$("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),$("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),$("⟂","\\perp"),$("‼","\\mathclose{!\\mkern-0.8mu!}"),$("∌","\\notni"),$("⌜","\\ulcorner"),$("⌝","\\urcorner"),$("⌞","\\llcorner"),$("⌟","\\lrcorner"),$("©","\\copyright"),$("®","\\textregistered"),$("️","\\textregistered"),$("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),$("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),$("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),$("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),$("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),$("⋮","\\vdots"),$("\\varGamma","\\mathit{\\Gamma}"),$("\\varDelta","\\mathit{\\Delta}"),$("\\varTheta","\\mathit{\\Theta}"),$("\\varLambda","\\mathit{\\Lambda}"),$("\\varXi","\\mathit{\\Xi}"),$("\\varPi","\\mathit{\\Pi}"),$("\\varSigma","\\mathit{\\Sigma}"),$("\\varUpsilon","\\mathit{\\Upsilon}"),$("\\varPhi","\\mathit{\\Phi}"),$("\\varPsi","\\mathit{\\Psi}"),$("\\varOmega","\\mathit{\\Omega}"),$("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),$("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),$("\\boxed","\\fbox{$\\displaystyle{#1}$}"),$("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),$("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),$("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var HT={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};$("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in HT?t=HT[n]:(n.slice(0,4)==="\\not"||n in An.math&&lt.contains(["bin","rel"],An.math[n].group))&&(t="\\dotsb"),t});var f2={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};$("\\dotso",function(e){return e.future().text in f2?"\\ldots\\,":"\\ldots"}),$("\\dotsc",function(e){var t=e.future().text;return t in f2&&t!==","?"\\ldots\\,":"\\ldots"}),$("\\cdots",function(e){return e.future().text in f2?"\\@cdots\\,":"\\@cdots"}),$("\\dotsb","\\cdots"),$("\\dotsm","\\cdots"),$("\\dotsi","\\!\\cdots"),$("\\dotsx","\\ldots\\,"),$("\\DOTSI","\\relax"),$("\\DOTSB","\\relax"),$("\\DOTSX","\\relax"),$("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),$("\\,","\\tmspace+{3mu}{.1667em}"),$("\\thinspace","\\,"),$("\\>","\\mskip{4mu}"),$("\\:","\\tmspace+{4mu}{.2222em}"),$("\\medspace","\\:"),$("\\;","\\tmspace+{5mu}{.2777em}"),$("\\thickspace","\\;"),$("\\!","\\tmspace-{3mu}{.1667em}"),$("\\negthinspace","\\!"),$("\\negmedspace","\\tmspace-{4mu}{.2222em}"),$("\\negthickspace","\\tmspace-{5mu}{.277em}"),$("\\enspace","\\kern.5em "),$("\\enskip","\\hskip.5em\\relax"),$("\\quad","\\hskip1em\\relax"),$("\\qquad","\\hskip2em\\relax"),$("\\tag","\\@ifstar\\tag@literal\\tag@paren"),$("\\tag@paren","\\tag@literal{({#1})}"),$("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new De("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),$("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),$("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),$("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),$("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),$("\\newline","\\\\\\relax"),$("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var $T=ze(ja["Main-Regular"][84][1]-.7*ja["Main-Regular"][65][1]);$("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+$T+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),$("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+$T+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),$("\\hspace","\\@ifstar\\@hspacer\\@hspace"),$("\\@hspace","\\hskip #1\\relax"),$("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),$("\\ordinarycolon",":"),$("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),$("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),$("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),$("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),$("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),$("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),$("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),$("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),$("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),$("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),$("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),$("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),$("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),$("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),$("∷","\\dblcolon"),$("∹","\\eqcolon"),$("≔","\\coloneqq"),$("≕","\\eqqcolon"),$("⩴","\\Coloneqq"),$("\\ratio","\\vcentcolon"),$("\\coloncolon","\\dblcolon"),$("\\colonequals","\\coloneqq"),$("\\coloncolonequals","\\Coloneqq"),$("\\equalscolon","\\eqqcolon"),$("\\equalscoloncolon","\\Eqqcolon"),$("\\colonminus","\\coloneq"),$("\\coloncolonminus","\\Coloneq"),$("\\minuscolon","\\eqcolon"),$("\\minuscoloncolon","\\Eqcolon"),$("\\coloncolonapprox","\\Colonapprox"),$("\\coloncolonsim","\\Colonsim"),$("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),$("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),$("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),$("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),$("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),$("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),$("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),$("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),$("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),$("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),$("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),$("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),$("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),$("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),$("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),$("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),$("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),$("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),$("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),$("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),$("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),$("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),$("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),$("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),$("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),$("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),$("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),$("\\imath","\\html@mathml{\\@imath}{ı}"),$("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),$("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),$("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),$("⟦","\\llbracket"),$("⟧","\\rrbracket"),$("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),$("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),$("⦃","\\lBrace"),$("⦄","\\rBrace"),$("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),$("⦵","\\minuso"),$("\\darr","\\downarrow"),$("\\dArr","\\Downarrow"),$("\\Darr","\\Downarrow"),$("\\lang","\\langle"),$("\\rang","\\rangle"),$("\\uarr","\\uparrow"),$("\\uArr","\\Uparrow"),$("\\Uarr","\\Uparrow"),$("\\N","\\mathbb{N}"),$("\\R","\\mathbb{R}"),$("\\Z","\\mathbb{Z}"),$("\\alef","\\aleph"),$("\\alefsym","\\aleph"),$("\\Alpha","\\mathrm{A}"),$("\\Beta","\\mathrm{B}"),$("\\bull","\\bullet"),$("\\Chi","\\mathrm{X}"),$("\\clubs","\\clubsuit"),$("\\cnums","\\mathbb{C}"),$("\\Complex","\\mathbb{C}"),$("\\Dagger","\\ddagger"),$("\\diamonds","\\diamondsuit"),$("\\empty","\\emptyset"),$("\\Epsilon","\\mathrm{E}"),$("\\Eta","\\mathrm{H}"),$("\\exist","\\exists"),$("\\harr","\\leftrightarrow"),$("\\hArr","\\Leftrightarrow"),$("\\Harr","\\Leftrightarrow"),$("\\hearts","\\heartsuit"),$("\\image","\\Im"),$("\\infin","\\infty"),$("\\Iota","\\mathrm{I}"),$("\\isin","\\in"),$("\\Kappa","\\mathrm{K}"),$("\\larr","\\leftarrow"),$("\\lArr","\\Leftarrow"),$("\\Larr","\\Leftarrow"),$("\\lrarr","\\leftrightarrow"),$("\\lrArr","\\Leftrightarrow"),$("\\Lrarr","\\Leftrightarrow"),$("\\Mu","\\mathrm{M}"),$("\\natnums","\\mathbb{N}"),$("\\Nu","\\mathrm{N}"),$("\\Omicron","\\mathrm{O}"),$("\\plusmn","\\pm"),$("\\rarr","\\rightarrow"),$("\\rArr","\\Rightarrow"),$("\\Rarr","\\Rightarrow"),$("\\real","\\Re"),$("\\reals","\\mathbb{R}"),$("\\Reals","\\mathbb{R}"),$("\\Rho","\\mathrm{P}"),$("\\sdot","\\cdot"),$("\\sect","\\S"),$("\\spades","\\spadesuit"),$("\\sub","\\subset"),$("\\sube","\\subseteq"),$("\\supe","\\supseteq"),$("\\Tau","\\mathrm{T}"),$("\\thetasym","\\vartheta"),$("\\weierp","\\wp"),$("\\Zeta","\\mathrm{Z}"),$("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),$("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),$("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),$("\\bra","\\mathinner{\\langle{#1}|}"),$("\\ket","\\mathinner{|{#1}\\rangle}"),$("\\braket","\\mathinner{\\langle{#1}\\rangle}"),$("\\Bra","\\left\\langle#1\\right|"),$("\\Ket","\\left|#1\\right\\rangle");var GT=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,a=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=h=>d=>{e&&(d.macros.set("|",a),i.length&&d.macros.set("\\|",s));var p=h;return!h&&i.length&&d.future().text==="|"&&(d.popToken(),p=!0),{tokens:p?i:r,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...o,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};$("\\bra@ket",GT(!1)),$("\\bra@set",GT(!0)),$("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),$("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),$("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),$("\\angln","{\\angl n}"),$("\\blue","\\textcolor{##6495ed}{#1}"),$("\\orange","\\textcolor{##ffa500}{#1}"),$("\\pink","\\textcolor{##ff00af}{#1}"),$("\\red","\\textcolor{##df0030}{#1}"),$("\\green","\\textcolor{##28ae7b}{#1}"),$("\\gray","\\textcolor{gray}{#1}"),$("\\purple","\\textcolor{##9d38bd}{#1}"),$("\\blueA","\\textcolor{##ccfaff}{#1}"),$("\\blueB","\\textcolor{##80f6ff}{#1}"),$("\\blueC","\\textcolor{##63d9ea}{#1}"),$("\\blueD","\\textcolor{##11accd}{#1}"),$("\\blueE","\\textcolor{##0c7f99}{#1}"),$("\\tealA","\\textcolor{##94fff5}{#1}"),$("\\tealB","\\textcolor{##26edd5}{#1}"),$("\\tealC","\\textcolor{##01d1c1}{#1}"),$("\\tealD","\\textcolor{##01a995}{#1}"),$("\\tealE","\\textcolor{##208170}{#1}"),$("\\greenA","\\textcolor{##b6ffb0}{#1}"),$("\\greenB","\\textcolor{##8af281}{#1}"),$("\\greenC","\\textcolor{##74cf70}{#1}"),$("\\greenD","\\textcolor{##1fab54}{#1}"),$("\\greenE","\\textcolor{##0d923f}{#1}"),$("\\goldA","\\textcolor{##ffd0a9}{#1}"),$("\\goldB","\\textcolor{##ffbb71}{#1}"),$("\\goldC","\\textcolor{##ff9c39}{#1}"),$("\\goldD","\\textcolor{##e07d10}{#1}"),$("\\goldE","\\textcolor{##a75a05}{#1}"),$("\\redA","\\textcolor{##fca9a9}{#1}"),$("\\redB","\\textcolor{##ff8482}{#1}"),$("\\redC","\\textcolor{##f9685d}{#1}"),$("\\redD","\\textcolor{##e84d39}{#1}"),$("\\redE","\\textcolor{##bc2612}{#1}"),$("\\maroonA","\\textcolor{##ffbde0}{#1}"),$("\\maroonB","\\textcolor{##ff92c6}{#1}"),$("\\maroonC","\\textcolor{##ed5fa6}{#1}"),$("\\maroonD","\\textcolor{##ca337c}{#1}"),$("\\maroonE","\\textcolor{##9e034e}{#1}"),$("\\purpleA","\\textcolor{##ddd7ff}{#1}"),$("\\purpleB","\\textcolor{##c6b9fc}{#1}"),$("\\purpleC","\\textcolor{##aa87ff}{#1}"),$("\\purpleD","\\textcolor{##7854ab}{#1}"),$("\\purpleE","\\textcolor{##543b78}{#1}"),$("\\mintA","\\textcolor{##f5f9e8}{#1}"),$("\\mintB","\\textcolor{##edf2df}{#1}"),$("\\mintC","\\textcolor{##e0e5cc}{#1}"),$("\\grayA","\\textcolor{##f6f7f7}{#1}"),$("\\grayB","\\textcolor{##f0f1f2}{#1}"),$("\\grayC","\\textcolor{##e3e5e6}{#1}"),$("\\grayD","\\textcolor{##d6d8da}{#1}"),$("\\grayE","\\textcolor{##babec2}{#1}"),$("\\grayF","\\textcolor{##888d93}{#1}"),$("\\grayG","\\textcolor{##626569}{#1}"),$("\\grayH","\\textcolor{##3b3e40}{#1}"),$("\\grayI","\\textcolor{##21242c}{#1}"),$("\\kaBlue","\\textcolor{##314453}{#1}"),$("\\kaGreen","\\textcolor{##71B307}{#1}");var WT={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class oW{constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new rW(iW,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new VT(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new lo("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i,o=this.future(),a=0,s=0;do{if(i=this.popToken(),n.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a===-1)throw new De("Extra }",i)}else if(i.text==="EOF")throw new De("Unexpected end of input in a macro argument, expected '"+(t&&r?t[s]:"}")+"'",i);if(t&&r)if((a===0||a===1&&t[s]==="{")&&i.text===t[s]){if(++s===t.length){n.splice(-s,s);break}}else s=0}while(a!==0||r);return o.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:o,end:i}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new De("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new De("Use of the macro doesn't match its definition",o)}}for(var a=[],s=0;s<t;s++)a.push(this.consumeArg(n&&n[s+1]).tokens);return a}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new De("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new De("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var o=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs)for(var s=(o=o.slice()).length-1;s>=0;--s){var l=o[s];if(l.text==="#"){if(s===0)throw new De("Incomplete placeholder at end of macro body",l);if((l=o[--s]).text==="#")o.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new De("Not a valid argument number",l);o.splice(s,2,...a[+l.text-1])}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new lo(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(o+1))!==-1;)++o;for(var s=new VT(i,this.settings),l=[],c=s.lex();c.text!=="EOF";)l.push(c),c=s.lex();return l.reverse(),{tokens:l,numArgs:o}}return i}isDefined(t){return this.macros.has(t)||nc.hasOwnProperty(t)||An.math.hasOwnProperty(t)||An.text.hasOwnProperty(t)||WT.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:nc.hasOwnProperty(t)&&!nc[t].primitive}}var KT=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,sg=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),m2={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},QT={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class lg{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new oW(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new De("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new lo("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(lg.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&nc[i.text]&&nc[i.text].infix)break;var o=this.parseAtom(n);if(!o)break;o.type!=="internal"&&r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n,r=-1,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new De("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var o,a,s=t.slice(0,r),l=t.slice(r+1);return o=s.length===1&&s[0].type==="ordgroup"?s[0]:{type:"ordgroup",mode:this.mode,body:s},a=l.length===1&&l[0].type==="ordgroup"?l[0]:{type:"ordgroup",mode:this.mode,body:l},[n==="\\\\abovefrac"?this.callFunction(n,[o,t[r],a],[]):this.callFunction(n,[o,a],[])]}return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new De("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]}}parseAtom(t){var n,r,i=this.parseGroup("atom",t);if(this.mode==="text")return i;for(;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(i&&i.type==="op"){var a=o.text==="\\limits";i.limits=a,i.alwaysHandleSupSub=!0}else{if(!i||i.type!=="operatorname")throw new De("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits=o.text==="\\limits")}this.consume()}else if(o.text==="^"){if(n)throw new De("Double superscript",o);n=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(r)throw new De("Double subscript",o);r=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(n)throw new De("Double superscript",o);var s={type:"textord",mode:this.mode,text:"\\prime"},l=[s];for(this.consume();this.fetch().text==="'";)l.push(s),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else{if(!sg[o.text])break;var c=KT.test(o.text),u=[];for(u.push(new lo(sg[o.text])),this.consume();;){var h=this.fetch().text;if(!sg[h]||KT.test(h)!==c)break;u.unshift(new lo(sg[h])),this.consume()}var d=this.subparse(u);c?r={type:"ordgroup",mode:"math",body:d}:n={type:"ordgroup",mode:"math",body:d}}}return n||r?{type:"supsub",mode:this.mode,base:i,sup:n,sub:r}:i}parseFunction(t,n){var r=this.fetch(),i=r.text,o=nc[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new De("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new De("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new De("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:s}=this.parseArguments(i,o);return this.callFunction(i,a,s,r,t)}callFunction(t,n,r,i,o){var a={funcName:t,parser:this,token:i,breakOnTokenText:o},s=nc[t];if(s&&s.handler)return s.handler(a,n,r);throw new De("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],a=0;a<r;a++){var s=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&s==null||n.type==="sqrt"&&a===1&&o[0]==null)&&(s="primitive");var c=this.parseGroupOfType("argument to '"+t+"'",s,l);if(l)o.push(c);else{if(c==null)throw new De("Null argument, please report this as a bug");i.push(c)}}return{args:i,optArgs:o}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(r)throw new De("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new De("Expected group as "+t,this.fetch());return a;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new De("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i,o="";(i=this.fetch()).text!=="EOF";)o+=i.text,this.consume();return this.consume(),r.text=o,r}parseRegexGroup(t,n){for(var r,i=this.fetch(),o=i,a="";(r=this.fetch()).text!=="EOF"&&t.test(a+r.text);)a+=(o=r).text,this.consume();if(a==="")throw new De("Invalid "+n+": '"+i.text+"'",i);return i.range(o,a)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new De("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!(n=t||this.gullet.future().text==="{"?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new De("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!MC(o))throw new De("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),a}parseGroup(t,n){var r,i=this.fetch(),o=i.text;if(o==="{"||o==="\\begingroup"){this.consume();var a=o==="{"?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:Ui.range(i,l),body:s,semisimple:o==="\\begingroup"||void 0}}else if((r=this.parseFunction(n,t)||this.parseSymbol())==null&&o[0]==="\\"&&!WT.hasOwnProperty(o)){if(this.settings.throwOnError)throw new De("Undefined control sequence: "+o,i);r=this.formatUnsupportedCmd(o),this.consume()}return r}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],o=i.text;o==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:Ui.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:Ui.range(i,t[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&t[r+1].text===o&&(t.splice(r,2,{type:"textord",mode:"text",loc:Ui.range(i,t[r+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new De(`\\verb assertion failed --
                    please report what input caused this bug`);return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:i}}QT.hasOwnProperty(n[0])&&!An[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=QT[n[0]]+n.slice(1));var o,a=tW.exec(n);if(a&&((n=n.substring(0,a.index))==="i"?n="ı":n==="j"&&(n="ȷ")),An[this.mode][n]){this.settings.strict&&this.mode==="math"&&UC.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var s,l=An[this.mode][n].group,c=Ui.range(t);if(_G.hasOwnProperty(l)){var u=l;s={type:"atom",mode:this.mode,family:u,loc:c,text:n}}else s={type:l,mode:this.mode,loc:c,text:n};o=s}else{if(!(n.charCodeAt(0)>=128))return null;this.settings.strict&&(SC(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'" ('+n.charCodeAt(0)+")",t)),o={type:"textord",mode:"text",loc:Ui.range(t),text:n}}if(this.consume(),a)for(var h=0;h<a[0].length;h++){var d=a[0][h];if(!m2[d])throw new De("Unknown accent ' "+d+"'",t);var p=m2[d][this.mode]||m2[d].text;if(!p)throw new De("Accent "+d+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:Ui.range(t),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}}lg.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var aW=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new lg(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new De("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new lo("\\df@tag")])}]}return r};typeof document<"u"&&document.compatMode;var sW=function(e,t,n){if(n.throwOnError||!(e instanceof De))throw e;var r=pe.makeSpan(["katex-error"],[new Ao(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},lW=function(e,t){var n=new uG(t);try{return function(r,i,o){var a,s=LG(o);if(o.output==="mathml")return XC(r,i,s,o.displayMode,!0);if(o.output==="html"){var l=QC(r,s);a=pe.makeSpan(["katex"],[l])}else{var c=XC(r,i,s,o.displayMode,!1),u=QC(r,s);a=pe.makeSpan(["katex"],[c,u])}return DG(a,o)}(aW(e,n),e,n)}catch(r){return sW(r,e,n)}},YT=function(e,t){return lW(e,t).toMarkup()};const cW={};function uW(e){const t=e||cW,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(a){return{flow:{36:nG},text:{36:rG(a)}}}(t)),i.push(function(){return{enter:{mathFlow:function(s){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},s)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(s){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},s),this.buffer()}},exit:{mathFlow:function(s){const l=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(s),c.value=l;const u=c.data.hChildren[0];u.type,u.tagName,u.children.push({type:"text",value:l}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){const s=this.resume(),l=this.stack[this.stack.length-1];l.type,l.meta=s},mathFlowValue:a,mathText:function(s){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(s),c.value=l,c.data.hChildren.push({type:"text",value:l})},mathTextData:a}};function a(s){this.config.enter.data.call(this,s),this.config.exit.data.call(this,s)}}()),o.push(function(a){let s=(a||{}).singleDollarTextMath;return s==null&&(s=!0),l.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:s?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(c,u,h,d){const p=c.value||"",f=h.createTracker(d),m="$".repeat(Math.max(JA(p,"$")+1,2)),b=h.enter("mathFlow");let v=f.move(m);if(c.meta){const _=h.enter("mathFlowMeta");v+=f.move(h.safe(c.meta,{after:`
`,before:v,encode:["$"],...f.current()})),_()}return v+=f.move(`
`),p&&(v+=f.move(p+`
`)),v+=f.move(m),b(),v},inlineMath:l}};function l(c,u,h){let d=c.value||"",p=1;for(s||p++;new RegExp("(^|[^$])"+"\\$".repeat(p)+"([^$]|$)").test(d);)p++;const f="$".repeat(p);/[^ \r\n]/.test(d)&&(/^[ \r\n]/.test(d)&&/[ \r\n]$/.test(d)||/^\$|\$$/.test(d))&&(d=" "+d+" ");let m=-1;for(;++m<h.unsafe.length;){const b=h.unsafe[m];if(!b.atBreak)continue;const v=h.compilePattern(b);let _;for(;_=v.exec(d);){let w=_.index;d.codePointAt(w)===10&&d.codePointAt(w-1)===13&&w--,d=d.slice(0,w)+" "+d.slice(_.index+1)}}return f+d+f}}(t))}const XT=/[#.]/g,hW=new Set(["button","menu","reset","submit"]),g2={}.hasOwnProperty;function JT(e,t,n){const r=n&&function(i){const o={};let a=-1;for(;++a<i.length;)o[i[a].toLowerCase()]=i[a];return o}(n);return function(i,o,...a){let s,l=-1;if(i==null){s={type:"root",children:[]};const c=o;a.unshift(c)}else if(s=function(c,u){const h=c||"",d={};let p,f,m=0;for(;m<h.length;){XT.lastIndex=m;const b=XT.exec(h),v=h.slice(m,b?b.index:h.length);v&&(p?p==="#"?d.id=v:Array.isArray(d.className)?d.className.push(v):d.className=[v]:f=v,m+=v.length),b&&(p=b[0],m++)}return{type:"element",tagName:f||u||"div",properties:d,children:[]}}(i,t),s.tagName=s.tagName.toLowerCase(),r&&g2.call(r,s.tagName)&&(s.tagName=r[s.tagName]),function(c,u){return c!=null&&typeof c=="object"&&!Array.isArray(c)&&(u==="input"||!c.type||typeof c.type!="string"||(!("children"in c)||!Array.isArray(c.children))&&(u==="button"?hW.has(c.type.toLowerCase()):!("value"in c)))}(o,s.tagName)){let c;for(c in o)g2.call(o,c)&&dW(e,s.properties,c,o[c])}else a.unshift(o);for(;++l<a.length;)v2(s.children,a[l]);return s.type==="element"&&s.tagName==="template"&&(s.content={type:"root",children:s.children},s.children=[]),s}}function dW(e,t,n,r){const i=CE(e,n);let o,a=-1;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else o=typeof r=="boolean"?r:typeof r=="string"?i.spaceSeparated?ME(r):i.commaSeparated?fE(r):i.commaOrSpaceSeparated?ME(fE(r).join(" ")):ZT(i,i.property,r):Array.isArray(r)?r.concat():i.property==="style"?function(s){const l=[];let c;for(c in s)g2.call(s,c)&&l.push([c,s[c]].join(": "));return l.join("; ")}(r):String(r);if(Array.isArray(o)){const s=[];for(;++a<o.length;){const l=ZT(i,i.property,o[a]);s[a]=l}o=s}if(i.property==="className"&&Array.isArray(t.className)){const s=o;o=t.className.concat(s)}t[i.property]=o}}function v2(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)v2(e,t[n]);else{if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");t.type==="root"?v2(e,t.children):e.push(t)}}function ZT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||Yd(n)===Yd(t)))return!0}return n}const pW=JT(TE,"div"),fW=JT(Am,"g",["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"]),y2={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eM(e,t){const n=function(r,i){switch(r.nodeType){case 1:return function(o,a){const s=o.namespaceURI,l=s===y2.svg?fW:pW,c=s===y2.html?o.tagName.toLowerCase():o.tagName,u=s===y2.html&&c==="template"?o.content:o,h=o.getAttributeNames(),d={};let p=-1;for(;++p<h.length;)d[h[p]]=o.getAttribute(h[p])||"";return l(c,d,tM(u,a))}(r,i);case 3:return function(o){return{type:"text",value:o.nodeValue||""}}(r);case 8:return function(o){return{type:"comment",value:o.nodeValue||""}}(r);case 9:case 11:return mW(r,i);case 10:return{type:"doctype"};default:return}}(e,t);return n&&t.afterTransform&&t.afterTransform(e,n),n}function mW(e,t){return{type:"root",children:tM(e,t)}}function tM(e,t){const n=e.childNodes,r=[];let i=-1;for(;++i<n.length;){const o=eM(n[i],t);o!==void 0&&r.push(o)}return r}function gW(e,t){const n=function(r){const i=document.createElement("template");return i.innerHTML=r,i.content}(e);return function(r,i){return eM(r,{})||{type:"root",children:[]}}(n)}new DOMParser;const nM=function(e,t,n){const r=rp(n);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if((t=e.children.indexOf(t))<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(r(e.children[t],t,e))return e.children[t]},rc=function(e){if(e==null)return vW;if(typeof e=="string")return function(t){return b2(n);function n(r){return r.tagName===t}}(e);if(typeof e=="object")return function(t){const n=[];let r=-1;for(;++r<t.length;)n[r]=rc(t[r]);return b2(i);function i(...o){let a=-1;for(;++a<n.length;)if(n[a].apply(this,o))return!0;return!1}}(e);if(typeof e=="function")return b2(e);throw new Error("Expected function, string, or array as `test`")};function b2(e){return function(t,n,r){return!(!function(i){return i!==null&&typeof i=="object"&&"type"in i&&"tagName"in i}(t)||!e.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function vW(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}const rM=/\n/g,iM=/[\t ]+/g,w2=rc("br"),oM=rc(function(e){return e.tagName==="td"||e.tagName==="th"}),yW=rc("p"),aM=rc("tr"),bW=rc(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(e){return!!(e.properties||{}).hidden},function(e){return e.tagName==="dialog"&&!(e.properties||{}).open}]),sM=rc(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function lM(e,t,n){return e.type==="element"?function(r,i,o){const a=uM(r,o),s=r.children||[];let l,c,u=-1,h=[];if(bW(r))return h;for(w2(r)||aM(r)&&nM(i,r,aM)?c=`
`:yW(r)?(l=2,c=2):sM(r)&&(l=1,c=1);++u<s.length;)h=h.concat(lM(s[u],r,{whitespace:a,breakBefore:u?void 0:l,breakAfter:u<s.length-1?w2(s[u+1]):c}));return oM(r)&&nM(i,r,oM)&&h.push("	"),l&&h.unshift(l),c&&h.push(c),h}(e,t,n):e.type==="text"?n.whitespace==="normal"?cM(e,n):function(r){return[String(r.value)]}(e):[]}function cM(e,t){const n=String(e.value),r=[],i=[];let o=0;for(;o<=n.length;){rM.lastIndex=o;const l=rM.exec(n),c=l&&"index"in l?l.index:n.length;r.push(wW(n.slice(o,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o!==0||t.breakBefore,c!==n.length||t.breakAfter)),o=c+1}let a,s=-1;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),a=void 0):r[s]?(typeof a=="number"&&i.push(a),i.push(r[s]),a=0):(s===0||s===r.length-1)&&i.push(0);return i}function wW(e,t,n){const r=[];let i,o=0;for(;o<e.length;){iM.lastIndex=o;const a=iM.exec(e);i=a?a.index:e.length,!o&&!i&&a&&!t&&r.push(""),o!==i&&r.push(e.slice(o,i)),o=a?i+a[0].length:i}return o!==i&&!n&&r.push(""),r.join(" ")}function uM(e,t){if(e.type==="element"){const n=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}const _W={},xW=[];function kW(e){const t=e||_W;return function(n,r){p4(n,"element",function(i,o){const a=Array.isArray(i.properties.className)?i.properties.className:xW,s=a.includes("language-math"),l=a.includes("math-display"),c=a.includes("math-inline");let u=l;if(!s&&!l&&!c)return;let h=o[o.length-1],d=i;if(i.tagName==="code"&&s&&h&&h.type==="element"&&h.tagName==="pre"&&(d=h,h=o[o.length-2],u=!0),!h)return;const p=function(b,v){const _=v||{},w="children"in b?b.children:[],x=sM(b),E=uM(b,{whitespace:_.whitespace||"normal",breakBefore:!1,breakAfter:!1}),M=[];(b.type==="text"||b.type==="comment")&&M.push(...cM(b,{whitespace:E,breakBefore:!0,breakAfter:!0}));let T=-1;for(;++T<w.length;)M.push(...lM(w[T],b,{whitespace:E,breakBefore:T?void 0:x,breakAfter:T<w.length-1?w2(w[T+1]):x}));const S=[];let C;for(T=-1;++T<M.length;){const P=M[T];typeof P=="number"?C!==void 0&&P>C&&(C=P):P&&(C!==void 0&&C>-1&&S.push(`
`.repeat(C)||" "),C=-1,S.push(P))}return S.join("")}(d,{whitespace:"pre"});let f;try{f=YT(p,{...t,displayMode:u,throwOnError:!0})}catch(b){const v=b,_=v.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...o,i],cause:v,place:i.position,ruleId:_,source:"rehype-katex"}),f=_==="parseerror"?YT(p,{...t,displayMode:u,strict:"ignore",throwOnError:!1}):[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(b)},children:[{type:"text",value:p}]}]}typeof f=="string"&&(f=gW(f).children);const m=h.children.indexOf(d);return h.children.splice(m,1,...f),SA})}}const hM=()=>{const e=Se(l=>l.chatBox.chatBoxWidth),t=parseInt(`${e}`),n=Se(l=>l.chatBox.chatBoxHeight),r=parseInt(`${n}`);let i=1,o=1,a=300;t>750&&(i=.4,a=t*i);let s=200;return r>500&&(o=.4,s=r*o),[`${a}px`,`${s}px`]},SW=({embedVideoUrl:e})=>{const[t,n]=hM(),r=parseInt(t),i=parseInt(n),o=16/9,a=r/o;let s=r,l=a;a>i&&(l=i,s=l*o);const c=`${l}px`,u=`${s}px`;return G("span",{style:{display:"block",position:"relative",paddingBottom:c,width:"100%",height:0,maxWidth:u,maxHeight:c},children:G("iframe",{style:{border:"none",position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:u,maxHeight:c},src:e,allowFullScreen:!0})})},EW=BA().use(fA).use(function(e){const t=this;t.compiler=function(n){return k$(n,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}).freeze();function AW(e){Nm(e,"text",(t,n,r)=>{t.value&&r&&function(i){if(i==="paragraph"||i==="heading"||i==="emphasis"||i==="strong"||i==="link")return!0}(r.type)&&(t.value=t.value.replace(/\$/g,"UNIQUEPLACEHOLDERDOLLAR"))})}const Zn=e=>typeof e=="string"?function(t){return t.replace(/UNIQUEPLACEHOLDERDOLLAR/g,"$")}(e):Array.isArray(e)?e.map(t=>Zn(t)):e,CW=ht(e=>{const{className:t,...n}=e;return G("livex-a",{...n,class:t,target:"_blank",rel:"noopener noreferrer",children:e.children})},{target:"e6c9fzl1"})("cursor:pointer;word-break:break-all;transition:color 0.3s ease;text-decoration:underline;color:",Kd.primary_color,";&:hover{color:",L0(.2,Kd.primary_color),";}"),dM=e=>{const t=Se(i=>i.chatBox.showPopupImageSrc)===e.src,n=In(),r=()=>{n(BS(""))};return Fe(wl,{children:[G(TW,{children:G("img",{...e,onClick:()=>{n(BS(e.src))}})}),t&&Fe(MW,{children:[G(IW,{children:Fe(OW,{children:[G(ra,{style:{position:"absolute",right:"4px",top:"-34px"},onClick:r,children:G(km,{})}),G("img",{...e,width:"100%",height:"100%",onClick:r})]})}),G(RW,{onClick:r})]})]})},TW=ht("div",{target:"ed9b5b34"})(()=>{const[e,t]=hM();return{width:"100%",position:"relative",display:"inline-block",zIndex:20,"> img":{outline:"2px solid transparent",borderRadius:6,width:"100%",maxWidth:e,maxHeight:t,objectFit:"contain","&:hover":{cursor:"pointer",outlineColor:Kd.primary_color}}}},""),MW=ht("div",{target:"ed9b5b33"})(()=>({zIndex:30,position:"fixed",top:0,left:0,width:"100%",height:"100%"}),""),RW=ht("div",{target:"ed9b5b32"})(()=>({position:"fixed",top:0,left:0,right:0,bottom:0,background:"black",opacity:.5,zIndex:1}),""),IW=ht("div",{target:"ed9b5b31"})(()=>({zIndex:2,position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),""),OW=ht("div",{target:"ed9b5b30"})(()=>({"> img":{boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px"}}),""),LW={a:({node:e,...t})=>{const{href:n,...r}=t;if(t.href.toLowerCase().endsWith(".pdf")||t.href.toLowerCase().match(/\.pdf#page=(\d+)$/)||t.href.toLowerCase().match(/doc_type=pdf/))return G("a",{...t,target:"_blank",rel:"noopener noreferrer",children:Zn(t.children)});const i=(o=>{try{const a=new URL(o),s=a.hostname,l=a.pathname;if(s==="youtube.com"||s==="www.youtube.com"||s==="www.youtube-nocookie.com"){if(l.startsWith("/embed/"))return o;if(l==="/watch"){const c=a.searchParams.get("v");return c?`https://${s}/embed/${c}`:null}}else if(l.endsWith(".mp4"))return o}catch{return null}return null})(n);return i?G(SW,{embedVideoUrl:i}):G(CW,{...r,target:"_blank",rel:"noopener noreferrer",onClick:()=>{_9(n),window.open(n,"_blank")},children:Zn(t.children)})},text:({node:e,...t})=>G("span",{...t,children:Zn(t.children)}),p:({node:e,...t})=>G("p",{...t,children:Zn(t.children)}),ol:({node:e,...t})=>G("ol",{...t,children:Zn(t.children)}),li:({node:e,...t})=>G("li",{...t,children:Zn(t.children)}),ul:({node:e,...t})=>G("ul",{...t,children:Zn(t.children)}),span:({node:e,...t})=>G("span",{...t,children:Zn(t.children)}),th:({node:e,...t})=>G("th",{...t,children:Zn(t.children)}),td:({node:e,...t})=>G("td",{...t,children:Zn(t.children)}),h1:({node:e,...t})=>G("h1",{...t,children:Zn(t.children)}),h2:({node:e,...t})=>G("h2",{...t,children:Zn(t.children)}),h3:({node:e,...t})=>G("h3",{...t,children:Zn(t.children)}),h4:({node:e,...t})=>G("h4",{...t,children:Zn(t.children)}),h5:({node:e,...t})=>G("h5",{...t,children:Zn(t.children)}),h6:({node:e,...t})=>G("h6",{...t,children:Zn(t.children)}),del:({node:e,...t})=>G("del",{...t,children:Zn(t.children)}),em:({node:e,...t})=>G("em",{...t,children:Zn(t.children)}),strong:({node:e,...t})=>G("strong",{...t,children:Zn(t.children)}),img:({node:e,...t})=>{var n;const[,r]=((n=t.title)==null?void 0:n.match(/size:(\d+x\d+)/))||[];if(r){const[i,o]=r.split("x");return G(dM,{...t,width:i,height:o})}return G(dM,{...t})}},_2=({text:e})=>{const t=function(r){return EW().use(()=>AW).processSync(r).toString()}(e),n=$b(t);return G(DH,{components:LW,remarkPlugins:[tG,uW],rehypePlugins:[kW],className:"livex-chatbox-markdown",css:yk({p:{overflowWrap:n?"break-word":"anywhere"}},"",""),children:t})},DW=({message:e,background:t})=>{const n=(i=>{const o=So(),a=i||o.primary_color;return ei(a)})(t),{text:r}=e;return G("p",{style:{fontSize:"0.875em",fontWeight:"normal",color:n},children:r})},PW=({message:e})=>{const{text:t,imageGcsUri:n}=e;return n==null||n.replace("gs://","https://dv.copilot.livex.ai/api/v1/users/static/"),Fe("div",{className:"flex flex-col gap-2",children:[G("div",{children:"Image Uploaded"}),t&&G("div",{children:t})]})},NW=e=>{const{message:t,isBot:n,background:r}=e;let i;const{format:o,imageGcsUri:a}=t;switch(o){case"text":case"form":if(a){i=G(PW,{message:t});break}i=G(DW,{message:t,background:r});break;case"markdown":i=G(_2,{text:t.text??""});break;default:i=null}return G(BW,{style:{justifyContent:n?"flex-start":"flex-end"},children:i})},BW=ht("div",{target:"eycqg4i0"})({name:"1pvhbba",styles:"display:flex;flex-direction:row;align-items:flex-start;border-radius:0.25em;max-width:100%"}),pM=e=>{const[t,n]=re.useState(!1),{button:r,onClick:i}=e,{text:o}=r,a=So().primary_color||"#777",s=t?a:ou(.3,a),l=ei(s);return G(zW,{onMouseOver:()=>n(!0),onMouseOut:()=>n(!1),onClick:()=>{i==null||i(r)},style:{background:s,color:l},className:"shadow-md",children:o})},zW=ht("button",{target:"ev34t7y1"})({name:"1oh6igr",styles:"cursor:pointer;display:flex;margin-left:50px;padding:0.5em 1em;font-size:0.875em;border-radius:0.5em;text-align:end;line-break:normal"}),FW=({message:e,callbacks:t,isLastMessage:n})=>{var r;return ar(e==null?void 0:e.buttons)||!n&&!e.shouldShowCommandButtons?null:G(fM,{children:(r=e==null?void 0:e.buttons)==null?void 0:r.map((i,o)=>G(pM,{button:i,onClick:()=>(a=>{try{t==null||t.onSendMessage(a)}catch{}})(i)},`${e.id}-command-${o}`))})},fM=ht("div",{target:"ev34t7y0"})({name:"1esuu0m",styles:"display:flex;flex-direction:column;gap:0.5em;align-items:flex-end;margin-top:auto"}),hp=e=>{const{className:t}=e,n=e.size||20;return Fe("div",{role:"status",className:t,style:{width:n,height:n,flex:`0 0 ${n}px`},children:[Fe("svg",{"aria-hidden":"true",className:"text-gray-200 animate-spin fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[G("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),G("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),G("span",{className:"sr-only",children:"Loading..."})]})},UW=e=>{const{fields:t,initialValues:n,onClickHandler:r}=e,i=So(),o=In();re.useLayoutEffect(()=>{kt.scrollToLastMessagePair()},[]);const a="h-10 bg-white block w-full rounded-md border-0 p-2 ring-1 ring-inset ring-gray-300 placeholder:text-sm placeholder:text-gray-400 sm:text-sm sm:leading-6",s=Se($S),l=s.status==="loading",c={email:{default:"",hasLabel:!0,render:(_,w)=>G("input",{type:"email",id:_.name,name:_.name,value:w[_.name],placeholder:_.placeholder,required:_.required||!1,className:a,disabled:l,pattern:"[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}$",onInvalid:x=>{x.target.setCustomValidity("Please enter a valid email address")},onChange:x=>{x.target.setCustomValidity(""),b(x)}})},phone:{default:"",hasLabel:!0,render:(_,w)=>G("input",{type:"tel",id:_.name,name:_.name,value:w[_.name],placeholder:_.placeholder,pattern:"^(?:\\+\\d{1,2}\\s?)?(?:\\(\\d{3}\\)|\\d{3})[\\-.\\s]?\\d{3}[\\-.\\s]?\\d{4}$",onInvalid:x=>{x.target.setCustomValidity("Please enter a valid phone number")},onChange:x=>{x.target.setCustomValidity(""),b(x)},required:_.required||!1,className:a,disabled:l})},number:{default:"",hasLabel:!0,render:(_,w)=>G("input",{type:"number",id:_.name,name:_.name,value:w[_.name],onChange:b,placeholder:_.placeholder,className:a,disabled:l})},text:{default:"",hasLabel:!0,render:(_,w)=>G("input",{type:"text",id:_.name,name:_.name,value:w[_.name],onChange:b,required:_.required||!1,className:a,placeholder:_.placeholder,disabled:l})},textarea:{default:"",hasLabel:!0,render:(_,w)=>{var x;return G("input",{type:"textarea",id:_.name,name:_.name,value:w[_.name],onChange:b,placeholder:_.placeholder,className:((x=_.style)==null?void 0:x.this)||a,disabled:l})}},fieldset:{default:null,hasLabel:!1,render:(_,w)=>{var x;return Fe("fieldset",{className:"flex flex-col",children:[_.label&&G("legend",{className:"text-sm leading-6",children:_.label}),_.subtitle&&G("p",{className:"text-sm leading-6",children:_.subtitle}),G("div",{className:"mt-4 flex gap-5 justify-center flex-wrap",children:(x=_.fields)==null?void 0:x.map((E,M)=>{var T,S;return Fe("div",{className:"flex items-center gap-2",children:[E.label&&((T=c[E.type])==null?void 0:T.hasLabel)&&G("label",{htmlFor:E.name,className:"block text-sm leading-6",children:E.label}),G("div",{children:(S=c[E.type])==null?void 0:S.render(E,w)})]},`${E.name}_${M}`)})})]})}},checkbox:{default:!1,hasLabel:!1,render:(_,w)=>{var x,E;const M=!!w[_.name];return G("livex-checkbox-container",{children:Fe("label",{htmlFor:_.name,className:((x=_.style)==null?void 0:x.label)||"",style:{display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},children:[G("livex-checkmark-container",{style:{background:M?i.primary_color:"white"},children:G(eV,{style:{color:"white"}})}),G("input",{type:"checkbox",id:_.name,name:_.name,checked:M,onChange:()=>{m(_.name,!w[_.name])},className:((E=_.style)==null?void 0:E.this)||"",style:{display:"none",accentColor:i.primary_color,color:ei(i.primary_color)},disabled:l}),_.label]})})}},radio:{default:null,hasLabel:!1,render:(_,w)=>{var x,E,M;return Fe("fieldset",{children:[G("legend",{className:((x=_.style)==null?void 0:x.label)||"text-sm leading-6",children:_.label}),_.subtitle&&G("p",{className:((E=_.style)==null?void 0:E.subtitle)||"mt-1 text-sm leading-6 text-gray-600",children:_.subtitle}),G("livex-form-component-radio-buttons-container",{children:(M=_.options)==null?void 0:M.map((T,S)=>{var C;const P=w[_.name]===T.value;return G("livex-radio-button-container",{children:Fe("label",{htmlFor:T.name,className:((C=_.style)==null?void 0:C.optionLabel)||"block text-sm leading-6",style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[G("livex-radio-button-check-marker",{style:{background:P?i.primary_color:"white"}}),G("input",{type:"radio",id:T.name,name:_.name,value:T.value,checked:P,onChange:()=>{m(_.name,T.value)},style:{display:"none"},disabled:l}),T.label]})},S)})})]})}},select:{default:"",hasLabel:!1,render:(_,w)=>{var x;return Fe("div",{className:"flex flex-col gap-2",children:[G("label",{htmlFor:_.name,children:_.label}),Fe("select",{id:_.name,value:w[_.name],name:_.name,onChange:b,className:a,required:_.required||!1,children:[G("option",{value:"",disabled:!0,children:"Select option"}),(x=_.options)==null?void 0:x.map((E,M)=>G("option",{value:E.value,className:"h-4 w-4 text-sm border-gray-300 text-indigo-600 focus:ring-indigo-600 text-white",children:E.label},M))]})]})}},button:{hasLabel:!1,render:(_,w)=>{var x;const E=["submit","send_message"].includes(_.onclick)?"submit":"button";let M=((x=_.style)==null?void 0:x.this)||"rounded-md px-2.5 py-1.5 text-sm shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50";l&&(M+=" opacity-50 cursor-not-allowed");const T=Fe("div",{className:"flex items-center gap-4",children:[_.label,l&&E==="submit"&&G(hp,{className:"w-4 h-4"})]});return G("button",{type:E,value:w[_.name],onClick:E==="submit"&&(()=>d(_))||_.onclick&&(()=>v(_))||void 0,className:M,disabled:l,children:T})}}},u=_=>c[_.type].default!==void 0,[h,d]=re.useState(null),[p,f]=re.useState(t.filter(_=>u(_)).reduce((_,w)=>{var x,E;return w.type==="fieldset"?(E=(x=w.fields)==null?void 0:x.filter(M=>u(M)))==null||E.forEach(M=>{_[M.name]=M.value||c[w.type].default}):_[w.name]=w.value||c[w.type].default,_},{...n})),m=(_,w)=>{f({...p,[_]:w})},b=_=>{m(_.target.name,_.target.value)},v=_=>{r==null||r({...p,[_.name]:_.value},_)};return Fe(jW,{onSubmit:_=>{_.preventDefault(),r==null||r({...p,[h.name]:h.value},h)},theme:i,children:[(_=>{if(_){const w="Something went wrong. Please try again later.";return setTimeout(()=>{o(qj(null))},5e3),G("div",{className:"w-full text-center absolute bottom-9 text-sm text-red-600",children:w})}return null})(s.error),t.map((_,w)=>{var x,E,M,T,S;return Fe("div",{className:((x=_.style)==null?void 0:x.root)||"livex-chatbox-markdown",children:[_.label&&((E=c[_.type])==null?void 0:E.hasLabel)&&G("label",{htmlFor:_.name,className:(M=_.style)==null?void 0:M.label,children:_.label}),((S=(T=c[_.type])==null?void 0:T.render)==null?void 0:S.call(T,_,p))??void 0]},w)})]})},jW=ht("form",{target:"enpef3k0"})("display:flex;flex-direction:column;align-self:stretch;width:100%;gap:0.5em;position:relative;& label{color:",e=>e.theme.label_color,";font-size:0.875em;line-height:1.25em;font-weight:500;}& input:focus,& button:focus,& select:focus{outline:0;box-shadow:0 0 0 3px rgba(37, 99, 235, 0.15);}& input::placeholder{color:",e=>e.theme.placeholder_color,";}"),VW=({message:e,callbacks:t})=>{var n,r,i;const o=Se($n),a=Dr(),s=In(),l=e.id,c=a==null?void 0:a.id,u=Se($S),h={...e==null?void 0:e.form};return e&&e!=null&&e.form&&((r=(n=e==null?void 0:e.form)==null?void 0:n.fields)==null?void 0:r.length)>0&&(h.fields=h.fields.map(d=>{const p={...d};return d.name==="email"?p.value=u.cache.email:d.name==="phone"?p.value=u.cache.phone:d.name==="name"&&(p.value=u.cache.name),p})),h.form_name=(i=e==null?void 0:e.form)==null?void 0:i.form_name,ar(h.fields)?null:G(qW,{children:G(HW,{className:"w-full md:w-96 md:max-w-96 shadow-md",children:G(UW,{fields:h.fields,onClickHandler:(d,p)=>{const{field:f,label:m,command:b,onclick:v}=p,_=h.success_message??"Form submit";switch(v){case"send_message":Object.assign(Mu,{name:d.name,email:d.email,description:d.description}),s(xm({id:l,threadId:o,text:_,type:"bot"})),s(Fa({text:m,command:b}));break;case"submit":((w,x)=>{if(!h.action)return;const E={form:h,values:{...w,message_id:l,conversation_id:o,agent_id:c,form_name:h.form_name??"",tsi:h.tsi??"",twi:h.twi??"",tags:["livex_email"]}};s(bm(E))})(d);break;case"cancel":((w,x)=>{const E=h.cancel_message??"Form cancel";s(xm({id:l,threadId:o,text:E,type:"bot"}))})()}}})})})},qW=ht("div",{target:"ed7zmf81"})({name:"l9dduf",styles:"max-width:100%;display:flex;justify-content:center"}),HW=ht("div",{target:"ed7zmf80"})({name:"1qe3eb5",styles:"background:white;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;align-self:stretch;padding:0.75em;border:2px solid #eee;border-radius:0.75em"});var x2={},$W=Object.prototype.hasOwnProperty;function mM(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function gM(e){try{return encodeURIComponent(e)}catch{return null}}x2.stringify=function(e,t){t=t||"";var n,r,i=[];for(r in typeof t!="string"&&(t="?"),e)if($W.call(e,r)){if(!(n=e[r])&&(n==null||isNaN(n))&&(n=""),r=gM(r),n=gM(n),r===null||n===null)continue;i.push(r+"="+n)}return i.length?t+i.join("&"):""},x2.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=mM(t[1]),o=mM(t[2]);i===null||o===null||i in r||(r[i]=o)}return r};var vM=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},cg=x2,GW=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,yM=/[\n\r\t]/g,WW=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,bM=/:\d+$/,KW=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,QW=/^[a-zA-Z]:/;function k2(e){return(e||"").toString().replace(GW,"")}var S2=[["#","hash"],["?","query"],function(e,t){return ua(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],wM={hash:1,query:1};function _M(e){var t,n=(typeof window<"u"?window:typeof Rn<"u"?Rn:typeof self<"u"?self:{}).location||{},r={},i=typeof(e=e||n);if(e.protocol==="blob:")r=new ha(unescape(e.pathname),{});else if(i==="string")for(t in r=new ha(e,{}),wM)delete r[t];else if(i==="object"){for(t in e)t in wM||(r[t]=e[t]);r.slashes===void 0&&(r.slashes=WW.test(e.href))}return r}function ua(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function xM(e,t){e=(e=k2(e)).replace(yM,""),t=t||{};var n,r=KW.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],s=0;return o?a?(n=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(n=r[2]+r[4],s=r[2].length):a?(n=r[3]+r[4],s=r[3].length):n=r[4],i==="file:"?s>=2&&(n=n.slice(2)):ua(i)?n=r[4]:i?o&&(n=n.slice(2)):s>=2&&ua(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||ua(i),slashesCount:s,rest:n}}function ha(e,t,n){if(e=(e=k2(e)).replace(yM,""),!(this instanceof ha))return new ha(e,t,n);var r,i,o,a,s,l,c=S2.slice(),u=typeof t,h=this,d=0;for(u!=="object"&&u!=="string"&&(n=t,t=null),n&&typeof n!="function"&&(n=cg.parse),r=!(i=xM(e||"",t=_M(t))).protocol&&!i.slashes,h.slashes=i.slashes||r&&t.slashes,h.protocol=i.protocol||t.protocol||"",e=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||QW.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!ua(h.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++)typeof(a=c[d])!="function"?(o=a[0],l=a[1],o!=o?h[l]=e:typeof o=="string"?~(s=o==="@"?e.lastIndexOf(o):e.indexOf(o))&&(typeof a[2]=="number"?(h[l]=e.slice(0,s),e=e.slice(s+a[2])):(h[l]=e.slice(s),e=e.slice(0,s))):(s=o.exec(e))&&(h[l]=s[1],e=e.slice(0,s.index)),h[l]=h[l]||r&&a[3]&&t[l]||"",a[4]&&(h[l]=h[l].toLowerCase())):e=a(e,h);n&&(h.query=n(h.query)),r&&t.slashes&&h.pathname.charAt(0)!=="/"&&(h.pathname!==""||t.pathname!=="")&&(h.pathname=function(p,f){if(p==="")return f;for(var m=(f||"/").split("/").slice(0,-1).concat(p.split("/")),b=m.length,v=m[b-1],_=!1,w=0;b--;)m[b]==="."?m.splice(b,1):m[b]===".."?(m.splice(b,1),w++):w&&(b===0&&(_=!0),m.splice(b,1),w--);return _&&m.unshift(""),(v==="."||v==="..")&&m.push(""),m.join("/")}(h.pathname,t.pathname)),h.pathname.charAt(0)!=="/"&&ua(h.protocol)&&(h.pathname="/"+h.pathname),vM(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(~(s=h.auth.indexOf(":"))?(h.username=h.auth.slice(0,s),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(s+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin=h.protocol!=="file:"&&ua(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}ha.prototype={set:function(e,t,n){var r=this;switch(e){case"query":typeof t=="string"&&t.length&&(t=(n||cg.parse)(t)),r[e]=t;break;case"port":r[e]=t,vM(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,bM.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var i=e==="pathname"?"/":"#";r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(r.username=t.slice(0,o),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(o+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<S2.length;a++){var s=S2[a];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&ua(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){(!e||typeof e!="function")&&(e=cg.stringify);var t,n=this,r=n.host,i=n.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(n.protocol&&n.slashes||ua(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):n.protocol!=="file:"&&ua(n.protocol)&&!r&&n.pathname!=="/"&&(o+="@"),(r[r.length-1]===":"||bM.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,(t=typeof n.query=="object"?e(n.query):n.query)&&(o+=t.charAt(0)!=="?"?"?"+t:t),n.hash&&(o+=n.hash),o}},ha.extractProtocol=xM,ha.location=_M,ha.trimLeft=k2,ha.qs=cg;const YW=ad(ha),kM=e=>{const t=e.replace(/[^0-9.]/g,"");try{return Number(parseFloat(t).toFixed(2))}catch{return-1}},XW=e=>{const{mutate:t}=jd(),[n,r]=re.useState(!1),{messageId:i,product:o,opacity:a,itemWidth:s,itemHeight:l}=e,{image_url:c,name:u,variant:h,price:d,url:p,compare_at_price:f}=o,[m,b]=re.useState(!1),v=So(),_=kM(d);let w=kM(f);w<=_&&(w=-1);const x=d,{platform:E,product_id:M,variant_id:T,enable_add_to_cart:S,add_to_cart:C}=o,P=S||(C==null?void 0:C.enable);let U="transparent";return m&&(U=v.primary_color||"#edf2f7;"),Fe(ZW,{style:{opacity:a,height:l,minWidth:s,border:"1px solid #ddd"},className:"shadow-md",children:[G("livex-product-info-container",{style:{borderColor:U},onMouseOver:()=>b(!0),onMouseOut:()=>b(!1),children:G(eK,{className:"py-1.5",src:c,onClick:()=>{const W=function(te,ne,ae){try{const he=new YW(te,!0);return he.query[ne]=ae,he.toString()}catch{return te}}(p,"from_livex","true");_9(W),window.open(W,"_blank")}})}),Fe("livex-product-desc-container",{children:[G("livex-product-name",{children:u}),G("livex-product-name",{children:h}),Fe("livex-product-price-container",{children:[_>=0&&G("span",{style:{fontSize:"0.6em"},children:x}),w>=0&&G("span",{style:{fontSize:"0.6em",color:"black",textDecoration:"line-through",textDecorationThickness:"1.5px"},children:f})]}),P&&G(JW,{onClick:W=>(async te=>{if(!n){if(te.preventDefault(),r(!0),E==="shopify"&&M&&T){const ne="/cart/add.js",ae=new FormData;ae.append("quantity","1"),ae.append("form_type","product"),ae.append("utf8","✓"),ae.append("id",T),ae.append("product-id",M);const he=document.querySelector("cart-drawer")||document.querySelector("cart-notification");if(he&&he.getSectionsToRender)try{ae.append("sections",he.getSectionsToRender().map(fe=>fe.id))}catch{}try{const fe=await sn({method:"post",url:ne,data:ae,headers:{"Content-Type":"multipart/form-data",Accept:"application/javascript"}});t({event_name:Yn.LivexAddToCart}),window.publish&&typeof window.publish=="function"&&window.publish("cart-update",{source:"product-form",productVariantId:T,cartData:fe.data}),he&&he.renderContents&&(he.renderContents(fe.data),he.classList.contains("is-empty")&&he.classList.remove("is-empty"))}catch{}}(C==null?void 0:C.action)==="redirect"&&C!=null&&C.redirect_link&&(window.top.location.href=C.redirect_link),r(!1)}})(W),className:"p-1 rounded-md",children:n?"Adding to cart...":"Add to cart"})]})]})},JW=ht("button",{target:"e1cnc083"})({name:"1f80il9",styles:"position:absolute;bottom:4px;font-size:0.6em;color:white;cursor:pointer;font-weight:700;width:90%;border:1px solid rgb(68, 135, 213);text-align:center;transition:all 0.3s ease;background-color:rgb(88, 166, 255);&:hover{background-color:rgb(68, 135, 213);}"}),ZW=ht("div",{target:"e1cnc082"})({name:"77lf7d",styles:"background:white;transition:border-color 0.3s ease;border-width:2px;border-style:solid;border-color:transparent;cursor:default;border-radius:0.5em;display:flex;flex-direction:column;align-items:center"}),eK=ht("img",{target:"e1cnc081"})({name:"8gl11u",styles:"width:auto;height:120px"}),tK=e=>{const{message:t,itemWidth:n=170,gap:r=10,itemHeight:i=200}=e,o=Se($n),a=$l(),{products:s=[]}=t,l=re.useRef(null);let c=!1;const u=s==null?void 0:s.map((h,d)=>{var p;const f=`${o}-product-${d}`;return(h.enable_add_to_cart||(p=h.add_to_cart)!=null&&p.enable)&&(c=!0),G(XW,{messageId:(t==null?void 0:t.id)??null,product:h,opacity:1,itemHeight:i,itemWidth:n},f)});return ar(s)||a?null:G(nK,{style:{minHeight:i,marginBottom:c?"20px":0},ref:l,children:G("livex-product-selector-center-column",{style:{gap:r},children:u})})},nK=ht("div",{target:"e1cnc080"})({name:"gggxmf",styles:"display:flex;width:100%;position:relative"}),rK=({message:e})=>{const{type:t,references:n}=e,r=Se(Pj),{mutate:i}=jd(),o=re.useRef(null);kt.messageFooterRef=o;const a=Se($n);if(t==="user"||!n||ar(n)||!r)return null;const s={};return n.forEach(l=>{let c=l.url;const u=c.trim().split(`
`);u&&u.length>1&&(c=u[0]);const h=c===""?`${l.name}`:`${l.name}, ${c}`;if(!s[h]){const d=h.length>50?h.substring(0,47)+"...":h;s[c]={...l,name:d,url:c}}}),ar(s)?null:Fe("livex-chatbot-message-footer",{ref:o,children:[G("livex-chatbot-message-footer-feedback",{}),Fe("livex-chatbot-message-footer-source-info",{className:"livex-flex livex-flex-col livex-justify-start livex-items-start",children:[G("livex-hr",{style:{marginBottom:"7px"}}),G("ul",{className:"livex-list-disc livex-pl-6",children:Object.values(s).map((l,c)=>G("li",{children:l.url!==""?G("a",{className:"underline",href:l.url,onClick:()=>(u=>{i({event_name:Yn.LinkClick,link_clicked:u})})(l.url),target:"_blank",rel:"noopener noreferrer",children:G(iK,{className:"livex-text-blue-400 hover:livex-text-blue-500",children:l.name})}):G("span",{className:"livex-text-gray-600",children:l.name})},`${a}-list-item-${c}`))})]})]})},iK=ht("div",{target:"eq3duu00"})({name:"tadcwa",styles:"&:hover{text-decoration:underline;}"}),oK=e=>["useFetchSvg",e],aK=e=>y9({queryKey:oK(e),queryFn:()=>(async t=>(await fetch(t)).text())(e)}),ug=re.memo(({url:e,size:t=32})=>{const{data:n,isFetched:r,isError:i}=aK(e),o=re.useMemo(()=>{if(!n)return"";const a=n.trim();return a.startsWith("<svg")&&a.endsWith("</svg>")?n:""},[n]);return G(sK,{style:{height:t,width:t},className:`svgInline svgInline--${r?"loaded":"loading"} ${i?"svgInline--errored":""}`,dangerouslySetInnerHTML:{__html:o??""}})}),sK=ht("div",{target:"e4aetqu0"})(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%","& svg":{height:"100%",width:"100%"},"&.svgInline--loaded":{"& svg":{display:"block"}},"&.svgInline--loading":{"& svg":{display:"none"}},"&.svgInline--errored":{"& svg":{display:"none"}}}),""),lK=e=>{const{mutate:t}=jd(),{item:n}=e,{title:r,body:i,badge_title:o,badge_color:a,button_title:s="Click To Open",image_url:l,url:c}=n;let u="ml-auto text-white px-2 py-1 rounded-full text-xs";switch(a){case"pink":u+=" bg-pink-500";break;case"red":u+=" bg-red-500";break;case"blue":u+=" bg-blue-500"}return G("div",{className:"shadow-sm rounded-lg border max-w-[900px] overflow-hidden bg-white",children:Fe("div",{className:"flex flex-wrap",children:[l&&G("div",{className:"w-full md:w-1/3",children:G("img",{src:l,className:"w-full h-full object-cover"})}),Fe("div",{className:`w-full ${l?"md:w-2/3":"md:w-full"} p-4 flex flex-col justify-between`,children:[Fe("div",{children:[Fe("div",{className:"flex items-center mb-2 flex-wrap gap-x-4",children:[G("span",{className:"font-medium",children:r}),o&&G("span",{className:u,children:o})]}),G("p",{className:"text-sm text-gray-500",children:i})]}),c&&G("button",{className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm",onClick:()=>{t({event_name:Yn.PromotionItemLinkClick,link_clicked:c}),window.open(c,"_blank")},children:s})]})]})})},cK=()=>{var e;const t=Dr(),n=(e=t==null?void 0:t.config)==null?void 0:e.promotion_items;return G("div",{className:"flex flex-col gap-4 ",children:n==null?void 0:n.map((r,i)=>G(lK,{item:r},i))})},uK=e=>{var t;const n=Dr(),{message:r,isBot:i}=e,o=r.timestamp?new Date(r.timestamp).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}):"",a=r.type==="agent";if(!i)return null;let s=((t=n==null?void 0:n.config)==null?void 0:t.chatbot_description)??"Bot";return a&&(s=r.sender||"Agent"),Fe("livex-message-header-container",{...e,style:{flexDirection:i?"row":"row-reverse"},children:[i&&G("livex-message-header-container-h1",{children:s}),G("livex-message-header-container-h2",{children:o})]})},hK=e=>{const{message:t,isBot:n,isLastMessage:r}=e,i=So(),{bot_message_background_color:o,user_message_background_color:a}=i;if(t.type==="loading")return G(LV,{});const s=n?o:a,l=ei(s);return Fe(dK,{id:r?"last-message-body":"",style:{background:s,color:l},className:"shadow-md",children:[G(NW,{...e,background:s}),G(rK,{message:t})]})},dK=ht("div",{target:"egffpd44"})({name:"dprp5n",styles:"display:flex;flex-direction:column;justify-content:flex-start;padding:0.5em 0.75em;border-radius:0.625em;max-width:100%"}),pK=({message:e})=>{var t,n;const r=e.type==="agent",i=So(),o=Dr();let a=G(Qj,{style:{color:ei(i.primary_color)}});const s=e.type!=="user",l={background:s||r?i.primary_color:"transparent",position:"relative"};if(!r){if(!s)return null;const c=((t=o==null?void 0:o.config)==null?void 0:t.chatbot_icon)||((n=o==null?void 0:o.config)==null?void 0:n.chatbot_button_icon)||"";c?c.endsWith(".svg")?a=G(ug,{url:c,size:22}):(a=G("img",{src:c,style:{position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%",border:`2px solid ${i.primary_color}`}}),l.border=`1.5px solid ${i.primary_color}`):a=G(ug,{url:"data:image/svg+xml,%3csvg%20width='20'%20height='24'%20viewBox='0%200%2020%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.2495%2014.6655C3.15197%2016.1141%201.00034%2019.3008%201.00034%2023H19C19%2019.3008%2016.8484%2016.1141%2013.7508%2014.6655M2.80051%208.33333C2.80051%204.28319%206.02401%201%2010.0005%201C13.977%201%2017.2005%204.28319%2017.2005%208.33333M15.2493%208.33333H17.2002C18.1941%208.33333%2019%209.15413%2019%2010.1668C19%2011.1796%2018.1941%2012%2017.2002%2012H15.4M10.0002%2012H2.80017C1.80587%2012%201%2011.1792%201%2010.1668C1%209.15448%201.80587%208.33333%202.80017%208.33333H4.75102M15.6251%2010.3958C15.6251%2013.5598%2013.1066%2016.125%2010.0002%2016.125C6.89372%2016.125%204.37519%2013.5601%204.37519%2010.3958C4.37519%207.23148%206.89372%204.66667%2010.0002%204.66667C13.1066%204.66667%2015.6251%207.23148%2015.6251%2010.3958Z'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",size:24})}return G(fK,{style:l,className:"shadow-md",children:a})},fK=ht("div",{target:"egffpd43"})({name:"1e99qty",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0;width:2.5em;height:2.5em;padding:0.25em;margin-bottom:24px;border-radius:50%;overflow:hidden"}),mK=e=>{re.useLayoutEffect(()=>{kt.scrollToLastMessagePair()},[]);const{message:t,callbacks:n,isLastMessage:r,index:i}=e;if(t.type==="system")return G("div",{className:"flex justify-center p-2",children:G("div",{className:"text-sm font-light text-gray-400",children:t.text})});const o=t.type!=="user";return Fe(wl,{children:[Fe(gK,{style:{justifyContent:o?"flex-start":"flex-end"},children:[G(pK,{message:t}),G(vK,{style:{flexDirection:o?"row":"row-reverse"},children:Fe(yK,{style:{alignItems:o?"flex-start":"flex-end"},children:[G(hK,{message:t,isBot:o,isLastMessage:r}),G(uK,{message:t,isBot:o})]})})]}),i===0&&G(cK,{}),G(tK,{message:t}),G(VW,{message:t,callbacks:n}),G(FW,{message:t,callbacks:n,isLastMessage:r})]})},gK=ht("div",{target:"egffpd42"})({name:"1s3gs5l",styles:"display:flex;flex-direction:row;align-items:flex-start;gap:5px"}),vK=ht("div",{target:"egffpd41"})({name:"zfm4dm",styles:"display:flex;justify-content:flex-start;align-items:flex-start;width:fit-content;height:auto;max-width:calc(100% - 45px);gap:0.5em"}),yK=ht("div",{target:"egffpd40"})({name:"12fhxm6",styles:"display:flex;flex-direction:column;justify-content:flex-start;align-self:stretch;width:fit-content;height:auto;max-width:100%"}),E2=()=>Se(jj)==="loading",bK=re.forwardRef(({callbacks:e},t)=>{const n=Se(m=>m.chatBox.botMode),r=Se(GS),i=Se($n),o=E2(),a=b0(m=>m.chat.messagesUpdatedAt),s=Se(m=>m.chatBox.showPopupImageSrc),l=Se(m=>m.chatBox.isUserTyping),[c,u]=re.useState(0),h=Se(m=>m.chatBox.showChatBox),d=Kw(()=>{var m,b,v,_,w;const x=((m=window.visualViewport)==null?void 0:m.height)||window.innerHeight,E=(v=(b=kt.headerRef)==null?void 0:b.current)==null?void 0:v.getBoundingClientRect();let M=(E==null?void 0:E.height)||64;$t&&l&&(M=0);const T=(w=(_=kt.messageFooterRef)==null?void 0:_.current)==null?void 0:w.getBoundingClientRect(),S=(T==null?void 0:T.height)||110;u(x-M-S)},100);re.useLayoutEffect(()=>{$t&&d()},[l,h,o,d]),re.useEffect(()=>{if($t)return window.addEventListener("resize",d),window.addEventListener("scroll",d),()=>{window.removeEventListener("resize",d),window.removeEventListener("scroll",d)}},[d]),re.useEffect(()=>{e==null||e.onMessageUpdated()},[e,a]),re.useEffect(()=>{r&&r.length>0&&r[r.length-1].done&&(e==null||e.onTokenUsageRefresh())},[e,r]);const p={WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",background:"transparent"};if(n==="avatai"?(p.paddingTop=80,p.marginTop="auto",p.maxHeight="calc(50% - 64px - 40px)",s||(p.maskImage=$t&&l?"linear-gradient(to top, black 35%, transparent 45%)":"linear-gradient(to top, black 75%, transparent 100%)")):$t&&(p.marginTop="auto",p.maxHeight=c),o||!i)return G("div",{className:"flex-1 flex justify-center items-center",children:G(hp,{size:36})});const f=[];for(let m=0;m<r.length;m++){const b=r[m],v=[b];b.type==="user"&&m+1<r.length&&r[m+1].type==="bot"&&(v.push(r[m+1]),m++),f.push(v)}return G(wK,{className:"flex flex-col flex-grow gap-3 justify-start items-stretch self-stretch overflow-y-auto overflow-x-hidden p-4 animate-fade z-20",ref:t,style:p,children:f.map((m,b)=>{const v=b===0,_=b===f.length-1,w=_?"last-message-pair":"",x={};return _&&($t&&l?x.justifyContent="flex-end":x.height="100%"),v&&$t&&l&&(x.paddingTop=80),G("livex-message-pair-container",{style:x,id:w,children:m.map(E=>G(mK,{message:E,callbacks:e,index:b,isLastMessage:_},`${E.type}-${E.id}`))},`message-pair-${b}`)})})}),wK=ht("div",{target:"e1gt3cvj0"})({name:"0",styles:""});wk`
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
`;const _K=ht("div",{target:"e19jf3sk0"})({name:"13irn3e",styles:"display:flex;flex-grow:0;flex-direction:column;justify-content:stretch;align-items:center"}),xK=()=>G("button",{onClick:()=>window.open("https://www.livex.ai/","_blank"),children:G("img",{src:"data:image/webp;base64,UklGRmAJAABXRUJQVlA4WAoAAAAQAAAAfwAAIAAAQUxQSFQFAAAB8Ebbtmnbtq2lUksb08aybdvW9Jzbtm3bNpZtG9NYtjFtY3D23lqv+UdDnxjjf0RMAFvXoe/XXtHpBHrkYNin50ov9qH7ty1hDuNflNR6KKH7w9yaMIcTH5Fq0nk43X7fXQBzq+Cw11VSlkZ9iITu3rh184Nf2BcIXhBgwE/bFNOY6Zs43X7gekmdk7+0FxDA4WMLpDTGVH8gALhXcjcghFAWQgA88cLEgeChxL0ZC6FC8AAYw95Ul6T2uyc5FjjicanekOq6HizXvJG3ImMLh5zRtLElA/uuUT1LJb12JpzQqTRTVF2PgQH4z37VUuVztx9D4LOTTyLkAu+efAmBz17z/0svvfTS/1/9CQLn3nseDkav//ygWmD/+35UYoy6Z1SOhOO6lCmmqboO4AVtlqLqerEfAQicI52HFxh7b9btsKf0Enlj51a9nrC/Kh5Gy1y1H4JjXCWdQ6hgPCaNwnO0vK3WAhLOlxqKsaZJO6oRY1SqRTvjFIyWRpcEDtmou6D/29JYHJwfStfDkfW0trlWq3XFZ4fB/6U3B9CLb0ord8fKnAvVodnkjUHvSEUkfEBqKGYat4dijMrUeigJRZdIl1Q4aJPupIWvSg9jQN950olweE2PHHzcMcccfdxgAmGWdDecJ+kcnHJjuhQ1Gs8NeFtZCc5X1Ii53RWjGopnkbCFWnUngUFLpOMJzkekh/Hc9RQbgZFLpJ/uuE76HE65M1pa2q6ZkBv4jhplBH6hrKwR9T4StoYl/EC6AofHpVG05G4sAZwTMm1eIv2bQOXHpXPvkUbjzWH8S1mZvoGzdYyRq7RpDzhTegYCh6da8eiUyY/N+O8ggISPSdKjhlVwJkrTmSjNgS3CVaoVZPoLga2E8xvpx3CD9HE8cHim0o/hYPCaOjWeXlR+WhpFn1ek8fgWubEo090Etpqx+3rNt7069HZfKKht2LhxQ9u8QzBwfiNJi3cmlDnvle4CJkqPw5b4t9Is19CC/fBmRjWH81dpzDekb+G5mu4Zuvuuu+7eH4OEd0vLJkuzwMDcAF6QbvjsN7/8k46oCSTNOD9SFgtiqkU74U1cUmBmFYx9O/TCPK0agRXdQKEbzsEd0nt5S/ofAQNwPqR6Tfm0piewJhI+phhLVNfLAwjNBPJeAedySfoDTtHNBMAg0PdV6d9weJf0eRL2nDQUwiuqmGo8uawk4UKpoZKoumY6oUp8fdYTj8958pFD4KCNuqMgcFiWxc59sZLVs594/PE5Tz52KNwkPRto4YNqZGcyfL4mG5+WXv/Qxz720Y9+/L1/lOYYg95SWpRwdKcyxZhpQi6qrrvASsao/B9wcF0PFhC4WboWp0AV/8txUscBOM6fpPs5Qto4mBnShyh9STqOQYulAmevlUoVc2fsrrQRY6zr0hJjp1lL5s6dO/edea+eCi23tX6UUHTAirUHEcj3vmvZ3MJ5b5xDv1vWTSABg2sWj6Pl2vU/gM903h5C4u7eiwvX39oHftf5u1xg8BtKFRU3640WHpXSLMZUvybkMMKwIflhvQBsGKXGiB0xSocNKRzWG4PBGIBBHwyGAIyk6hAwGA4QCDNVV4xpQ2uOhr6/XycpTTN9lZDDKDfyVoKBsQUNg0ChQQAwMLAyAwMwMLhddSlLpZt2IxiM/Ny0uqS6JhByYMUUGhXNqGil5I1yAzAAo6qRN3L/Ul2NVJp9JjiYAwd9e3ZNWtqb7t/5kbJGKs3/CIRA3hzgkK/Nvta7P+eTatSl1h/3B6dicHrK0Wqkiv/fHZxmg/cIR3ZIuvtocKNnfl6afi640VMvfHgUhEDPDVZQOCDmAwAAsBUAnQEqgAAhAD4xFolDIiEhFVsEwCADBLYAZ+ygrd7+vm34ifmN8sdTfmn3i/dL/PZbvzb/oftE95P+Z9on46/2nuAfop/b/tN7m/mP/lH9L/Wv3iP8l/APY1+KvuD/0D+79Y76Cf7L+lR+2PwY/tR+13s/f/sm6BsRpLPiFPnQTPQMhmN7UBGDxQZ2uTNmbmaJjF5veXLxDVOkTzCm07kadm1yTGQ3RMdw0AoFoRZ2+pqooAAA/uIQv/Hafum/iZYUiOTxPemWkrxurYndPlhkv9cxi+1CBwkd868MyZpJDcJHGG6FNBWx3x/+6tCFmW0jSjPfVHbnxKSwIbMlWsrA05RNM2frs3Af2wM7dXrlG9/sDp2ptLj88ajEShtf0ImmwMTPI/fsyWIqLMGgSYKAOoUXVYZQTjzQkUhkNJ+acSf4vkjT/KwzUijZJVF+dqBQP//B2OHBIwiaewzWWr+CADjsTw0d+BHU2Ry0oXCgF4AkPcf8RKjA9lQ8xZojGWwA71OtxSHoZmWSWPvRE5FPlG+vH6l7smxl49PFqdcKRv/95KVpMGO14sQ4U23YSbSwaXcbDALTQsHxfmruqm7y+buRj/QEkayG0lhyc1VhAZ8B690YkPEVtOQVyKmO1/0uv//Jwf/3US//7ij1rE35ACYK/L2n+nAi1f9DMB4VMUVeESgrBFx/CVatRXFOZXX6/cNIV7TWWQbuy/72r+eOvWRq0UUXqP+Dz05it19e+rE/7o4tEqYn+6fQzIM+H1u5PiQshorD+K5qAUtjO6qKGU4L4SHxc8YHkI8UZ2E99Cqrn7zx6EizI1lPHPB0Vh5LDbnhhTf8Qw+tqFBM0EZ9BQdSTowHebgxnhoidmpE+uT77/+ouRd/OnyQDGCSgdfb+rmlANO91URANqO2oXTRgnxco5dichSYLpelq/rcjm/TC6g7hNwtotsA1vnpXCL7/CF9Se5rjHVodhQmDwBUf4DOpRWVRoher45gCjskzrZkmM6LOGfiAlT3SYw/PqUndlgndbEi461GYlHuporWAGt7JrA6ZCn0qhgSm9sRYjnlGf4yyxXekUYAAZMXyQXmiMsi0yjE2urUgQ8m6rHO2FDiYJTYsXi84XU08yf/YVAAiFTebeUBgBoNWCxphXqJe7VpBpQpFFMsc2gtY8CJpq4fAPJMq6sbMZTVnESKBzRmh6iyfCs4z+Fq6fpEpf697OQUgCmUCOaKb6tGNapxWmMmxUZJscWhO+G8MxktJGTBPoZIO4d/+PEP/hr//adj0eG6zoovuFJVtdiOZ1W0MRRUIAPnxGLaAAA79oAAAAAAAAA=",alt:"Logo",className:"h-7"})}),kK=()=>{var e;const t=Dr(),n=(e=t==null?void 0:t.config)==null?void 0:e.partner_logo;if(!n)return null;const{title:r,logo_url:i,link_url:o,width:a,height:s}=n;return Fe("div",{className:"flex items-center whitespace-pre",children:[r,G("img",{src:i,style:{objectFit:"cover",cursor:"pointer",width:a,height:s},onClick:()=>window.open(o,"_blank")})]})},SK=()=>{const e=Se(i=>i.chatBox.isUserTyping),t=$l(),n=Gl();if(t)return null;const r={};return $t&&e?null:(n&&(r.marginRight="auto",r.marginLeft="1em"),Fe(EK,{style:r,className:" flex align-center  bg-white bg-opacity-65 px-3 rounded-lg ",children:[G(xV,{components:[G(xK,{},"logo")],i18nKey:"poweredBy"}),!$t&&G(kK,{})]}))},EK=ht("div",{target:"e17ytut60"})({name:"1heau4q",styles:"z-index:10;display:flex;align-items:center;margin-bottom:0.5em;font-size:0.65em;color:#a0aec0;gap:0.5em"}),AK=({color:e})=>{const t=In(),n=re.useRef(null),r=(()=>{const a=ym(Hb,j0);return cF.map(s=>s.code===a?{...s,selected:!0}:s)})(),[i,o]=re.useState(!1);return function(a,s,l="mousedown",c={}){re.useEffect(()=>{const u=h=>{const d=(h.composedPath?h.composedPath():h.path||[h.target])[0];d&&d.isConnected&&(Array.isArray(a)?a.every(p=>p.current&&!p.current.contains(d)):a.current&&!a.current.contains(d))&&s(h)};return document.addEventListener(l,u,c),()=>{document.removeEventListener(l,u,c)}},[a,s,l,c])}(n,()=>{o(!1)}),Fe(RK,{ref:n,children:[G(MK,{color:e,variant:"flat",onClick:()=>{o(!i)},children:G(Yj,{})}),G(CK,{open:i,children:r.map(a=>G(TK,{selected:a.selected,onClick:()=>(s=>{t(Dj(s)),o(!1)})(a.code),children:a.title},a.code))})]})},CK=ht("div",{target:"e19z2qmn3"})(e=>({display:"block",position:"absolute",top:"100%",right:0,zIndex:100,minWidth:"100px",background:"white",borderRadius:"0.5em",boxShadow:"0 0 1em rgba(0, 0, 0, 0.1)",opacity:e.open?1:0,visibility:e.open?"visible":"hidden",transition:"opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease",transform:e.open?"scale(1)":"scale(0.95)",overflow:"hidden"}),""),TK=ht("div",{target:"e19z2qmn2"})(e=>({padding:"0.5em 1em",cursor:"pointer",color:e.selected?"blue":"black","&:hover":{background:"#f0f0f0"}}),""),MK=ht(ra,{target:"e19z2qmn1"})(e=>({cursor:"pointer",color:e.color}),""),RK=ht("div",{target:"e19z2qmn0"})({name:"bjn8wh",styles:"position:relative"}),IK=()=>{const e=In(),t=Se(n=>n.chatBox.showAvatarVideo);return Se(n=>n.chatBox.botMode)==="avataiToggle"?G(ra,{onClick:()=>e(Lj(!t)),style:{color:"white"},variant:"flat",children:G(t?rV:iV,{})}):null},OK=re.forwardRef(({options:e},t)=>{const n=In(),r=Se(P=>P.chatBox.isUserTyping),i=Se(P=>P.chatBox.agent),o=Se(P=>P.chatBox.expanded),a=Se(P=>P.chatBox.showPopupImageSrc),s=Se(P=>P.chatBox.botMode),l=$l(),c=vm(),u=Se(P=>P.chatBox.source)==="playground",h=Se($n),d=So(),{primary_color:p,name:f}=d,m=f==="gradient",b=w9().header,v=Se(P=>P.chatBox.showNavigationView),_=Se(Ps),w=!!_&&_>0,x=()=>{n(Mj(!o))};if(i==null||!i.config)return null;const E=i.config.style;let M="";i&&i.id!=="loading"&&(M=i.config.name??"Copilot");const T={userSelect:"none",width:"100%",display:"flex",flex:"0 0 4em",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"1em",padding:"0.25em 1em",fontSize:"1em",background:d.primary_color,color:d.header_text_color,zIndex:a?20:30};m&&(T.background=`linear-gradient(125deg, ${d.primary_color} 0%, ${d.secondary_color} 100%)`),l&&(T.flex="0 0 2em"),$t&&(r?T.display="none":(T.position="fixed",T.top=0,T.height=64));let S=e.enableRefresh;(l||c||u)&&(S=!0);let C=e.enableClose||(E==null?void 0:E.should_show_close_button)||$t;return(c||l)&&(C=!1),Fe("div",{ref:t,id:"livex-chatbot-header",style:T,children:[Fe("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"30px"},children:[(()=>{var P;if(i==null||!i.config)return null;if(l)return G("div",{});const U=i.config.logo||i.logo;let W="h-12 w-12 flex-none relative rounded-full overflow-hidden";return v&&(W+=" h-7 w-7"),Fe("div",{className:"flex flex-grow items-center gap-3",children:[U&&G("div",{className:W,children:G("img",{className:"w-full h-full object-contain",src:((P=i==null?void 0:i.config)==null?void 0:P.logo)??i.logo,alt:i.id})}),G("div",{className:"hidden text-sm flex-grow xs:flex sm:text-lg",children:M})]})})(),Fe("livex-chatbot-header-buttons-container",{children:[G(IK,{}),G(AK,{color:ei(p)}),S&&G(ra,{color:ei(p),onClick:()=>(async()=>{!h||i==null||!i.id||(await n(ko({threadId:h})),kt.scrollToBottom(200))})(),variant:"flat",children:G(TV,{})}),Jr(s)||l||c||$t||!e.enableExpand?null:G(ra,o?{color:ei(p),onClick:x,variant:"flat",children:G(SV,{})}:{color:ei(p),onClick:x,variant:"flat",children:G(EV,{})}),C&&G(ra,{color:ei(p),onClick:()=>{n(w?Bw(!0):na(!1))},variant:"flat",children:G(km,{})})]})]}),b&&v&&!w?Fe(LK,{children:[G("div",{className:"text-2xl font-extrabold",children:b.title}),G("div",{className:"text-sm font-thin",children:b.body})]}):null]})}),LK=ht("div",{target:"evwks8c0"})({name:"1hm6nh2",styles:"margin-right:auto;font-size:1em;white-space:pre;padding-left:1.5em;padding-right:1.5em;padding-bottom:1em;& *{white-space:break-spaces;}"}),A2=()=>{const e=In(),t=Se($n);return Vl({mutationFn:async()=>{t&&await e(ko({threadId:t}))}})};var To=ht.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){To[e]=To(e)});const SM=To.button({display:"flex",alignItems:"center",borderRadius:"0.5rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(156 163 175 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",fontSize:"12px",lineHeight:"16px","--tw-text-opacity":"1",color:"rgb(31 41 55 / var(--tw-text-opacity))",":hover":{"--tw-border-opacity":"1",borderColor:"rgb(55 65 81 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))"}});function DK(e){return Bn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"M328 112L184 256l144 144"}}]})(e)}function EM(e){return Bn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function PK(e){return Bn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z"}}]})(e)}const NK=re.forwardRef((e,t)=>{const n=In(),{mutateAsync:r}=A2(),i={};return $t&&(i.position="fixed",i.top=0,i.width="100%",i.zIndex=100),G(BK,{ref:t,style:i,children:Fe(SM,{onClick:()=>{n(qd([])),r(),n(ku("")),n(Cu(!0)),n(na(!1))},children:[G(DK,{}),"Back"]})})}),BK=ht("div",{target:"e1mef90"})({backgroundColor:"white",display:"flex",padding:"0.5rem",justifyContent:"space-between",borderBottom:`2px solid ${Kd.border_color}`},""),zK=re.forwardRef((e,t)=>Gl()?G(NK,{ref:t}):G(OK,{...e,ref:t})),AM=({selectedIndex:e,setSelectedIndex:t,currentLevel:n})=>{const r=In(),i=xw(),o=b9(),a=e==null?void 0:e.split("-").slice(0,n-1).join("-"),s=re.useMemo(()=>Object.entries(i).reduce((l,[c,u])=>(c.startsWith(a??"")&&c.split("-").length===n&&l.push({key:c,...u}),l),[]),[n,i,a]);return G(jK,{children:s.map(l=>{const c=e==null?void 0:e.startsWith(l.key);return Fe(wl,{children:[Fe(VK,{onClick:()=>{l.command?r(Fa({text:l.text??"",command:l.command})):t(c?a??"":l.key)},color:o==null?void 0:o.primary_color,indent:n-2,children:[l.iconUrl&&G("img",{src:l.iconUrl,style:{width:30,height:30}}),l.imageUrl&&G("div",{style:{width:80,height:80,overflow:"hidden"},children:G("img",{src:l.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),Fe("div",{style:{display:"flex",flexDirection:"column"},children:[l.title,l.description&&G("div",{style:{fontSize:"0.8em"},children:l.description})]})]},l.key),c&&G(AM,{selectedIndex:e,setSelectedIndex:t,currentLevel:n+1})]})})})},FK=({selectedIndex:e,setSelectedIndex:t})=>{const n=In(),r=b9(),i=xw(),o=re.useMemo(()=>{const a=e?e.split("-").length+1:1;return Object.entries(i).reduce((s,[l,c])=>(l.startsWith(e||"")&&l.split("-").length===a&&s.push({key:l,...c}),s),[])},[i,e]);return G("div",{className:"flex flex-col gap-2 p-12",children:o.map(a=>Fe(qK,{className:"flex items-center gap-4 p-4 border rounded-xl text-left",onClick:()=>{a.command?n(Fa({text:a.text??"",command:a.command})):t(a.key)},color:r==null?void 0:r.primary_color,children:[a.iconUrl&&G("img",{src:a.iconUrl,style:{width:30,height:30}}),a.imageUrl&&G("div",{style:{width:80,height:80,overflow:"hidden"},children:G("img",{src:a.imageUrl,style:{width:100,height:100,marginLeft:"-10px",marginTop:"-10px"}})}),Fe("div",{className:"flex flex-col items-start",children:[G("div",{className:"flex text-lg",children:a.title}),a.description&&G("div",{className:"text-xs",children:a.description})]}),!a.command&&G("div",{className:"ml-auto",children:G(Zj,{style:{fontSize:"1.3em"}})})]},a.key))})},UK=()=>{const e=xw(),[t,n]=re.useState(null),r=re.useMemo(()=>{if(!t)return"menu";const[i]=t.split("-");return e[i].navStyle||"menu"},[e,t]);return G("div",{className:"animate-fade",style:{display:"flex",flex:1,maxHeight:"calc(100vh - 130px)",overflow:"auto"},children:Fe("div",{style:{flex:1,paddingTop:"1em"},children:[t&&Fe("button",{className:"flex items-center absolute ml-3 bg-white hover:bg-gray-100 text-gray-800 py-1 px-4 border border-gray-400 rounded",onClick:()=>{if(t){const i=t.split("-").slice(0,-1).join("-");n(i)}},children:[G(Jj,{className:"mr-2"}),"Back"]}),r==="menu"&&G(FK,{selectedIndex:t,setSelectedIndex:n}),r==="accordion"&&G("div",{style:{padding:"3em"},children:G(AM,{selectedIndex:t,setSelectedIndex:n,currentLevel:2})})]})})},jK=ht("div",{target:"e8d56zx2"})({name:"3sa9n5",styles:"display:flex;flex-direction:column;border-radius:1em;text-align:left;& .header:first-of-type{border-top-left-radius:1em;border-top-right-radius:1em;}& .header:last-of-type{border-bottom-left-radius:1em;border-bottom-right-radius:1em;}"}),VK=ht(e=>{const{indent:t=0,className:n}=e,r=t>0?"item":"header";return G("div",{...e,className:n+" "+r})},{target:"e8d56zx1"})(e=>{const{color:t="black",indent:n=0}=e,r=n===0,i=ou(.2,t),o=ei(i),a={color:r?o:"black",background:r?i:"white",display:"flex",border:r?`1px solid ${t}`:"1px solid transparent",alignItems:"center",gap:"1em",padding:r?"1em":"0em",cursor:"pointer","& svg":{fill:o},"&:hover":{background:r?t:"unset",border:`1px solid ${t}`}};return n>0&&(a.marginLeft=2*n+"em"),a},""),qK=ht("button",{target:"e8d56zx0"})(e=>{const{color:t="black",indent:n=0}=e,r=ou(.37,t),i=ei(r),o=ou(.34,t),a={color:i,background:r,"& svg":{fill:i},"&:hover":{background:o,borderColor:L0(.05,o),color:ei(o)}};return n>0&&(a.marginLeft=2*n+"em"),a},""),HK={1:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z",label:"Very Dissatisfied",color:"darkred"},2:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z",label:"Dissatisfied",color:"red"},3:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z",label:"Neutral",color:"orange"},4:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-2.5c2.33 0 4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2s-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5z",label:"Satisfied",color:"green"},5:{mousePath:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z",label:"Very Satisfied",color:"darkgreen"}},$K=e=>{const{value:t,selected:n,onClick:r}=e;return G(GK,{children:G("button",{onClick:r,children:(()=>{const i=HK[t],{color:o,mousePath:a}=i;if(a&&o)return((s,l,c)=>{const u=s?l:"grey";return Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[G("circle",{fill:u,cx:"15.5",cy:"9.5",r:"1.5"}),G("circle",{fill:u,cx:"8.5",cy:"9.5",r:"1.5"}),G("path",{fill:u,d:c}),s&&G("circle",{stroke:l,strokeWidth:2,fill:"none",cx:"12",cy:"12",r:"10"})]})})(n,o,a)})()})})},CM=({rating:e,setRating:t})=>G("div",{className:"flex items-center",children:[1,2,3,4,5].map((n,r)=>G($K,{value:n,selected:e===n,onClick:()=>t(e===n?void 0:n)},r))}),GK=ht("div",{target:"e6mtb560"})({name:"ho6j5g",styles:"transform:scale(1);transition:transform 0.3s ease-in-out;cursor:pointer;&:hover{transform:scale(1.2);}"}),TM=()=>Vl({mutationFn:e=>(async t=>{const{conversation_id:n,rating:r}=t;if(!n||!r)return;const i=`${pr.chatHost}/api/v1/survey`,o=await sn.post(i,t);if(o.status!==200||o==null||!o.data)throw new Error("Error sending survey");return o.data})(e),onError:e=>{}}),MM={display:"flex",justifyContent:"center",alignItems:"center"},WK=()=>{const{mutate:e}=TM(),t=In(),[n,r]=re.useState(void 0),[i,o]=re.useState(""),a=Se($n);return G("section",{className:"mx-auto h-full flex flex-col w-full animate-fade z-20",children:Fe("div",{className:"p-4 flex my-auto flex-col w-full py-5 border shadow-inner max-w-[350px] mx-auto bg-white rounded-lg",children:[G("p",{children:" Are you sure you want to close the conversation?"}),Fe("div",{style:{gap:30,padding:"10px",...MM},children:[G("button",{type:"button",className:"bg-transparent hover:bg-slate-500 text-slate-700 hover:text-white py-1 px-2 border border-slate-700 hover:border-transparent rounded w-[48%]",onClick:()=>(async()=>{a&&(n&&e({conversation_id:a,rating:n,comment:i}),await t(ko({threadId:a})),t(Bw(!1)),t(na(!1)))})(),children:"Yes"}),G("button",{type:"button",className:"bg-transparent hover:bg-slate-500 text-slate-700 hover:text-white py-1 px-2 border border-slate-700 hover:border-transparent rounded w-[48%]",onClick:()=>{t(Bw(!1))},children:"No"})]}),G("div",{style:{padding:12,...MM},className:"mx-12",children:G(CM,{rating:n,setRating:r})}),n&&Fe("div",{className:"animate-fade",children:[G("label",{className:"block mb-2 text-sm font-medium text-gray-500",children:"Add your comment"}),G("textarea",{defaultValue:i,id:"message",rows:4,className:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Write your thoughts here...",onBlur:s=>o(s.target.value)})]})]})})},KK=()=>{const e=Dr(),t=Se($n);return Vl({mutationFn:n=>(async r=>{const{agentId:i,conversationId:o,text:a}=r;if(!i||!o)throw new Error("agentId or conversationId is missing");const s=`${pr.chatHost}/api/live_chat`,l={conversation_id:o,chatbot_id:i,sender_type:"user",text:a};return(await sn.post(s,l)).data})({...n,agentId:e==null?void 0:e.id,conversationId:t})})},RM=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):(64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},IM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=o>>2,h=(3&o)<<4|s>>4;let d=(15&s)<<2|c>>6,p=63&c;l||(p=64,a||(d=64)),r.push(n[u],n[h],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(RM(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(n){const r=[];let i=0,o=0;for(;i<n.length;){const a=n[i++];if(a<128)r[o++]=String.fromCharCode(a);else if(a>191&&a<224){const s=n[i++];r[o++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){const s=((7&a)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++])-65536;r[o++]=String.fromCharCode(55296+(s>>10)),r[o++]=String.fromCharCode(56320+(1023&s))}else{const s=n[i++],l=n[i++];r[o++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&l)}}return r.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||s==null||l==null)throw new QK;const c=o<<2|a>>4;if(r.push(c),s!==64){const u=a<<4&240|s>>2;if(r.push(u),l!==64){const h=s<<6&192|l;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hg=function(e){return function(t){const n=RM(t);return IM.encodeByteArray(n,!0)}(e).replace(/\./g,"")};/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const YK=()=>function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,XK=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&function(n){try{return IM.decodeString(n,!0)}catch{}return null}(e[1]);return t&&JSON.parse(t)},C2=()=>{try{return YK()||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||XK()}catch{return}},JK=e=>{const t=(i=>{var o,a;return(a=(o=C2())===null||o===void 0?void 0:o.emulatorHosts)===null||a===void 0?void 0:a[i]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},OM=()=>{var e;return(e=C2())===null||e===void 0?void 0:e.config};/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ZK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function eQ(){return!function(){var e;const t=(e=C2())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LM(){try{return typeof indexedDB=="object"}catch{return!1}}function DM(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}class $s extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dg.prototype.create)}}class dg{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?function(l,c){return l.replace(tQ,(u,h)=>{const d=c[h];return d!=null?String(d):`<${h}?>`})}(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new $s(i,s,r)}}const tQ=/\{\$([^}]+)}/g;function pg(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(PM(o)&&PM(a)){if(!pg(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PM(e){return e!==null&&typeof e=="object"}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const nQ=1e3,rQ=2,iQ=144e5,oQ=.5;function NM(e,t=nQ,n=rQ){const r=t*Math.pow(n,e),i=Math.round(oQ*r*(Math.random()-.5)*2);return Math.min(iQ,r+i)}/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gs(e){return e&&e._delegate?e._delegate:e}class Wa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const ic="[DEFAULT]";/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class aQ{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ZK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(n){return n.instantiationMode==="EAGER"}(t))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ic){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ic){return this.instances.has(t)}getOptions(t=ic){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&a.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sQ(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ic){return this.component?this.component.multipleInstances?t:ic:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sQ(e){return e===ic?void 0:e}class lQ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new aQ(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Wt||(Wt={}));const cQ={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},uQ=Wt.INFO,hQ={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},dQ=(e,t,...n)=>{if(!(t<e.logLevel)&&(new Date().toISOString(),!hQ[t]))throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let T2=class{constructor(e){this.name=e,this._logLevel=uQ,this._logHandler=dQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}};const pQ=(e,t)=>t.some(n=>e instanceof n);let BM,zM;const FM=new WeakMap,M2=new WeakMap,UM=new WeakMap,R2=new WeakMap,I2=new WeakMap;let O2={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return M2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UM.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&(t==="done"||t==="store")||t in e};function fQ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zM||(zM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(L2(this),t),Ws(FM.get(this))}:function(...t){return Ws(e.apply(L2(this),t))}:function(t,...n){const r=e.call(L2(this),t,...n);return UM.set(r,t.sort?t.sort():[t]),Ws(r)}}function mQ(e){return typeof e=="function"?fQ(e):(e instanceof IDBTransaction&&function(t){if(M2.has(t))return;const n=new Promise((r,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),o()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});M2.set(t,n)}(e),pQ(e,BM||(BM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,O2):e)}function Ws(e){if(e instanceof IDBRequest)return function(n){const r=new Promise((i,o)=>{const a=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{i(Ws(n.result)),a()},l=()=>{o(n.error),a()};n.addEventListener("success",s),n.addEventListener("error",l)});return r.then(i=>{i instanceof IDBCursor&&FM.set(i,n)}).catch(()=>{}),I2.set(r,n),r}(e);if(R2.has(e))return R2.get(e);const t=mQ(e);return t!==e&&(R2.set(e,t),I2.set(t,e)),t}const L2=e=>I2.get(e);function jM(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Ws(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ws(a.result),l.oldVersion,l.newVersion,Ws(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const gQ=["get","getKey","getAll","getAllKeys","count"],vQ=["put","add","delete","clear"],D2=new Map;function VM(e,t){if(!(e instanceof IDBDatabase)||t in e||typeof t!="string")return;if(D2.get(t))return D2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=vQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gQ.includes(n))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return D2.set(t,o),o}(function(e){O2=e(O2)})(e=>({...e,get:(t,n,r)=>VM(t,n)||e.get(t,n,r),has:(t,n)=>!!VM(t,n)||e.has(t,n)}));/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class yQ{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const r=n.getComponent();return(r==null?void 0:r.type)==="VERSION"}(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}return null}).filter(t=>t).join(" ")}}const P2="@firebase/app",qM="0.10.5",oc=new T2("@firebase/app"),N2="[DEFAULT]",bQ={[P2]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},fg=new Map,wQ=new Map,B2=new Map;/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function HM(e,t){try{e.container.addComponent(t)}catch(n){oc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ks(e){const t=e.name;if(B2.has(t))return oc.debug(`There were multiple attempts to register component ${t}.`),!1;B2.set(t,e);for(const n of fg.values())HM(n,e);for(const n of wQ.values())HM(n,e);return!0}function dp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t);/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}const Qs=new dg("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class _Q{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $M(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:N2,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=OM()),!n)throw Qs.create("no-options");const o=fg.get(i);if(o){if(pg(n,o.options)&&pg(r,o.config))return o;throw Qs.create("duplicate-app",{appName:i})}const a=new lQ(i);for(const l of B2.values())a.addComponent(l);const s=new _Q(n,r,a);return fg.set(i,s),s}function GM(e=N2){const t=fg.get(e);if(!t&&e===N2&&OM())return $M();if(!t)throw Qs.create("no-app",{appName:e});return t}function da(e,t,n){var r;let i=(r=bQ[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];return o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void oc.warn(s.join(" "))}Ks(new Wa(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const xQ="firebase-heartbeat-database",kQ=1,pp="firebase-heartbeat-store";let z2=null;function WM(){return z2||(z2=jM(xQ,kQ,{upgrade:(e,t)=>{if(t===0)try{e.createObjectStore(pp)}catch{}}}).catch(e=>{throw Qs.create("idb-open",{originalErrorMessage:e.message})})),z2}async function KM(e,t){try{const n=(await WM()).transaction(pp,"readwrite");await n.objectStore(pp).put(t,QM(e)),await n.done}catch(n){if(n instanceof $s)oc.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oc.warn(r.message)}}}function QM(e){return`${e.name}!${e.options.appId}`}/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class SQ{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EQ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YM();if((((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)!=null||(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)!=null))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some(o=>o.date===i))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YM(),{heartbeatsToSend:r,unsentEntries:i}=function(a,s=1024){const l=[];let c=a.slice();for(const u of a){const h=l.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),XM(l)>s){h.dates.pop();break}}else if(l.push({agent:u.agent,dates:[u.date]}),XM(l)>s){l.pop();break}c=c.slice(1)}return{heartbeatsToSend:l,unsentEntries:c}}(this._heartbeatsCache.heartbeats),o=hg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function YM(){return new Date().toISOString().substring(0,10)}class EQ{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!LM()&&DM().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(n){try{const r=(await WM()).transaction(pp),i=await r.objectStore(pp).get(QM(n));return await r.done,i}catch(r){if(r instanceof $s)oc.warn(r.message);else{const i=Qs.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});oc.warn(i.message)}}}(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return KM(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return KM(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}}}function XM(e){return hg(JSON.stringify({version:2,heartbeats:e})).length}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(function(e){Ks(new Wa("platform-logger",t=>new yQ(t),"PRIVATE")),Ks(new Wa("heartbeat",t=>new SQ(t),"PRIVATE")),da(P2,qM,e),da(P2,qM,"esm2017"),da("fire-js","")})("");const JM="@firebase/installations",F2="0.6.7",ZM=1e4,eR=`w:${F2}`,tR="FIS_v2",AQ="https://firebaseinstallations.googleapis.com/v1",CQ=36e5,ac=new dg("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function nR(e){return e instanceof $s&&e.code.includes("request-failed")}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function rR({projectId:e}){return`${AQ}/projects/${e}/installations`}function iR(e){return{token:e.token,requestStatus:2,expiresIn:MQ(e.expiresIn),creationTime:Date.now()}}async function oR(e,t){const n=(await t.json()).error;return ac.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function aR({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function TQ(e,{refreshToken:t}){const n=aR(e);return n.append("Authorization",function(r){return`${tR} ${r}`}(t)),n}async function sR(e){const t=await e();return t.status>=500&&t.status<600?e():t}function MQ(e){return Number(e.replace("s","000"))}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function lR(e){return new Promise(t=>{setTimeout(t,e)})}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const RQ=/^[cdef][\w-]{21}$/,U2="";function IQ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(n){return function(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(e);return RQ.test(t)?t:U2}catch{return U2}}function mg(e){return`${e.appName}!${e.appId}`}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const cR=new Map;function uR(e,t){const n=mg(e);hR(n,t),function(r,i){const o=(!sc&&"BroadcastChannel"in self&&(sc=new BroadcastChannel("[Firebase] FID Change"),sc.onmessage=a=>{hR(a.data.key,a.data.fid)}),sc);o&&o.postMessage({key:r,fid:i}),cR.size===0&&sc&&(sc.close(),sc=null)}(n,t)}function hR(e,t){const n=cR.get(e);if(n)for(const r of n)r(t)}let sc=null;/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const OQ="firebase-installations-database",LQ=1,lc="firebase-installations-store";let j2=null;function V2(){return j2||(j2=jM(OQ,LQ,{upgrade:(e,t)=>{t===0&&e.createObjectStore(lc)}})),j2}async function gg(e,t){const n=mg(e),r=(await V2()).transaction(lc,"readwrite"),i=r.objectStore(lc),o=await i.get(n);return await i.put(t,n),await r.done,(!o||o.fid!==t.fid)&&uR(e,t.fid),t}async function dR(e){const t=mg(e),n=(await V2()).transaction(lc,"readwrite");await n.objectStore(lc).delete(t),await n.done}async function vg(e,t){const n=mg(e),r=(await V2()).transaction(lc,"readwrite"),i=r.objectStore(lc),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&uR(e,a.fid),a;/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}async function q2(e){let t;const n=await vg(e.appConfig,r=>{const i=function(a){const s=a||{fid:IQ(),registrationStatus:0};return fR(s)}(r),o=function(a,s){if(s.registrationStatus===0){if(!navigator.onLine)return{installationEntry:s,registrationPromise:Promise.reject(ac.create("app-offline"))};const l={fid:s.fid,registrationStatus:1,registrationTime:Date.now()},c=async function(u,h){try{const d=await async function({appConfig:p,heartbeatServiceProvider:f},{fid:m}){const b=rR(p),v=aR(p),_=f.getImmediate({optional:!0});if(_){const M=await _.getHeartbeatsHeader();M&&v.append("x-firebase-client",M)}const w={fid:m,authVersion:tR,appId:p.appId,sdkVersion:eR},x={method:"POST",headers:v,body:JSON.stringify(w)},E=await sR(()=>fetch(b,x));if(E.ok){const M=await E.json();return{fid:M.fid||m,registrationStatus:2,refreshToken:M.refreshToken,authToken:iR(M.authToken)}}throw await oR("Create Installation",E)}(u,h);return gg(u.appConfig,d)}catch(d){throw nR(d)&&d.customData.serverCode===409?await dR(u.appConfig):await gg(u.appConfig,{fid:h.fid,registrationStatus:0}),d}}(a,l);return{installationEntry:l,registrationPromise:c}}return s.registrationStatus===1?{installationEntry:s,registrationPromise:DQ(a)}:{installationEntry:s}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===U2?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function DQ(e){let t=await pR(e.appConfig);for(;t.registrationStatus===1;)await lR(100),t=await pR(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await q2(e);return r||n}return t}function pR(e){return vg(e,t=>{if(!t)throw ac.create("installation-not-found");return fR(t)})}function fR(e){return function(t){return t.registrationStatus===1&&t.registrationTime+ZM<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}async function PQ({appConfig:e,heartbeatServiceProvider:t},n){const r=function(c,{fid:u}){return`${rR(c)}/${u}/authTokens:generate`}(e,n),i=TQ(e,n),o=t.getImmediate({optional:!0});if(o){const c=await o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={installation:{sdkVersion:eR,appId:e.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await sR(()=>fetch(r,s));if(l.ok)return iR(await l.json());throw await oR("Generate Auth Token",l)}async function H2(e,t=!1){let n;const r=await vg(e.appConfig,i=>{if(!gR(i))throw ac.create("not-registered");const o=i.authToken;if(!t&&function(a){return a.requestStatus===2&&!function(s){const l=Date.now();return l<s.creationTime||s.creationTime+s.expiresIn<l+CQ}(a)}(o))return i;if(o.requestStatus===1)return n=async function(a,s){let l=await mR(a.appConfig);for(;l.authToken.requestStatus===1;)await lR(100),l=await mR(a.appConfig);const c=l.authToken;return c.requestStatus===0?H2(a,s):c}(e,t),i;{if(!navigator.onLine)throw ac.create("app-offline");const a=function(s){const l={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:l})}(i);return n=async function(s,l){try{const c=await PQ(s,l),u=Object.assign(Object.assign({},l),{authToken:c});return await gg(s.appConfig,u),c}catch(c){if(!nR(c)||c.customData.serverCode!==401&&c.customData.serverCode!==404){const u=Object.assign(Object.assign({},l),{authToken:{requestStatus:0}});await gg(s.appConfig,u)}else await dR(s.appConfig);throw c}}(e,a),a}});return n?await n:r.authToken}function mR(e){return vg(e,t=>{if(!gR(t))throw ac.create("not-registered");return function(n){return n.requestStatus===1&&n.requestTime+ZM<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function gR(e){return e!==void 0&&e.registrationStatus===2}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function NQ(e,t=!1){const n=e;return await async function(r){const{registrationPromise:i}=await q2(r);i&&await i}(n),(await H2(n,t)).token}function $2(e){return ac.create("missing-app-config-values",{valueName:e})}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const vR="installations",BQ=e=>{const t=e.getProvider("app").getImmediate(),n=function(r){if(!r||!r.options)throw $2("App Configuration");if(!r.name)throw $2("App Name");const i=["projectId","apiKey","appId"];for(const o of i)if(!r.options[o])throw $2(o);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:dp(t,"heartbeat"),_delete:()=>Promise.resolve()}},zQ=e=>{const t=dp(e.getProvider("app").getImmediate(),vR).getImmediate();return{getId:()=>async function(n){const r=n,{installationEntry:i,registrationPromise:o}=await q2(r);return o?o.catch(console.error):H2(r).catch(console.error),i.fid}(t),getToken:n=>NQ(t,n)}};Ks(new Wa(vR,BQ,"PUBLIC")),Ks(new Wa("installations-internal",zQ,"PRIVATE")),da(JM,F2),da(JM,F2,"esm2017");/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const yg="analytics",FQ="firebase_id",UQ="origin",jQ=6e4,VQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G2="https://www.googletagmanager.com/gtag/js",yi=new T2("@firebase/analytics"),Vi=new dg("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qQ(e){if(!e.startsWith(G2)){const t=Vi.create("invalid-gtag-resource",{gtagURL:e});return yi.warn(t.message),""}return e}function yR(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function HQ(e,t){const n=function(o,a){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(o,a)),s}("firebase-js-sdk-policy",{createScriptURL:qQ}),r=document.createElement("script"),i=`${G2}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function $Q(e,t,n,r){return async function(i,...o){try{if(i==="event"){const[a,s]=o;await async function(l,c,u,h,d){try{let p=[];if(d&&d.send_to){let f=d.send_to;Array.isArray(f)||(f=[f]);const m=await yR(u);for(const b of f){const v=m.find(w=>w.measurementId===b),_=v&&c[v.appId];if(!_){p=[];break}p.push(_)}}p.length===0&&(p=Object.values(c)),await Promise.all(p),l("event",h,d||{})}catch(p){yi.error(p)}}(e,t,n,a,s)}else if(i==="config"){const[a,s]=o;await async function(l,c,u,h,d,p){const f=h[d];try{if(f)await c[f];else{const m=(await yR(u)).find(b=>b.measurementId===d);m&&await c[m.appId]}}catch(m){yi.error(m)}l("config",d,p)}(e,t,n,r,a,s)}else if(i==="consent"){const[a,s]=o;e("consent",a,s)}else if(i==="get"){const[a,s,l]=o;e("get",a,s,l)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){yi.error(a)}}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const GQ=30,bR=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function WQ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function KQ(e,t=bR,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Vi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Vi.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new QQ;return setTimeout(async()=>{s.abort()},jQ),wR({appId:r,apiKey:i,measurementId:o},a,s,t)}async function wR(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=bR){var o;const{appId:a,measurementId:s}=e;try{await function(l,c){return new Promise((u,h)=>{const d=Math.max(c-Date.now(),0),p=setTimeout(u,d);l.addEventListener(()=>{clearTimeout(p),h(Vi.create("fetch-throttle",{throttleEndTimeMillis:c}))})})}(r,t)}catch(l){if(s)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await async function(c){var u;const{appId:h,apiKey:d}=c,p={method:"GET",headers:WQ(d)},f=VQ.replace("{app-id}",h),m=await fetch(f,p);if(m.status!==200&&m.status!==304){let b="";try{const v=await m.json();(u=v.error)!==null&&u!==void 0&&u.message&&(b=v.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:m.status,responseMessage:b})}return m.json()}(e);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!function(d){if(!(d instanceof $s&&d.customData))return!1;const p=Number(d.customData.httpStatus);return p===429||p===500||p===503||p===504}(c)){if(i.deleteThrottleMetadata(a),s)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)===null||o===void 0?void 0:o.httpStatus)===503?NM(n,i.intervalMillis,GQ):NM(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,h),yi.debug(`Calling attemptFetch again in ${u} millis`),wR(e,h,r,i)}}class QQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function YQ(e,t,n,r,i,o,a){var s;const l=KQ(e);l.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>yi.error(p)),t.push(l);const c=async function(){if(!LM())return yi.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await DM()}catch(p){return yi.warn(Vi.create("indexeddb-unavailable",{errorInfo:p==null?void 0:p.toString()}).message),!1}return!0}().then(p=>{if(p)return r.getId()}),[u,h]=await Promise.all([l,c]);(function(p){const f=window.document.getElementsByTagName("script");for(const m of Object.values(f))if(m.src&&m.src.includes(G2)&&m.src.includes(p))return m;return null})(o)||HQ(o,u.measurementId),i("js",new Date);const d=(s=a==null?void 0:a.config)!==null&&s!==void 0?s:{};return d[UQ]="firebase",d.update=!0,h!=null&&(d[FQ]=h),i("config",u.measurementId,d),u.measurementId;/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class XQ{constructor(t){this.app=t}_delete(){return delete fp[this.app.options.appId],Promise.resolve()}}let fp={},_R=[];const xR={};let kR,SR,W2="dataLayer",JQ="gtag",ER=!1;function ZQ(){const e=[];if(function(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}()&&e.push("This is a browser extension environment."),!(typeof navigator>"u"||!navigator.cookieEnabled)||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vi.create("invalid-analytics-context",{errorInfo:t});yi.warn(n.message)}}function eY(e,t,n){ZQ();const r=e.options.appId;if(!r)throw Vi.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Vi.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(fp[r]!=null)throw Vi.create("already-exists",{id:r});if(!ER){(function(a){let s=[];Array.isArray(window[a])?s=window[a]:window[a]=s})(W2);const{wrappedGtag:i,gtagCore:o}=function(a,s,l,c,u){let h=function(...d){window[c].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=$Q(h,a,s,l),{gtagCore:h,wrappedGtag:window[u]}}(fp,_R,xR,W2,JQ);SR=i,kR=o,ER=!0}return fp[r]=YQ(e,_R,xR,t,kR,W2,n),new XQ(e)}function tY(e=GM()){const t=dp(e=Gs(e),yg);return t.isInitialized()?t.getImmediate():function(n,r={}){const i=dp(n,yg);if(i.isInitialized()){const o=i.getImmediate();if(pg(r,i.getOptions()))return o;throw Vi.create("already-initialized")}return i.initialize({options:r})}(e)}function nY(e,t,n,r){e=Gs(e),async function(i,o,a,s,l){if(l&&l.global)i("event",a,s);else{const c=await o;i("event",a,Object.assign(Object.assign({},s),{send_to:c}))}}(SR,fp[e.app.options.appId],t,n,r).catch(i=>yi.error(i))}const AR="@firebase/analytics",CR="0.10.4";Ks(new Wa(yg,(e,{options:t})=>eY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Ks(new Wa("analytics-internal",function(e){try{const t=e.getProvider(yg).getImmediate();return{logEvent:(n,r,i)=>nY(t,n,r,i)}}catch(t){throw Vi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),da(AR,CR),da(AR,CR,"esm2017");var cc,TR,MR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
    Copyright The Closure Library Authors.
    SPDX-License-Identifier: Apache-2.0
    */(function(){var e;/** @license
      
       Copyright The Closure Library Authors.
       SPDX-License-Identifier: Apache-2.0
      */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(w,x,E){E||(E=0);var M=Array(16);if(typeof x=="string")for(var T=0;16>T;++T)M[T]=x.charCodeAt(E++)|x.charCodeAt(E++)<<8|x.charCodeAt(E++)<<16|x.charCodeAt(E++)<<24;else for(T=0;16>T;++T)M[T]=x[E++]|x[E++]<<8|x[E++]<<16|x[E++]<<24;x=w.g[0],E=w.g[1],T=w.g[2];var S=w.g[3],C=x+(S^E&(T^S))+M[0]+3614090360&4294967295;C=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=(E=(T=(S=(x=E+(C<<7&4294967295|C>>>25))+((C=S+(T^x&(E^T))+M[1]+3905402710&4294967295)<<12&4294967295|C>>>20))+((C=T+(E^S&(x^E))+M[2]+606105819&4294967295)<<17&4294967295|C>>>15))+((C=E+(x^T&(S^x))+M[3]+3250441966&4294967295)<<22&4294967295|C>>>10))+((C=x+(S^E&(T^S))+M[4]+4118548399&4294967295)<<7&4294967295|C>>>25))+((C=S+(T^x&(E^T))+M[5]+1200080426&4294967295)<<12&4294967295|C>>>20))+((C=T+(E^S&(x^E))+M[6]+2821735955&4294967295)<<17&4294967295|C>>>15))+((C=E+(x^T&(S^x))+M[7]+4249261313&4294967295)<<22&4294967295|C>>>10))+((C=x+(S^E&(T^S))+M[8]+1770035416&4294967295)<<7&4294967295|C>>>25))+((C=S+(T^x&(E^T))+M[9]+2336552879&4294967295)<<12&4294967295|C>>>20))+((C=T+(E^S&(x^E))+M[10]+4294925233&4294967295)<<17&4294967295|C>>>15))+((C=E+(x^T&(S^x))+M[11]+2304563134&4294967295)<<22&4294967295|C>>>10))+((C=x+(S^E&(T^S))+M[12]+1804603682&4294967295)<<7&4294967295|C>>>25))+((C=S+(T^x&(E^T))+M[13]+4254626195&4294967295)<<12&4294967295|C>>>20))+((C=T+(E^S&(x^E))+M[14]+2792965006&4294967295)<<17&4294967295|C>>>15))+((C=E+(x^T&(S^x))+M[15]+1236535329&4294967295)<<22&4294967295|C>>>10))+((C=x+(T^S&(E^T))+M[1]+4129170786&4294967295)<<5&4294967295|C>>>27))+((C=S+(E^T&(x^E))+M[6]+3225465664&4294967295)<<9&4294967295|C>>>23))+((C=T+(x^E&(S^x))+M[11]+643717713&4294967295)<<14&4294967295|C>>>18))+((C=E+(S^x&(T^S))+M[0]+3921069994&4294967295)<<20&4294967295|C>>>12))+((C=x+(T^S&(E^T))+M[5]+3593408605&4294967295)<<5&4294967295|C>>>27))+((C=S+(E^T&(x^E))+M[10]+38016083&4294967295)<<9&4294967295|C>>>23))+((C=T+(x^E&(S^x))+M[15]+3634488961&4294967295)<<14&4294967295|C>>>18))+((C=E+(S^x&(T^S))+M[4]+3889429448&4294967295)<<20&4294967295|C>>>12))+((C=x+(T^S&(E^T))+M[9]+568446438&4294967295)<<5&4294967295|C>>>27))+((C=S+(E^T&(x^E))+M[14]+3275163606&4294967295)<<9&4294967295|C>>>23))+((C=T+(x^E&(S^x))+M[3]+4107603335&4294967295)<<14&4294967295|C>>>18))+((C=E+(S^x&(T^S))+M[8]+1163531501&4294967295)<<20&4294967295|C>>>12))+((C=x+(T^S&(E^T))+M[13]+2850285829&4294967295)<<5&4294967295|C>>>27))+((C=S+(E^T&(x^E))+M[2]+4243563512&4294967295)<<9&4294967295|C>>>23))+((C=T+(x^E&(S^x))+M[7]+1735328473&4294967295)<<14&4294967295|C>>>18))+((C=E+(S^x&(T^S))+M[12]+2368359562&4294967295)<<20&4294967295|C>>>12))+((C=x+(E^T^S)+M[5]+4294588738&4294967295)<<4&4294967295|C>>>28))+((C=S+(x^E^T)+M[8]+2272392833&4294967295)<<11&4294967295|C>>>21))+((C=T+(S^x^E)+M[11]+1839030562&4294967295)<<16&4294967295|C>>>16))+((C=E+(T^S^x)+M[14]+4259657740&4294967295)<<23&4294967295|C>>>9))+((C=x+(E^T^S)+M[1]+2763975236&4294967295)<<4&4294967295|C>>>28))+((C=S+(x^E^T)+M[4]+1272893353&4294967295)<<11&4294967295|C>>>21))+((C=T+(S^x^E)+M[7]+4139469664&4294967295)<<16&4294967295|C>>>16))+((C=E+(T^S^x)+M[10]+3200236656&4294967295)<<23&4294967295|C>>>9))+((C=x+(E^T^S)+M[13]+681279174&4294967295)<<4&4294967295|C>>>28))+((C=S+(x^E^T)+M[0]+3936430074&4294967295)<<11&4294967295|C>>>21))+((C=T+(S^x^E)+M[3]+3572445317&4294967295)<<16&4294967295|C>>>16))+((C=E+(T^S^x)+M[6]+76029189&4294967295)<<23&4294967295|C>>>9))+((C=x+(E^T^S)+M[9]+3654602809&4294967295)<<4&4294967295|C>>>28))+((C=S+(x^E^T)+M[12]+3873151461&4294967295)<<11&4294967295|C>>>21))+((C=T+(S^x^E)+M[15]+530742520&4294967295)<<16&4294967295|C>>>16))+((C=E+(T^S^x)+M[2]+3299628645&4294967295)<<23&4294967295|C>>>9))+((C=x+(T^(E|~S))+M[0]+4096336452&4294967295)<<6&4294967295|C>>>26))+((C=S+(E^(x|~T))+M[7]+1126891415&4294967295)<<10&4294967295|C>>>22))+((C=T+(x^(S|~E))+M[14]+2878612391&4294967295)<<15&4294967295|C>>>17))+((C=E+(S^(T|~x))+M[5]+4237533241&4294967295)<<21&4294967295|C>>>11))+((C=x+(T^(E|~S))+M[12]+1700485571&4294967295)<<6&4294967295|C>>>26))+((C=S+(E^(x|~T))+M[3]+2399980690&4294967295)<<10&4294967295|C>>>22))+((C=T+(x^(S|~E))+M[10]+4293915773&4294967295)<<15&4294967295|C>>>17))+((C=E+(S^(T|~x))+M[1]+2240044497&4294967295)<<21&4294967295|C>>>11))+((C=x+(T^(E|~S))+M[8]+1873313359&4294967295)<<6&4294967295|C>>>26))+((C=S+(E^(x|~T))+M[15]+4264355552&4294967295)<<10&4294967295|C>>>22))+((C=T+(x^(S|~E))+M[6]+2734768916&4294967295)<<15&4294967295|C>>>17))+((C=E+(S^(T|~x))+M[13]+1309151649&4294967295)<<21&4294967295|C>>>11))+((S=(x=E+((C=x+(T^(E|~S))+M[4]+4149444226&4294967295)<<6&4294967295|C>>>26))+((C=S+(E^(x|~T))+M[11]+3174756917&4294967295)<<10&4294967295|C>>>22))^((T=S+((C=T+(x^(S|~E))+M[2]+718787259&4294967295)<<15&4294967295|C>>>17))|~x))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+x&4294967295,w.g[1]=w.g[1]+(T+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+S&4294967295}function r(w,x){this.h=x;for(var E=[],M=!0,T=w.length-1;0<=T;T--){var S=0|w[T];M&&S==x||(E[T]=S,M=!1)}this.g=E}(function(w,x){function E(){}E.prototype=x.prototype,w.D=x.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(M,T,S){for(var C=Array(arguments.length-2),P=2;P<arguments.length;P++)C[P-2]=arguments[P];return x.prototype[T].apply(M,C)}})(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(w,x){x===void 0&&(x=w.length);for(var E=x-this.blockSize,M=this.B,T=this.h,S=0;S<x;){if(T==0)for(;S<=E;)n(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<x;)if(M[T++]=w.charCodeAt(S++),T==this.blockSize){n(this,M),T=0;break}}else for(;S<x;)if(M[T++]=w[S++],T==this.blockSize){n(this,M),T=0;break}}this.h=T,this.o+=x},t.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var x=1;x<w.length-8;++x)w[x]=0;var E=8*this.o;for(x=w.length-8;x<w.length;++x)w[x]=255&E,E/=256;for(this.u(w),w=Array(16),x=E=0;4>x;++x)for(var M=0;32>M;M+=8)w[E++]=this.g[x]>>>M&255;return w};var i={};function o(w){return-128<=w&&128>w?function(x,E){var M=i;return Object.prototype.hasOwnProperty.call(M,x)?M[x]:M[x]=E(x)}(w,function(x){return new r([0|x],0>x?-1:0)}):new r([0|w],0>w?-1:0)}function a(w){if(isNaN(w)||!isFinite(w))return s;if(0>w)return d(a(-w));for(var x=[],E=1,M=0;w>=E;M++)x[M]=w/E|0,E*=4294967296;return new r(x,0)}var s=o(0),l=o(1),c=o(16777216);function u(w){if(w.h!=0)return!1;for(var x=0;x<w.g.length;x++)if(w.g[x]!=0)return!1;return!0}function h(w){return w.h==-1}function d(w){for(var x=w.g.length,E=[],M=0;M<x;M++)E[M]=~w.g[M];return new r(E,~w.h).add(l)}function p(w,x){return w.add(d(x))}function f(w,x){for(;(65535&w[x])!=w[x];)w[x+1]+=w[x]>>>16,w[x]&=65535,x++}function m(w,x){this.g=w,this.h=x}function b(w,x){if(u(x))throw Error("division by zero");if(u(w))return new m(s,s);if(h(w))return x=b(d(w),x),new m(d(x.g),d(x.h));if(h(x))return x=b(w,d(x)),new m(d(x.g),x.h);if(30<w.g.length){if(h(w)||h(x))throw Error("slowDivide_ only works with positive integers.");for(var E=l,M=x;0>=M.l(w);)E=v(E),M=v(M);var T=_(E,1),S=_(M,1);for(M=_(M,2),E=_(E,2);!u(M);){var C=S.add(M);0>=C.l(w)&&(T=T.add(E),S=C),M=_(M,1),E=_(E,1)}return x=p(w,T.j(x)),new m(T,x)}for(T=s;0<=w.l(x);){for(E=Math.max(1,Math.floor(w.m()/x.m())),M=48>=(M=Math.ceil(Math.log(E)/Math.LN2))?1:Math.pow(2,M-48),C=(S=a(E)).j(x);h(C)||0<C.l(w);)C=(S=a(E-=M)).j(x);u(S)&&(S=l),T=T.add(S),w=p(w,C)}return new m(T,w)}function v(w){for(var x=w.g.length+1,E=[],M=0;M<x;M++)E[M]=w.i(M)<<1|w.i(M-1)>>>31;return new r(E,w.h)}function _(w,x){var E=x>>5;x%=32;for(var M=w.g.length-E,T=[],S=0;S<M;S++)T[S]=0<x?w.i(S+E)>>>x|w.i(S+E+1)<<32-x:w.i(S+E);return new r(T,w.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var w=0,x=1,E=0;E<this.g.length;E++){var M=this.i(E);w+=(0<=M?M:4294967296+M)*x,x*=4294967296}return w},e.toString=function(w){if(2>(w=w||10)||36<w)throw Error("radix out of range: "+w);if(u(this))return"0";if(h(this))return"-"+d(this).toString(w);for(var x=a(Math.pow(w,6)),E=this,M="";;){var T=b(E,x).g,S=((0<(E=p(E,T.j(x))).g.length?E.g[0]:E.h)>>>0).toString(w);if(u(E=T))return S+M;for(;6>S.length;)S="0"+S;M=S+M}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h},e.l=function(w){return h(w=p(this,w))?-1:u(w)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],M=0,T=0;T<=x;T++){var S=M+(65535&this.i(T))+(65535&w.i(T)),C=(S>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);M=C>>>16,S&=65535,C&=65535,E[T]=C<<16|S}return new r(E,-2147483648&E[E.length-1]?-1:0)},e.j=function(w){if(u(this)||u(w))return s;if(h(this))return h(w)?d(this).j(d(w)):d(d(this).j(w));if(h(w))return d(this.j(d(w)));if(0>this.l(c)&&0>w.l(c))return a(this.m()*w.m());for(var x=this.g.length+w.g.length,E=[],M=0;M<2*x;M++)E[M]=0;for(M=0;M<this.g.length;M++)for(var T=0;T<w.g.length;T++){var S=this.i(M)>>>16,C=65535&this.i(M),P=w.i(T)>>>16,U=65535&w.i(T);E[2*M+2*T]+=C*U,f(E,2*M+2*T),E[2*M+2*T+1]+=S*U,f(E,2*M+2*T+1),E[2*M+2*T+1]+=C*P,f(E,2*M+2*T+1),E[2*M+2*T+2]+=S*P,f(E,2*M+2*T+2)}for(M=0;M<x;M++)E[M]=E[2*M+1]<<16|E[2*M];for(M=x;M<2*x;M++)E[M]=0;return new r(E,0)},e.A=function(w){return b(this,w).h},e.and=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],M=0;M<x;M++)E[M]=this.i(M)&w.i(M);return new r(E,this.h&w.h)},e.or=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],M=0;M<x;M++)E[M]=this.i(M)|w.i(M);return new r(E,this.h|w.h)},e.xor=function(w){for(var x=Math.max(this.g.length,w.g.length),E=[],M=0;M<x;M++)E[M]=this.i(M)^w.i(M);return new r(E,this.h^w.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,TR=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function w(x,E){if(x.length==0)throw Error("number format error: empty string");if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return d(w(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=a(Math.pow(E,8)),T=s,S=0;S<x.length;S+=8){var C=Math.min(8,x.length-S),P=parseInt(x.substring(S,S+C),E);8>C?(C=a(Math.pow(E,C)),T=T.j(C).add(a(P))):T=(T=T.j(M)).add(a(P))}return T},cc=r}).apply(typeof MR<"u"?MR:typeof self<"u"?self:typeof window<"u"?window:{});var RR,IR,mp,OR,bg,K2,LR,DR,PR,wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
    Copyright The Closure Library Authors.
    SPDX-License-Identifier: Apache-2.0
    */(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,L,j){return g==Array.prototype||g==Object.prototype||(g[L]=j.value),g},n=function(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof wg=="object"&&wg];for(var L=0;L<g.length;++L){var j=g[L];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}(this);(function(g,L){if(L)e:{var j=n;g=g.split(".");for(var Q=0;Q<g.length-1;Q++){var ge=g[Q];if(!(ge in j))break e;j=j[ge]}(L=L(Q=j[g=g[g.length-1]]))!=Q&&L!=null&&t(j,g,{configurable:!0,writable:!0,value:L})}})("Array.prototype.values",function(g){return g||function(){return function(L,j){L instanceof String&&(L+="");var Q=0,ge=!1,ve={next:function(){if(!ge&&Q<L.length){var we=Q++;return{value:j(we,L[we]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}(this,function(L,j){return j})}});/** @license
      
       Copyright The Closure Library Authors.
       SPDX-License-Identifier: Apache-2.0
      */var r=r||{},i=this||self;function o(g){var L=typeof g;return(L=L!="object"?L:g?Array.isArray(g)?"array":L:"null")=="array"||L=="object"&&typeof g.length=="number"}function a(g){var L=typeof g;return L=="object"&&g!=null||L=="function"}function s(g,L,j){return g.call.apply(g.bind,arguments)}function l(g,L,j){if(!g)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,Q),g.apply(L,ge)}}return function(){return g.apply(L,arguments)}}function c(g,L,j){return(c=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?s:l).apply(null,arguments)}function u(g,L){var j=Array.prototype.slice.call(arguments,1);return function(){var Q=j.slice();return Q.push.apply(Q,arguments),g.apply(this,Q)}}function h(g,L){function j(){}j.prototype=L.prototype,g.aa=L.prototype,g.prototype=new j,g.prototype.constructor=g,g.Qb=function(Q,ge,ve){for(var we=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)we[gt-2]=arguments[gt];return L.prototype[ge].apply(Q,we)}}function d(g){const L=g.length;if(0<L){const j=Array(L);for(let Q=0;Q<L;Q++)j[Q]=g[Q];return j}return[]}function p(g,L){for(let j=1;j<arguments.length;j++){const Q=arguments[j];if(o(Q)){const ge=g.length||0,ve=Q.length||0;g.length=ge+ve;for(let we=0;we<ve;we++)g[ge+we]=Q[we]}else g.push(Q)}}function f(g){return/^[\s\xa0]*$/.test(g)}function m(){var g=i.navigator;return g&&(g=g.userAgent)?g:""}function b(g){return b[" "](g),g}b[" "]=function(){};var v=!(m().indexOf("Gecko")==-1||m().toLowerCase().indexOf("webkit")!=-1&&m().indexOf("Edge")==-1||m().indexOf("Trident")!=-1||m().indexOf("MSIE")!=-1||m().indexOf("Edge")!=-1);function _(g,L,j){for(const Q in g)L.call(j,g[Q],Q,g)}function w(g){const L={};for(const j in g)L[j]=g[j];return L}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(g,L){let j,Q;for(let ge=1;ge<arguments.length;ge++){for(j in Q=arguments[ge],Q)g[j]=Q[j];for(let ve=0;ve<x.length;ve++)j=x[ve],Object.prototype.hasOwnProperty.call(Q,j)&&(g[j]=Q[j])}}function M(g){var L=1;g=g.split(":");const j=[];for(;0<L&&g.length;)j.push(g.shift()),L--;return g.length&&j.push(g.join(":")),j}function T(g){i.setTimeout(()=>{throw g},0)}function S(){var g=te;let L=null;return g.g&&(L=g.g,g.g=g.g.next,g.g||(g.h=null),L.next=null),L}var C=new class{constructor(g,L){this.i=g,this.j=L,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}(()=>new P,g=>g.reset());class P{constructor(){this.next=this.g=this.h=null}set(L,j){this.h=L,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let U,W=!1,te=new class{constructor(){this.h=this.g=null}add(g,L){const j=C.get();j.set(g,L),this.h?this.h.next=j:this.g=j,this.h=j}},ne=()=>{const g=i.Promise.resolve(void 0);U=()=>{g.then(ae)}};var ae=()=>{for(var g;g=S();){try{g.h.call(g.g)}catch(j){T(j)}var L=C;L.j(g),100>L.h&&(L.h++,g.next=L.g,L.g=g)}W=!1};function he(){this.s=this.s,this.C=this.C}function fe(g,L){this.type=g,this.g=this.target=L,this.defaultPrevented=!1}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},fe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var g=!1,L=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};i.addEventListener("test",j,L),i.removeEventListener("test",j,L)}catch{}return g}();function N(g,L){if(fe.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var j=this.type=g.type,Q=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=L,L=g.relatedTarget){if(v){e:{try{b(L.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(L=null)}}else j=="mouseover"?L=g.fromElement:j=="mouseout"&&(L=g.toElement);this.relatedTarget=L,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:H[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&N.aa.h.call(this)}}h(N,fe);var H={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),K=0;function ye(g,L,j,Q,ge){this.listener=g,this.proxy=null,this.src=L,this.type=j,this.capture=!!Q,this.ha=ge,this.key=++K,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Pe(g){this.src=g,this.g={},this.h=0}function Ue(g,L){var j=L.type;if(j in g.g){var Q,ge=g.g[j],ve=Array.prototype.indexOf.call(ge,L,void 0);(Q=0<=ve)&&Array.prototype.splice.call(ge,ve,1),Q&&(me(L),g.g[j].length==0&&(delete g.g[j],g.h--))}}function de(g,L,j,Q){for(var ge=0;ge<g.length;++ge){var ve=g[ge];if(!ve.da&&ve.listener==L&&ve.capture==!!j&&ve.ha==Q)return ge}return-1}Pe.prototype.add=function(g,L,j,Q,ge){var ve=g.toString();(g=this.g[ve])||(g=this.g[ve]=[],this.h++);var we=de(g,L,Q,ge);return-1<we?(L=g[we],j||(L.fa=!1)):((L=new ye(L,this.src,ve,!!Q,ge)).fa=j,g.push(L)),L};var be="closure_lm_"+(1e6*Math.random()|0),Le={};function Ve(g,L,j,Q,ge){if(Array.isArray(L)){for(var ve=0;ve<L.length;ve++)Ve(g,L[ve],j,Q,ge);return null}return j=bt(j),g&&g[F]?g.K(L,j,a(Q)?!!Q.capture:!!Q,ge):function(we,gt,ut,wt,yn,ii){if(!gt)throw Error("Invalid event type");var dn=a(yn)?!!yn.capture:!!yn,Un=Ot(we);if(Un||(we[be]=Un=new Pe(we)),ut=Un.add(gt,ut,wt,dn,ii),ut.proxy)return ut;if(wt=function(){function ir(_i){return jn.call(ir.src,ir.listener,_i)}const jn=Et;return ir}(),ut.proxy=wt,wt.src=we,wt.listener=ut,we.addEventListener)le||(yn=dn),yn===void 0&&(yn=!1),we.addEventListener(gt.toString(),wt,yn);else if(we.attachEvent)we.attachEvent(Rt(gt.toString()),wt);else{if(!we.addListener||!we.removeListener)throw Error("addEventListener and attachEvent are unavailable.");we.addListener(wt)}return ut}(g,L,j,!1,Q,ge)}function He(g,L,j,Q,ge){if(Array.isArray(L))for(var ve=0;ve<L.length;ve++)He(g,L[ve],j,Q,ge);else Q=a(Q)?!!Q.capture:!!Q,j=bt(j),g&&g[F]?(g=g.i,(L=String(L).toString())in g.g&&-1<(j=de(ve=g.g[L],j,Q,ge))&&(me(ve[j]),Array.prototype.splice.call(ve,j,1),ve.length==0&&(delete g.g[L],g.h--))):g&&(g=Ot(g))&&(L=g.g[L.toString()],g=-1,L&&(g=de(L,j,Q,ge)),(j=-1<g?L[g]:null)&&st(j))}function st(g){if(typeof g!="number"&&g&&!g.da){var L=g.src;if(L&&L[F])Ue(L.i,g);else{var j=g.type,Q=g.proxy;L.removeEventListener?L.removeEventListener(j,Q,g.capture):L.detachEvent?L.detachEvent(Rt(j),Q):L.addListener&&L.removeListener&&L.removeListener(Q),(j=Ot(L))?(Ue(j,g),j.h==0&&(j.src=null,L[be]=null)):me(g)}}}function Rt(g){return g in Le?Le[g]:Le[g]="on"+g}function Et(g,L){if(g.da)g=!0;else{L=new N(L,this);var j=g.listener,Q=g.ha||g.src;g.fa&&st(g),g=j.call(Q,L)}return g}function Ot(g){return(g=g[be])instanceof Pe?g:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(g){return typeof g=="function"?g:(g[Kt]||(g[Kt]=function(L){return g.handleEvent(L)}),g[Kt])}function rt(){he.call(this),this.i=new Pe(this),this.M=this,this.F=null}function We(g,L){var j,Q=g.F;if(Q)for(j=[];Q;Q=Q.F)j.push(Q);if(g=g.M,Q=L.type||L,typeof L=="string")L=new fe(L,g);else if(L instanceof fe)L.target=L.target||g;else{var ge=L;E(L=new fe(Q,g),ge)}if(ge=!0,j)for(var ve=j.length-1;0<=ve;ve--){var we=L.g=j[ve];ge=nn(we,Q,!0,L)&&ge}if(ge=nn(we=L.g=g,Q,!0,L)&&ge,ge=nn(we,Q,!1,L)&&ge,j)for(ve=0;ve<j.length;ve++)ge=nn(we=L.g=j[ve],Q,!1,L)&&ge}function nn(g,L,j,Q){if(!(L=g.i.g[String(L)]))return!0;L=L.concat();for(var ge=!0,ve=0;ve<L.length;++ve){var we=L[ve];if(we&&!we.da&&we.capture==j){var gt=we.listener,ut=we.ha||we.src;we.fa&&Ue(g.i,we),ge=gt.call(ut,Q)!==!1&&ge}}return ge&&!Q.defaultPrevented}function rr(g,L,j){if(typeof g=="function")j&&(g=c(g,j));else{if(!g||typeof g.handleEvent!="function")throw Error("Invalid listener argument");g=c(g.handleEvent,g)}return 2147483647<Number(L)?-1:i.setTimeout(g,L||0)}function Lt(g){g.g=rr(()=>{g.g=null,g.i&&(g.i=!1,Lt(g))},g.l);const L=g.h;g.h=null,g.m.apply(null,L)}h(rt,he),rt.prototype[F]=!0,rt.prototype.removeEventListener=function(g,L,j,Q){He(this,g,L,j,Q)},rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var g,L=this.i;for(g in L.g){for(var j=L.g[g],Q=0;Q<j.length;Q++)me(j[Q]);delete L.g[g],L.h--}}this.F=null},rt.prototype.K=function(g,L,j,Q){return this.i.add(String(g),L,!1,j,Q)},rt.prototype.L=function(g,L,j,Q){return this.i.add(String(g),L,!0,j,Q)};class en extends he{constructor(L,j){super(),this.m=L,this.l=j,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(g){he.call(this),this.h=g,this.g={}}h(Be,he);var xn=[];function Er(g){_(g.g,function(L,j){this.g.hasOwnProperty(j)&&st(L)},g),g.g={}}Be.prototype.N=function(){Be.aa.N.call(this),Er(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=i.JSON.stringify,qp=i.JSON.parse,ke=class{stringify(g){return i.JSON.stringify(g,void 0)}parse(g){return i.JSON.parse(g,void 0)}};function ot(){}function yt(g){return g.h||(g.h=g.i())}function rn(){}ot.prototype.h=null;var Vt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){fe.call(this,"d")}function Lo(){fe.call(this,"c")}h(Ar,fe),h(Lo,fe);var mr={},va=null;function Za(){return va=va||new rt}function gr(g){fe.call(this,mr.La,g)}function Gi(g){const L=Za();We(L,new gr(L))}function bi(g,L){fe.call(this,mr.STAT_EVENT,g),this.stat=L}function Cr(g){const L=Za();We(L,new bi(L,g))}function l1(g,L){fe.call(this,mr.Ma,g),this.size=L}function Wi(g,L){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){g()},L)}function nl(){this.g=!0}function rl(g,L,j,Q){g.info(function(){return"XMLHTTP TEXT ("+L+"): "+function(ge,ve){if(!ge.g)return ve;if(!ve)return null;try{var we=JSON.parse(ve);if(we){for(ge=0;ge<we.length;ge++)if(Array.isArray(we[ge])){var gt=we[ge];if(!(2>gt.length)){var ut=gt[1];if(Array.isArray(ut)&&!(1>ut.length)){var wt=ut[0];if(wt!="noop"&&wt!="stop"&&wt!="close")for(var yn=1;yn<ut.length;yn++)ut[yn]=""}}}}return Wn(we)}catch{return ve}}(g,j)+(Q?" "+Q:"")})}mr.La="serverreachability",h(gr,fe),mr.STAT_EVENT="statevent",h(bi,fe),mr.Ma="timingevent",h(l1,fe),nl.prototype.xa=function(){this.g=!1},nl.prototype.info=function(){};var sh,Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function wi(){}function Po(g,L,j,Q){this.j=g,this.i=L,this.l=j,this.R=Q||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c1}function c1(){this.i=null,this.g="",this.h=!1}h(wi,ot),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},sh=new wi;var Fn={},$p={};function R(g,L,j){g.L=1,g.v=it(at(L)),g.m=j,g.P=!0,A(g,null)}function A(g,L){g.F=Date.now(),O(g),g.A=at(g.v);var j=g.A,Q=g.R;Array.isArray(Q)||(Q=[String(Q)]),vr(j.i,"t",Q),g.C=0,j=g.j.J,g.h=new c1,g.g=OL(g.j,j?L:null,!g.m),0<g.O&&(g.M=new en(c(g.Y,g,g.g),g.O)),L=g.U,j=g.g,Q=g.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(xn[0]=ge.toString()),ge=xn);for(var ve=0;ve<ge.length;ve++){var we=Ve(j,ge[ve],Q||L.handleEvent,!1,L.h||L);if(!we)break;L.g[we.key]=we}L=g.H?w(g.H):{},g.m?(g.u||(g.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,L)):(g.u="GET",g.g.ea(g.A,g.u,null,L)),Gi(),function(gt,ut,wt,yn,ii,dn){gt.info(function(){if(gt.g)if(dn)for(var Un="",ir=dn.split("&"),jn=0;jn<ir.length;jn++){var _i=ir[jn].split("=");if(1<_i.length){var Uo=_i[0];_i=_i[1];var m1=Uo.split("_");Un=2<=m1.length&&m1[1]=="type"?Un+(Uo+"=")+_i+"&":Un+(Uo+"=redacted&")}}else Un=null;else Un=dn;return"XMLHTTP REQ ("+yn+") [attempt "+ii+"]: "+ut+`
`+wt+`
`+Un})}(g.i,g.u,g.A,g.l,g.R,g.m)}function k(g){return!!g.g&&g.u=="GET"&&g.L!=2&&g.j.Ca}function y(g,L){var j=g.C,Q=L.indexOf(`
`,j);return Q==-1?$p:(j=Number(L.substring(j,Q)),isNaN(j)?Fn:(Q+=1)+j>L.length?$p:(L=L.slice(Q,Q+j),g.C=Q+j,L))}function O(g){g.S=Date.now()+g.I,z(g,g.I)}function z(g,L){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Wi(c(g.ba,g),L)}function B(g){g.B&&(i.clearTimeout(g.B),g.B=null)}function q(g){g.j.G==0||g.J||TL(g.j,g)}function Y(g){B(g);var L=g.M;L&&typeof L.ma=="function"&&L.ma(),g.M=null,Er(g.U),g.g&&(L=g.g,g.g=null,L.abort(),L.ma())}function X(g,L){try{var j=g.j;if(j.G!=0&&(j.g==g||ue(j.h,g))){if(!g.K&&ue(j.h,g)&&j.G==3){try{var Q=j.Da.g.parse(L)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var ge=Q;if(ge[0]==0){e:if(!j.u){if(j.g){if(!(j.g.F+3e3<g.F))break e;p1(j),h1(j)}p5(j),Cr(18)}}else j.za=ge[1],0<j.za-j.T&&37500>ge[2]&&j.F&&j.v==0&&!j.C&&(j.C=Wi(c(j.Za,j),6e3));if(1>=ce(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Sc(j,11)}else if((g.K||j.g==g)&&p1(j),!f(L))for(ge=j.Da.g.parse(L),L=0;L<ge.length;L++){let wt=ge[L];if(j.T=wt[0],wt=wt[1],j.G==2)if(wt[0]=="c"){j.K=wt[1],j.ia=wt[2];const yn=wt[3];yn!=null&&(j.la=yn,j.j.info("VER="+j.la));const ii=wt[4];ii!=null&&(j.Aa=ii,j.j.info("SVER="+j.Aa));const dn=wt[5];dn!=null&&typeof dn=="number"&&0<dn&&(Q=1.5*dn,j.L=Q,j.j.info("backChannelRequestTimeoutMs_="+Q)),Q=j;const Un=g.g;if(Un){const ir=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var ve=Q.h;ve.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(xe(ve,ve.h),ve.h=null))}if(Q.D){const jn=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;jn&&(Q.ya=jn,Qe(Q.I,Q.D,jn))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-g.F,j.j.info("Handshake RTT: "+j.R+"ms"));var we=g;if((Q=j).qa=IL(Q,Q.J?Q.ia:null,Q.W),we.K){Ne(Q.h,we);var gt=we,ut=Q.L;ut&&(gt.I=ut),gt.B&&(B(gt),O(gt)),Q.g=we}else AL(Q);0<j.i.length&&d1(j)}else wt[0]!="stop"&&wt[0]!="close"||Sc(j,7);else j.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Sc(j,7):dh(j):wt[0]!="noop"&&j.l&&j.l.ta(wt),j.v=0)}}Gi()}catch{}}Po.prototype.ca=function(g){g=g.target;const L=this.M;L&&ho(g)==3?L.j():this.Y(g)},Po.prototype.Y=function(g){try{if(g==this.g)e:{const ii=ho(this.g);var L=this.g.Ba();if(this.g.Z(),!(3>ii)&&(ii!=3||this.g&&(this.h.h||this.g.oa()||u1(this.g)))){this.J||ii!=4||L==7||Gi(),B(this);var j=this.g.Z();this.X=j;t:if(k(this)){var Q=u1(this.g);g="";var ge=Q.length,ve=ho(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Y(this),q(this);var we="";break t}this.h.i=new i.TextDecoder}for(L=0;L<ge;L++)this.h.h=!0,g+=this.h.i.decode(Q[L],{stream:!(ve&&L==ge-1)});Q.length=0,this.h.g+=g,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=j==200,function(dn,Un,ir,jn,_i,Uo,m1){dn.info(function(){return"XMLHTTP RESP ("+jn+") [ attempt "+_i+"]: "+Un+`
`+ir+`
`+Uo+" "+m1})}(this.i,this.u,this.A,this.l,this.R,ii,j),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,ut=this.g;if((gt=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(gt)){var wt=gt;break t}}wt=null}if(!(j=wt)){this.o=!1,this.s=3,Cr(12),Y(this),q(this);break e}rl(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,X(this,j)}if(this.P){let dn;for(j=!0;!this.J&&this.C<we.length;){if(dn=y(this,we),dn==$p){ii==4&&(this.s=4,Cr(14),j=!1),rl(this.i,this.l,null,"[Incomplete Response]");break}if(dn==Fn){this.s=4,Cr(15),rl(this.i,this.l,we,"[Invalid Chunk]"),j=!1;break}rl(this.i,this.l,dn,null),X(this,dn)}if(k(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ii!=4||we.length!=0||this.h.h||(this.s=1,Cr(16),j=!1),this.o=this.o&&j,j){if(0<we.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),f5(yn),yn.M=!0,Cr(11))}}else rl(this.i,this.l,we,"[Invalid Chunked Response]"),Y(this),q(this)}else rl(this.i,this.l,we,null),X(this,we);ii==4&&Y(this),this.o&&!this.J&&(ii==4?TL(this.j,this):(this.o=!1,O(this)))}else(function(dn){const Un={};dn=(dn.g&&2<=ho(dn)&&dn.g.getAllResponseHeaders()||"").split(`\r
`);for(let jn=0;jn<dn.length;jn++){if(f(dn[jn]))continue;var ir=M(dn[jn]);const _i=ir[0];if(typeof(ir=ir[1])!="string")continue;ir=ir.trim();const Uo=Un[_i]||[];Un[_i]=Uo,Uo.push(ir)}(function(jn,_i){for(const Uo in jn)_i.call(void 0,jn[Uo],Uo,jn)})(Un,function(jn){return jn.join(", ")})})(this.g),j==400&&0<we.indexOf("Unknown SID")?(this.s=3,Cr(12)):(this.s=0,Cr(13)),Y(this),q(this)}}}catch{}},Po.prototype.cancel=function(){this.J=!0,Y(this)},Po.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function(L,j){L.info(function(){return"TIMEOUT: "+j})}(this.i,this.A),this.L!=2&&(Gi(),Cr(17)),Y(this),this.s=2,q(this)):z(this,this.S-g)};function ee(g){this.l=g||10,i.PerformanceNavigationTiming?g=0<(g=i.performance.getEntriesByType("navigation")).length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2"):g=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ie(g){return!!g.h||!!g.g&&g.g.size>=g.j}function ce(g){return g.h?1:g.g?g.g.size:0}function ue(g,L){return g.h?g.h==L:!!g.g&&g.g.has(L)}function xe(g,L){g.g?g.g.add(L):g.h=L}function Ne(g,L){g.h&&g.h==L?g.h=null:g.g&&g.g.has(L)&&g.g.delete(L)}function Ee(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let L=g.i;for(const j of g.g.values())L=L.concat(j.D);return L}return d(g.i)}function $e(g,L){if(g.forEach&&typeof g.forEach=="function")g.forEach(L,void 0);else if(o(g)||typeof g=="string")Array.prototype.forEach.call(g,L,void 0);else for(var j=function(we){if(we.na&&typeof we.na=="function")return we.na();if(!we.V||typeof we.V!="function"){if(typeof Map<"u"&&we instanceof Map)return Array.from(we.keys());if(!(typeof Set<"u"&&we instanceof Set)){if(o(we)||typeof we=="string"){var gt=[];we=we.length;for(var ut=0;ut<we;ut++)gt.push(ut);return gt}gt=[],ut=0;for(const wt in we)gt[ut++]=wt;return gt}}}(g),Q=function(we){if(we.V&&typeof we.V=="function")return we.V();if(typeof Map<"u"&&we instanceof Map||typeof Set<"u"&&we instanceof Set)return Array.from(we.values());if(typeof we=="string")return we.split("");if(o(we)){for(var gt=[],ut=we.length,wt=0;wt<ut;wt++)gt.push(we[wt]);return gt}for(wt in gt=[],ut=0,we)gt[ut++]=we[wt];return gt}(g),ge=Q.length,ve=0;ve<ge;ve++)L.call(void 0,Q[ve],j&&j[ve],g)}ee.prototype.cancel=function(){if(this.i=Ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};var Ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Re(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Re){this.h=g.h,_t(this,g.j),this.o=g.o,this.g=g.g,je(this,g.s),this.l=g.l;var L=g.i,j=new Hr;j.i=L.i,L.g&&(j.g=new Map(L.g),j.h=L.h),tt(this,j),this.m=g.m}else g&&(L=String(g).match(Ge))?(this.h=!1,_t(this,L[1]||"",!0),this.o=mt(L[2]||""),this.g=mt(L[3]||"",!0),je(this,L[4]),this.l=mt(L[5]||"",!0),tt(this,L[6]||"",!0),this.m=mt(L[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}function at(g){return new Re(g)}function _t(g,L,j){g.j=j?mt(L,!0):L,g.j&&(g.j=g.j.replace(/:$/,""))}function je(g,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);g.s=L}else g.s=null}function tt(g,L,j){L instanceof Hr?(g.i=L,function(Q,ge){ge&&!Q.j&&(Tr(Q),Q.i=null,Q.g.forEach(function(ve,we){var gt=we.toLowerCase();we!=gt&&(ba(this,we),vr(this,gt,ve))},Q)),Q.j=ge}(g.i,g.h)):(j||(L=Nt(L,cn)),g.i=new Hr(L,g.h))}function Qe(g,L,j){g.i.set(L,j)}function it(g){return Qe(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function mt(g,L){return g?L?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Nt(g,L,j){return typeof g=="string"?(g=encodeURI(g).replace(L,on),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function on(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Re.prototype.toString=function(){var g=[],L=this.j;L&&g.push(Nt(L,dt,!0),":");var j=this.g;return(j||L=="file")&&(g.push("//"),(L=this.o)&&g.push(Nt(L,dt,!0),"@"),g.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),(j=this.s)!=null&&g.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Nt(j,j.charAt(0)=="/"?Ht:Dt,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Nt(j,ya)),g.join("")};var dt=/[#\/\?@]/g,Dt=/[#\?:]/g,Ht=/[#\?]/g,cn=/[#\?@]/g,ya=/#/g;function Hr(g,L){this.h=this.g=null,this.i=g||null,this.j=!!L}function Tr(g){g.g||(g.g=new Map,g.h=0,g.i&&function(L,j){if(L){L=L.split("&");for(var Q=0;Q<L.length;Q++){var ge=L[Q].indexOf("="),ve=null;if(0<=ge){var we=L[Q].substring(0,ge);ve=L[Q].substring(ge+1)}else we=L[Q];j(we,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}(g.i,function(L,j){g.add(decodeURIComponent(L.replace(/\+/g," ")),j)}))}function ba(g,L){Tr(g),L=Bt(g,L),g.g.has(L)&&(g.i=null,g.h-=g.g.get(L).length,g.g.delete(L))}function No(g,L){return Tr(g),L=Bt(g,L),g.g.has(L)}function vr(g,L,j){ba(g,L),0<j.length&&(g.i=null,g.g.set(Bt(g,L),d(j)),g.h+=j.length)}function Bt(g,L){return L=String(L),g.j&&(L=L.toLowerCase()),L}function yr(g,L,j,Q,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),Q(j)}catch{}}function Bo(){this.g=new ke}function lh(g,L,j){const Q=j||"";try{$e(g,function(ge,ve){let we=ge;a(ge)&&(we=Wn(ge)),L.push(Q+ve+"="+encodeURIComponent(we))})}catch(ge){throw L.push(Q+"type="+encodeURIComponent("_badmap")),ge}}function il(g){this.l=g.Ub||null,this.j=g.eb||!1}function ch(g,L){rt.call(this),this.D=g,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Gp(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function zo(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Fo(g)}function Fo(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Wp(g){let L="";return _(g,function(j,Q){L+=Q,L+=":",L+=j,L+=`\r
`}),L}function wc(g,L,j){e:{for(Q in j){var Q=!1;break e}Q=!0}Q||(j=Wp(j),typeof g=="string"?j!=null&&encodeURIComponent(String(j)):Qe(g,L,j))}function vn(g){rt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Hr.prototype).add=function(g,L){Tr(this),this.i=null,g=Bt(this,g);var j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(L),this.h+=1,this},e.forEach=function(g,L){Tr(this),this.g.forEach(function(j,Q){j.forEach(function(ge){g.call(L,ge,Q,this)},this)},this)},e.na=function(){Tr(this);const g=Array.from(this.g.values()),L=Array.from(this.g.keys()),j=[];for(let Q=0;Q<L.length;Q++){const ge=g[Q];for(let ve=0;ve<ge.length;ve++)j.push(L[Q])}return j},e.V=function(g){Tr(this);let L=[];if(typeof g=="string")No(this,g)&&(L=L.concat(this.g.get(Bt(this,g))));else{g=Array.from(this.g.values());for(let j=0;j<g.length;j++)L=L.concat(g[j])}return L},e.set=function(g,L){return Tr(this),this.i=null,No(this,g=Bt(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[L]),this.h+=1,this},e.get=function(g,L){return g&&0<(g=this.V(g)).length?String(g[0]):L},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],L=Array.from(this.g.keys());for(var j=0;j<L.length;j++){var Q=L[j];const ve=encodeURIComponent(String(Q)),we=this.V(Q);for(Q=0;Q<we.length;Q++){var ge=ve;we[Q]!==""&&(ge+="="+encodeURIComponent(String(we[Q]))),g.push(ge)}}return this.i=g.join("&")},h(il,ot),il.prototype.g=function(){return new ch(this.l,this.j)},il.prototype.i=function(g){return function(){return g}}({}),h(ch,rt),(e=ch.prototype).open=function(g,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=L,this.readyState=1,Fo(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(L.body=g),(this.D||i).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},e.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof i.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gp(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var L=g.value?g.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!g.done}))&&(this.response=this.responseText+=L)}g.done?zo(this):Fo(this),this.readyState==3&&Gp(this)}},e.Ra=function(g){this.g&&(this.response=this.responseText=g,zo(this))},e.Qa=function(g){this.g&&(this.response=g,zo(this))},e.ga=function(){this.g&&zo(this)},e.setRequestHeader=function(g,L){this.u.append(g,L)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],L=this.h.entries();for(var j=L.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=L.next();return g.join(`\r
`)},Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}}),h(vn,rt);var _c=/^https?$/i,Kp=["POST","PUT"];function uh(g,L){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=L,g.m=5,xc(g),kc(g)}function xc(g){g.A||(g.A=!0,We(g,"complete"),We(g,"error"))}function Qp(g){if(g.h&&typeof r<"u"&&(!g.v[1]||ho(g)!=4||g.Z()!=2)){if(g.u&&ho(g)==4)rr(g.Ea,0,g);else if(We(g,"readystatechange"),ho(g)==4){g.h=!1;try{const we=g.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var j;if(!(j=L)){var Q;if(Q=we===0){var ge=String(g.D).match(Ge)[1]||null;!ge&&i.self&&i.self.location&&(ge=i.self.location.protocol.slice(0,-1)),Q=!_c.test(ge?ge.toLowerCase():"")}j=Q}if(j)We(g,"complete"),We(g,"success");else{g.m=6;try{var ve=2<ho(g)?g.g.statusText:""}catch{ve=""}g.l=ve+" ["+g.Z()+"]",xc(g)}}finally{kc(g)}}}}function kc(g,L){if(g.g){hh(g);const j=g.g,Q=g.v[0]?()=>{}:null;g.g=null,g.v=null,L||We(g,"ready");try{j.onreadystatechange=Q}catch{}}}function hh(g){g.I&&(i.clearTimeout(g.I),g.I=null)}function ho(g){return g.g?g.g.readyState:0}function u1(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ol(g,L,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||L}function Yp(g){this.Aa=0,this.i=[],this.j=new nl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ol("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ol("baseRetryDelayMs",5e3,g),this.cb=ol("retryDelaySeedMs",1e4,g),this.Wa=ol("forwardChannelMaxRetries",2,g),this.wa=ol("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ee(g&&g.concurrentRequestLimit),this.Da=new Bo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function dh(g){if(kL(g),g.G==3){var L=g.U++,j=at(g.I);if(Qe(j,"SID",g.K),Qe(j,"RID",L),Qe(j,"TYPE","terminate"),Xp(g,j),(L=new Po(g,g.j,L)).L=2,L.v=it(at(j)),j=!1,i.navigator&&i.navigator.sendBeacon)try{j=i.navigator.sendBeacon(L.v.toString(),"")}catch{}!j&&i.Image&&(new Image().src=L.v,j=!0),j||(L.g=OL(L.j,null),L.g.ea(L.v)),L.F=Date.now(),O(L)}RL(g)}function h1(g){g.g&&(f5(g),g.g.cancel(),g.g=null)}function kL(g){h1(g),g.u&&(i.clearTimeout(g.u),g.u=null),p1(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&i.clearTimeout(g.s),g.s=null)}function d1(g){if(!ie(g.h)&&!g.s){g.s=!0;var L=g.Ga;U||ne(),W||(U(),W=!0),te.add(L,g),g.B=0}}function SL(g,L){var j;j=L?L.l:g.U++;const Q=at(g.I);Qe(Q,"SID",g.K),Qe(Q,"RID",j),Qe(Q,"AID",g.T),Xp(g,Q),g.m&&g.o&&wc(Q,g.m,g.o),j=new Po(g,g.j,j,g.B+1),g.m===null&&(j.H=g.o),L&&(g.i=L.D.concat(g.i)),L=EL(g,j,1e3),j.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),xe(g.h,j),R(j,Q,L)}function Xp(g,L){g.H&&_(g.H,function(j,Q){Qe(L,Q,j)}),g.l&&$e({},function(j,Q){Qe(L,Q,j)})}function EL(g,L,j){j=Math.min(g.i.length,j);var Q=g.l?c(g.l.Na,g.l,g):null;e:{var ge=g.i;let ve=-1;for(;;){const we=["count="+j];ve==-1?0<j?(ve=ge[0].g,we.push("ofs="+ve)):ve=0:we.push("ofs="+ve);let gt=!0;for(let ut=0;ut<j;ut++){let wt=ge[ut].g;const yn=ge[ut].map;if(wt-=ve,0>wt)ve=Math.max(0,ge[ut].g-100),gt=!1;else try{lh(yn,we,"req"+wt+"_")}catch{Q&&Q(yn)}}if(gt){Q=we.join("&");break e}}}return g=g.i.splice(0,j),L.D=g,Q}function AL(g){if(!g.g&&!g.u){g.Y=1;var L=g.Fa;U||ne(),W||(U(),W=!0),te.add(L,g),g.v=0}}function p5(g){return!(g.g||g.u||3<=g.v)&&(g.Y++,g.u=Wi(c(g.Fa,g),ML(g,g.v)),g.v++,!0)}function f5(g){g.A!=null&&(i.clearTimeout(g.A),g.A=null)}function CL(g){g.g=new Po(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var L=at(g.qa);Qe(L,"RID","rpc"),Qe(L,"SID",g.K),Qe(L,"AID",g.T),Qe(L,"CI",g.F?"0":"1"),!g.F&&g.ja&&Qe(L,"TO",g.ja),Qe(L,"TYPE","xmlhttp"),Xp(g,L),g.m&&g.o&&wc(L,g.m,g.o),g.L&&(g.g.I=g.L);var j=g.g;g=g.ia,j.L=1,j.v=it(at(L)),j.m=null,j.P=!0,A(j,g)}function p1(g){g.C!=null&&(i.clearTimeout(g.C),g.C=null)}function TL(g,L){var j=null;if(g.g==L){p1(g),f5(g),g.g=null;var Q=2}else{if(!ue(g.h,L))return;j=L.D,Ne(g.h,L),Q=1}if(g.G!=0){if(L.o)if(Q==1){j=L.m?L.m.length:0,L=Date.now()-L.F;var ge=g.B;We(Q=Za(),new l1(Q,j)),d1(g)}else AL(g);else if((ge=L.s)==3||ge==0&&0<L.X||!(Q==1&&function(ve,we){return!(ce(ve.h)>=ve.h.j-(ve.s?1:0)||(ve.s?(ve.i=we.D.concat(ve.i),0):ve.G==1||ve.G==2||ve.B>=(ve.Va?0:ve.Wa)||(ve.s=Wi(c(ve.Ga,ve,we),ML(ve,ve.B)),ve.B++,0)))}(g,L)||Q==2&&p5(g)))switch(j&&0<j.length&&(L=g.h,L.i=L.i.concat(j)),ge){case 1:Sc(g,5);break;case 4:Sc(g,10);break;case 3:Sc(g,6);break;default:Sc(g,2)}}}function ML(g,L){let j=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(j*=2),j*L}function Sc(g,L){if(g.j.info("Error code "+L),L==2){var j=c(g.fb,g),Q=g.Xa;const ge=!Q;Q=new Re(Q||"//www.google.com/images/cleardot.gif"),i.location&&i.location.protocol=="http"||_t(Q,"https"),it(Q),ge?function(ve,we){const gt=new nl;if(i.Image){const ut=new Image;ut.onload=u(yr,gt,"TestLoadImage: loaded",!0,we,ut),ut.onerror=u(yr,gt,"TestLoadImage: error",!1,we,ut),ut.onabort=u(yr,gt,"TestLoadImage: abort",!1,we,ut),ut.ontimeout=u(yr,gt,"TestLoadImage: timeout",!1,we,ut),i.setTimeout(function(){ut.ontimeout&&ut.ontimeout()},1e4),ut.src=ve}else we(!1)}(Q.toString(),j):function(ve,we){new nl;const gt=new AbortController,ut=setTimeout(()=>{gt.abort(),yr(0,0,!1,we)},1e4);fetch(ve,{signal:gt.signal}).then(wt=>{clearTimeout(ut),wt.ok?yr(0,0,!0,we):yr(0,0,!1,we)}).catch(()=>{clearTimeout(ut),yr(0,0,!1,we)})}(Q.toString(),j)}else Cr(2);g.G=0,g.l&&g.l.sa(L),RL(g),kL(g)}function RL(g){if(g.G=0,g.ka=[],g.l){const L=Ee(g.h);(L.length!=0||g.i.length!=0)&&(p(g.ka,L),p(g.ka,g.i),g.h.i.length=0,d(g.i),g.i.length=0),g.l.ra()}}function IL(g,L,j){var Q=j instanceof Re?at(j):new Re(j);if(Q.g!="")L&&(Q.g=L+"."+Q.g),je(Q,Q.s);else{var ge=i.location;Q=ge.protocol,L=L?L+"."+ge.hostname:ge.hostname,ge=+ge.port;var ve=new Re(null);Q&&_t(ve,Q),L&&(ve.g=L),ge&&je(ve,ge),j&&(ve.l=j),Q=ve}return j=g.D,L=g.ya,j&&L&&Qe(Q,j,L),Qe(Q,"VER",g.la),Xp(g,Q),Q}function OL(g,L,j){if(L&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(L=g.Ca&&!g.pa?new vn(new il({eb:j})):new vn(g.pa)).Ha(g.J),L}function LL(){}function f1(){}function Ki(g,L){rt.call(this),this.g=new Yp(L),this.l=g,this.h=L&&L.messageUrlParams||null,g=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(g?g["X-WebChannel-Content-Type"]=L.messageContentType:g={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(g?g["X-WebChannel-Client-Profile"]=L.va:g={"X-WebChannel-Client-Profile":L.va}),this.g.S=g,(g=L&&L.Sb)&&!f(g)&&(this.g.m=g),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!f(L)&&(this.g.D=L,(g=this.h)!==null&&L in g&&L in(g=this.h)&&delete g[L]),this.j=new ph(this)}function DL(g){Ar.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var L=g.__sm__;if(L){e:{for(const j in L){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,L=L!==null&&g in L?L[g]:void 0),this.data=L}else this.data=g}function PL(){Lo.call(this),this.status=1}function ph(g){this.g=g}(e=vn.prototype).Ha=function(g){this.J=g},e.ea=function(g,L,j,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);L=L?L.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sh.g(),this.v=this.o?yt(this.o):yt(sh),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(L,String(g),!0),this.B=!1}catch(ve){return void uh(this,ve)}if(g=j||"",j=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var ge in Q)j.set(ge,Q[ge]);else{if(typeof Q.keys!="function"||typeof Q.get!="function")throw Error("Unknown input type for opt_headers: "+String(Q));for(const ve of Q.keys())j.set(ve,Q.get(ve))}Q=Array.from(j.keys()).find(ve=>ve.toLowerCase()=="content-type"),ge=i.FormData&&g instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Kp,L,void 0))||Q||ge||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,we]of j)this.g.setRequestHeader(ve,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hh(this),this.u=!0,this.g.send(g),this.u=!1}catch(ve){uh(this,ve)}},e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,We(this,"complete"),We(this,"abort"),kc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),vn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Qp(this):this.bb())},e.bb=function(){Qp(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<ho(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(g){if(this.g){var L=this.g.responseText;return g&&L.indexOf(g)==0&&(L=L.substring(g.length)),qp(L)}},e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)},(e=Yp.prototype).la=8,e.G=1,e.connect=function(g,L,j,Q){Cr(0),this.W=g,this.H=L||{},j&&Q!==void 0&&(this.H.OSID=j,this.H.OAID=Q),this.F=this.X,this.I=IL(this,null,this.W),d1(this)},e.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ge=new Po(this,this.j,g);let ve=this.o;if(this.S&&(ve?(ve=w(ve),E(ve,this.S)):ve=this.S),this.m!==null||this.O||(ge.H=ve,ve=null),this.P)e:{for(var L=0,j=0;j<this.i.length;j++){var Q=this.i[j];if((Q="__data__"in Q.map&&typeof(Q=Q.map.__data__)=="string"?Q.length:void 0)===void 0)break;if(4096<(L+=Q)){L=j;break e}if(L===4096||j===this.i.length-1){L=j+1;break e}}L=1e3}else L=1e3;L=EL(this,ge,L),Qe(j=at(this.I),"RID",g),Qe(j,"CVER",22),this.D&&Qe(j,"X-HTTP-Session-Id",this.D),Xp(this,j),ve&&(this.O?L="headers="+encodeURIComponent(String(Wp(ve)))+"&"+L:this.m&&wc(j,this.m,ve)),xe(this.h,ge),this.Ua&&Qe(j,"TYPE","init"),this.P?(Qe(j,"$req",L),Qe(j,"SID","null"),ge.T=!0,R(ge,j,null)):R(ge,j,L),this.G=2}}else this.G==3&&(g?SL(this,g):this.i.length==0||ie(this.h)||SL(this))},e.Fa=function(){if(this.u=null,CL(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Wi(c(this.ab,this),g)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cr(10),h1(this),CL(this))},e.Za=function(){this.C!=null&&(this.C=null,h1(this),p5(this),Cr(19))},e.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=LL.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},f1.prototype.g=function(g,L){return new Ki(g,L)},h(Ki,rt),Ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ki.prototype.close=function(){dh(this.g)},Ki.prototype.o=function(g){var L=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.u&&((j={}).__data__=Wn(g),g=j);L.i.push(new class{constructor(Q,ge){this.g=Q,this.map=ge}}(L.Ya++,g)),L.G==3&&d1(L)},Ki.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,Ki.aa.N.call(this)},h(DL,Ar),h(PL,Lo),h(ph,LL),ph.prototype.ua=function(){We(this.g,"a")},ph.prototype.ta=function(g){We(this.g,new DL(g))},ph.prototype.sa=function(g){We(this.g,new PL)},ph.prototype.ra=function(){We(this.g,"b")},f1.prototype.createWebChannel=f1.prototype.g,Ki.prototype.send=Ki.prototype.o,Ki.prototype.open=Ki.prototype.m,Ki.prototype.close=Ki.prototype.close,PR=function(){return new f1},DR=function(){return Za()},LR=mr,K2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,bg=Do,Hp.COMPLETE="complete",OR=Hp,rn.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",rt.prototype.listen=rt.prototype.K,mp=rn,IR=il,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,RR=vn}).apply(typeof wg<"u"?wg:typeof self<"u"?self:typeof window<"u"?window:{});const NR="@firebase/firestore";/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Fr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let Fu="10.12.1";/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const uc=new T2("@firebase/firestore");function gp(){return uc.logLevel}function Ze(e,...t){if(uc.logLevel<=Wt.DEBUG){const n=t.map(Q2);uc.debug(`Firestore (${Fu}): ${e}`,...n)}}function Ka(e,...t){if(uc.logLevel<=Wt.ERROR){const n=t.map(Q2);uc.error(`Firestore (${Fu}): ${e}`,...n)}}function Uu(e,...t){if(uc.logLevel<=Wt.WARN){const n=t.map(Q2);uc.warn(`Firestore (${Fu}): ${e}`,...n)}}function Q2(e){if(typeof e=="string")return e;try{/**
        * @license
        * Copyright 2020 Google LLC
        *
        * Licensed under the Apache License, Version 2.0 (the "License");
        * you may not use this file except in compliance with the License.
        * You may obtain a copy of the License at
        *
        *   http://www.apache.org/licenses/LICENSE-2.0
        *
        * Unless required by applicable law or agreed to in writing, software
        * distributed under the License is distributed on an "AS IS" BASIS,
        * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        * See the License for the specific language governing permissions and
        * limitations under the License.
        */return function(t){return JSON.stringify(t)}(e)}catch{return e}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function St(e="Unexpected state"){const t=`FIRESTORE (${Fu}) INTERNAL ASSERTION FAILED: `+e;throw Ka(t),new Error(t)}function gn(e,t){e||St()}function Ct(e,t){return e}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends $s{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class hc{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class BR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class iY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oY{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hc,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hc)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gn(typeof r.accessToken=="string"),new BR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return gn(t===null||typeof t=="string"),new Fr(t)}}class aY{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sY{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new aY(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lY{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cY{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(gn(typeof n.token=="string"),this.R=n.token,new lY(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function uY(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class zR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=uY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%62))}return r}}function Zt(e,t){return e<t?-1:e>t?1:0}function ju(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cr{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new et(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new et(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new et(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return cr.fromMillis(Date.now())}static fromDate(t){return cr.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new cr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new cr(0,0))}static max(){return new At(new cr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vp{constructor(t,n,r){n===void 0?n=0:n>t.length&&St(),r===void 0?r=t.length-n:r>t.length-n&&St(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return vp.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof vp?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class _n extends vp{construct(t,n,r){return new _n(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new et(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _n(n)}static emptyPath(){return new _n([])}}const hY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends vp{construct(t,n,r){return new xr(t,n,r)}static isValidIdentifier(t){return hY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xr(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new et(Ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new et(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new et(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new et(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xr(n)}static emptyPath(){return new xr([])}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(_n.fromString(t))}static fromName(t){return new ct(_n.fromString(t).popFirst(5))}static empty(){return new ct(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_n.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _n.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new _n(t.slice()))}}function dY(e){return new Ys(e.readTime,e.key,-1)}class Ys{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys(At.min(),ct.empty(),-1)}static max(){return new Ys(At.max(),ct.empty(),-1)}}function pY(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ct.comparator(e.documentKey,t.documentKey),n!==0?n:Zt(e.largestBatchId,t.largestBatchId))}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const fY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */async function yp(e){if(e.code!==Ae.FAILED_PRECONDITION||e.message!==fY)throw e;Ze("LocalStore","Unexpectedly lost primary lease")}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Te{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Te.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Te.reject(n)}static resolve(t){return new Te((n,r)=>{n(t)})}static reject(t){return new Te((n,r)=>{r(t)})}static waitFor(t){return new Te((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(t){let n=Te.resolve(!1);for(const r of t)n=n.next(i=>i?Te.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Te((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;n(t[c]).next(u=>{a[c]=u,++s,s===o&&r(a)},u=>i(u))}})}static doWhile(t,n){return new Te((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function bp(e){return e.name==="IndexedDbTransactionError"}/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Y2{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function _g(e){return e==null}function xg(e){return e===0&&1/e==-1/0}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function FR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Y2.oe=-1;class Dn{constructor(t,n){this.comparator=t,this.root=n||kr.EMPTY}insert(t,n){return new Dn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(t){return new Dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kr.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kg(this.root,t,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kg(this.root,t,this.comparator,!0)}}class kg{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kr{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??kr.RED,this.left=i??kr.EMPTY,this.right=o??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new kr(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(e,t,n,r,i){return this}insert(e,t,n){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sr{constructor(t){this.comparator=t,this.data=new Dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new jR(this.data.getIterator())}getIteratorFrom(t){return new jR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Sr)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Sr(this.comparator);return n.data=t,n}}class jR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Qa{constructor(t){this.fields=t,t.sort(xr.comparator)}static empty(){return new Qa([])}unionWith(t){let n=new Sr(xr.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Qa(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ju(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class VR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ur{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VR("Invalid base64 string: "+i):i}}(t);return new Ur(n)}static fromUint8Array(t){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(t);return new Ur(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const gY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(e){if(gn(!!e),typeof e=="string"){let t=0;const n=gY.exec(e);if(gn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:er(e.seconds),nanos:er(e.nanos)}}function er(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function dc(e){return typeof e=="string"?Ur.fromBase64String(e):Ur.fromUint8Array(e)}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function X2(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function J2(e){const t=e.mapValue.fields.__previous_value__;return X2(t)?J2(t):t}function wp(e){const t=Xs(e.mapValue.fields.__local_write_time__.timestampValue);return new cr(t.seconds,t.nanos)}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vY{constructor(t,n,r,i,o,a,s,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class _p{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new _p("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof _p&&t.projectId===this.projectId&&t.database===this.database}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Sg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?X2(e)?4:function(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(e)?9007199254740991:10:St()}function pa(e,t){if(e===t)return!0;const n=pc(e);if(n!==pc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return wp(e).isEqual(wp(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Xs(r.timestampValue),a=Xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return dc(r.bytesValue).isEqual(dc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=er(r.doubleValue),a=er(i.doubleValue);return o===a?xg(o)===xg(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return ju(e.arrayValue.values||[],t.arrayValue.values||[],pa);case 10:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(FR(o)!==FR(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!pa(o[s],a[s])))return!1;return!0}(e,t);default:return St()}}function xp(e,t){return(e.values||[]).find(n=>pa(n,t))!==void 0}function qu(e,t){if(e===t)return 0;const n=pc(e),r=pc(t);if(n!==r)return Zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=er(i.integerValue||i.doubleValue),s=er(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(e,t);case 3:return qR(e.timestampValue,t.timestampValue);case 4:return qR(wp(e),wp(t));case 5:return Zt(e.stringValue,t.stringValue);case 6:return function(i,o){const a=dc(i),s=dc(o);return a.compareTo(s)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),s=o.split("/");for(let l=0;l<a.length&&l<s.length;l++){const c=Zt(a[l],s[l]);if(c!==0)return c}return Zt(a.length,s.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=Zt(er(i.latitude),er(o.latitude));return a!==0?a:Zt(er(i.longitude),er(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],s=o.values||[];for(let l=0;l<a.length&&l<s.length;++l){const c=qu(a[l],s[l]);if(c)return c}return Zt(a.length,s.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===Sg.mapValue&&o===Sg.mapValue)return 0;if(i===Sg.mapValue)return 1;if(o===Sg.mapValue)return-1;const a=i.fields||{},s=Object.keys(a),l=o.fields||{},c=Object.keys(l);s.sort(),c.sort();for(let u=0;u<s.length&&u<c.length;++u){const h=Zt(s[u],c[u]);if(h!==0)return h;const d=qu(a[s[u]],l[c[u]]);if(d!==0)return d}return Zt(s.length,c.length)}(e.mapValue,t.mapValue);default:throw St()}}function qR(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Zt(e,t);const n=Xs(e),r=Xs(t),i=Zt(n.seconds,r.seconds);return i!==0?i:Zt(n.nanos,r.nanos)}function Hu(e){return Z2(e)}function Z2(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){const n=Xs(t);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(t){return dc(t).toBase64()}(e.bytesValue):"referenceValue"in e?function(t){return ct.fromName(t).toString()}(e.referenceValue):"geoPointValue"in e?function(t){return`geo(${t.latitude},${t.longitude})`}(e.geoPointValue):"arrayValue"in e?function(t){let n="[",r=!0;for(const i of t.values||[])r?r=!1:n+=",",n+=Z2(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",i=!0;for(const o of n)i?i=!1:r+=",",r+=`${o}:${Z2(t.fields[o])}`;return r+"}"}(e.mapValue):St()}function HR(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function e_(e){return!!e&&"integerValue"in e}function t_(e){return!!e&&"arrayValue"in e}function $R(e){return!!e&&"nullValue"in e}function GR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eg(e){return!!e&&"mapValue"in e}function kp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vu(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=kp(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kp(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Mo{constructor(t){this.value=t}static empty(){return new Mo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Eg(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=kp(n)}setAll(t){let n=xr.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=kp(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());Eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pa(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Vu(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Mo(kp(this.value))}}function WR(e){const t=[];return Vu(e.fields,(n,r)=>{const i=new xr([n]);if(Eg(r)){const o=WR(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new Qa(t);/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class jr{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new jr(t,0,At.min(),At.min(),At.min(),Mo.empty(),0)}static newFoundDocument(t,n,r,i){return new jr(t,1,n,At.min(),r,i,0)}static newNoDocument(t,n){return new jr(t,2,n,At.min(),At.min(),Mo.empty(),0)}static newUnknownDocument(t,n){return new jr(t,3,n,At.min(),At.min(),Mo.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ag{constructor(t,n){this.position=t,this.inclusive=n}}function KR(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ct.comparator(ct.fromName(a.referenceValue),n.key):qu(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QR(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pa(e.position[n],t.position[n]))return!1;return!0}/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Sp{constructor(t,n="asc"){this.field=t,this.dir=n}}function yY(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class YR{}class tr extends YR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new bY(t,n,r):n==="array-contains"?new xY(t,r):n==="in"?new kY(t,r):n==="not-in"?new SY(t,r):n==="array-contains-any"?new EY(t,r):new tr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new wY(t,r):new _Y(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qu(n,this.value)):n!==null&&pc(this.value)===pc(n)&&this.matchesComparison(qu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ro extends YR{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Ro(t,n)}matches(t){return XR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XR(e){return e.op==="and"}function JR(e){return function(t){for(const n of t.filters)if(n instanceof Ro)return!1;return!0}(e)&&XR(e)}function n_(e){if(e instanceof tr)return e.field.canonicalString()+e.op.toString()+Hu(e.value);if(JR(e))return e.filters.map(t=>n_(t)).join(",");{const t=e.filters.map(n=>n_(n)).join(",");return`${e.op}(${t})`}}function ZR(e,t){return e instanceof tr?function(n,r){return r instanceof tr&&n.op===r.op&&n.field.isEqual(r.field)&&pa(n.value,r.value)}(e,t):e instanceof Ro?function(n,r){return r instanceof Ro&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,a)=>i&&ZR(o,r.filters[a]),!0)}(e,t):void St()}function eI(e){return e instanceof tr?function(t){return`${t.field.canonicalString()} ${t.op} ${Hu(t.value)}`}(e):e instanceof Ro?function(t){return t.op.toString()+" {"+t.getFilters().map(eI).join(" ,")+"}"}(e):"Filter"}class bY extends tr{constructor(t,n,r){super(t,n,r),this.key=ct.fromName(r.referenceValue)}matches(t){const n=ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class wY extends tr{constructor(t,n){super(t,"in",n),this.keys=tI("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _Y extends tr{constructor(t,n){super(t,"not-in",n),this.keys=tI("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function tI(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ct.fromName(r.referenceValue))}class xY extends tr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return t_(n)&&xp(n.arrayValue,this.value)}}class kY extends tr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xp(this.value.arrayValue,n)}}class SY extends tr{constructor(t,n){super(t,"not-in",n)}matches(t){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!xp(this.value.arrayValue,n)}}class EY extends tr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!t_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xp(this.value.arrayValue,r))}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class AY{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function nI(e,t=null,n=[],r=[],i=null,o=null,a=null){return new AY(e,t,n,r,i,o,a)}function r_(e){const t=Ct(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>n_(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_g(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Hu(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Hu(r)).join(",")),t.ue=n}return t.ue}function i_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yY(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ZR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QR(e.startAt,t.startAt)&&QR(e.endAt,t.endAt)}function o_(e){return ct.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class $u{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function a_(e){return new $u(e)}function rI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function iI(e){return e.collectionGroup!==null}function Ep(e){const t=Ct(e);if(t.ce===null){t.ce=[];const n=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(i){let o=new Sr(xr.comparator);return i.filters.forEach(a=>{a.getFlattenedFilters().forEach(s=>{s.isInequality()&&(o=o.add(s.field))})}),o})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.ce.push(new Sp(i,r))}),n.has(xr.keyField().canonicalString())||t.ce.push(new Sp(xr.keyField(),r))}return t.ce}function fa(e){const t=Ct(e);return t.le||(t.le=function(n,r){if(n.limitType==="F")return nI(n.path,n.collectionGroup,r,n.filters,n.limit,n.startAt,n.endAt);{r=r.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Sp(a.field,s)});const i=n.endAt?new Ag(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Ag(n.startAt.position,n.startAt.inclusive):null;return nI(n.path,n.collectionGroup,r,n.filters,n.limit,i,o)}}(t,Ep(e))),t.le}function s_(e,t){const n=e.filters.concat([t]);return new $u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function l_(e,t,n){return new $u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cg(e,t){return i_(fa(e),fa(t))&&e.limitType===t.limitType}function oI(e){return`${r_(fa(e))}|lt:${e.limitType}`}function Gu(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>eI(r)).join(", ")}]`),_g(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Hu(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Hu(r)).join(",")),`Target(${n})`}(fa(e))}; limitType=${e.limitType})`}function Tg(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ct.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Ep(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,o,a){const s=KR(i,o,a);return i.inclusive?s<=0:s<0}(n.startAt,Ep(n),r)||n.endAt&&!function(i,o,a){const s=KR(i,o,a);return i.inclusive?s>=0:s>0}(n.endAt,Ep(n),r))}(e,t)}function aI(e){return(t,n)=>{let r=!1;for(const i of Ep(e)){const o=CY(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function CY(e,t,n){const r=e.field.isKeyField()?ct.comparator(t.key,n.key):function(i,o,a){const s=o.data.field(i),l=a.data.field(i);return s!==null&&l!==null?qu(s,l):St()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Wu{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Vu(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return UR(this.inner)}size(){return this.innerSize}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const TY=new Dn(ct.comparator);function Ya(){return TY}const sI=new Dn(ct.comparator);function Ap(...e){let t=sI;for(const n of e)t=t.insert(n.key,n);return t}function lI(e){let t=sI;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function fc(){return Cp()}function cI(){return Cp()}function Cp(){return new Wu(e=>e.toString(),(e,t)=>e.isEqual(t))}const MY=new Dn(ct.comparator),RY=new Sr(ct.comparator);function jt(...e){let t=RY;for(const n of e)t=t.add(n);return t}const IY=new Sr(Zt);/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function uI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(t)?"-0":t}}function hI(e){return{integerValue:""+e}}function OY(e,t){return function(n){return typeof n=="number"&&Number.isInteger(n)&&!xg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?hI(t):uI(e,t)}/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Mg{constructor(){this._=void 0}}function LY(e,t,n){return e instanceof Rg?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&X2(i)&&(i=J2(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Tp?pI(e,t):e instanceof Mp?fI(e,t):function(r,i){const o=dI(r,i),a=mI(o)+mI(r.Pe);return e_(o)&&e_(r.Pe)?hI(a):uI(r.serializer,a)}(e,t)}function DY(e,t,n){return e instanceof Tp?pI(e,t):e instanceof Mp?fI(e,t):n}function dI(e,t){return e instanceof Ig?function(n){return e_(n)||function(r){return!!r&&"doubleValue"in r}(n)}(t)?t:{integerValue:0}:null}class Rg extends Mg{}class Tp extends Mg{constructor(t){super(),this.elements=t}}function pI(e,t){const n=gI(t);for(const r of e.elements)n.some(i=>pa(i,r))||n.push(r);return{arrayValue:{values:n}}}class Mp extends Mg{constructor(t){super(),this.elements=t}}function fI(e,t){let n=gI(t);for(const r of e.elements)n=n.filter(i=>!pa(i,r));return{arrayValue:{values:n}}}class Ig extends Mg{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function mI(e){return er(e.integerValue||e.doubleValue)}function gI(e){return t_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class PY{constructor(t,n){this.version=t,this.transformResults=n}}class Xa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xa}static exists(t){return new Xa(void 0,t)}static updateTime(t){return new Xa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Og(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lg{}function vI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new c_(e.key,Xa.none()):new Dg(e.key,e.data,Xa.none());{const n=e.data,r=Mo.empty();let i=new Sr(xr.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ku(e.key,r,new Qa(i.toArray()),Xa.none())}}function NY(e,t,n){e instanceof Dg?function(r,i,o){const a=r.value.clone(),s=wI(r.fieldTransforms,i,o.transformResults);a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ku?function(r,i,o){if(!Og(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=wI(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(bI(r)),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Rp(e,t,n,r){return e instanceof Dg?function(i,o,a,s){if(!Og(i.precondition,o))return a;const l=i.value.clone(),c=_I(i.fieldTransforms,s,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ku?function(i,o,a,s){if(!Og(i.precondition,o))return a;const l=_I(i.fieldTransforms,s,o),c=o.data;return c.setAll(bI(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(e,t,n,r):function(i,o,a){return Og(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function BY(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=dI(r.transform,i||null);o!=null&&(n===null&&(n=Mo.empty()),n.set(r.field,o))}return n||null}function yI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ju(n,r,(i,o)=>function(a,s){return a.field.isEqual(s.field)&&function(l,c){return l instanceof Tp&&c instanceof Tp||l instanceof Mp&&c instanceof Mp?ju(l.elements,c.elements,pa):l instanceof Ig&&c instanceof Ig?pa(l.Pe,c.Pe):l instanceof Rg&&c instanceof Rg}(a.transform,s.transform)}(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dg extends Lg{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ku extends Lg{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wI(e,t,n){const r=new Map;gn(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,DY(a,s,n[i]))}return r}function _I(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,LY(o,a,t))}return r}class c_ extends Lg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zY extends Lg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class FY{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&NY(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Rp(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Rp(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=cI();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=vI(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(At.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),jt())}isEqual(t){return this.batchId===t.batchId&&ju(this.mutations,t.mutations,(n,r)=>yI(n,r))&&ju(this.baseMutations,t.baseMutations,(n,r)=>yI(n,r))}}class u_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){gn(t.mutations.length===r.length);let i=function(){return MY}();const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new u_(t,n,r,i)}}/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class UY{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class jY{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nr,qt;function xI(e){if(e===void 0)return Ka("GRPC error has no .code"),Ae.UNKNOWN;switch(e){case nr.OK:return Ae.OK;case nr.CANCELLED:return Ae.CANCELLED;case nr.UNKNOWN:return Ae.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Ae.INTERNAL;case nr.UNAVAILABLE:return Ae.UNAVAILABLE;case nr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case nr.NOT_FOUND:return Ae.NOT_FOUND;case nr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case nr.ABORTED:return Ae.ABORTED;case nr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case nr.DATA_LOSS:return Ae.DATA_LOSS;default:return St()}}(qt=nr||(nr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const VY=new cc([4294967295,4294967295],0);function kI(e){const t=new TextEncoder().encode(e),n=new TR;return n.update(t),new Uint8Array(n.digest())}function SI(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new cc([n,r],0),new cc([i,o],0)]}class h_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ip(`Invalid padding: ${n}`);if(r<0)throw new Ip(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ip(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Ip(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=cc.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(cc.fromNumber(r)));return i.compare(VY)===1&&(i=new cc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=kI(t),[r,i]=SI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new h_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.Ie===0)return;const n=kI(t),[r,i]=SI(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Pg{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Op.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Pg(At.min(),i,new Dn(Zt),Ya(),jt())}}class Op{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Op(r,n,jt(),jt(),jt())}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Ng{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class EI{constructor(t,n){this.targetId=t,this.me=n}}class AI{constructor(t,n,r=Ur.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CI{constructor(){this.fe=0,this.ge=MI(),this.pe=Ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=jt(),n=jt(),r=jt();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:St()}}),new Op(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=MI()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,gn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qY{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ya(),this.qe=TI(),this.Qe=new Dn(Zt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:St()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(o_(o))if(r===0){const a=new ct(o.path);this.Ue(n,a,jr.newNoDocument(a,At.min()))}else gn(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(t),l=s?this.Xe(s,t,a):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=dc(r).toUint8Array()}catch(l){if(l instanceof VR)return Uu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new h_(a,i,o)}catch(l){return Uu(l instanceof Ip?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&o_(s.target)){const l=new ct(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,jr.newNoDocument(l,t))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=jt();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const i=new Pg(t,n,this.Qe,this.ke,r);return this.ke=Ya(),this.qe=TI(),this.Qe=new Dn(Zt),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new CI,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Sr(Zt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new CI),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function TI(){return new Dn(ct.comparator)}function MI(){return new Dn(ct.comparator)}const HY={asc:"ASCENDING",desc:"DESCENDING"},$Y={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GY={and:"AND",or:"OR"};class WY{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function d_(e,t){return e.useProto3Json||_g(t)?t:{value:t}}function Bg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function KY(e,t){return Bg(e,t.toTimestamp())}function ma(e){return gn(!!e),At.fromTimestamp(function(t){const n=Xs(t);return new cr(n.seconds,n.nanos)}(e))}function p_(e,t){return f_(e,t).canonicalString()}function f_(e,t){const n=(r=e,new _n(["projects",r.projectId,"databases",r.database])).child("documents");var r;return t===void 0?n:n.child(t)}function II(e){const t=_n.fromString(e);return gn(BI(t)),t}function m_(e,t){return p_(e.databaseId,t.path)}function g_(e,t){const n=II(t);if(n.get(1)!==e.databaseId.projectId)throw new et(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new et(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ct(LI(n))}function OI(e,t){return p_(e.databaseId,t)}function v_(e){return new _n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LI(e){return gn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function DI(e,t,n){return{name:m_(e,t),fields:n.value.mapValue.fields}}function QY(e,t){return{documents:[OI(e,t.path)]}}function YY(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OI(e,i);const o=function(c){if(c.length!==0)return NI(Ro.create(c,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(c){if(c.length!==0)return c.map(u=>{return{field:Qu((h=u).field),direction:JY(h.dir)};var h})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=d_(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:n,parent:i};var l}function XY(e){let t=function(u){const h=II(u);return h.length===4?_n.emptyPath():LI(h)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gn(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let o=[];n.where&&(o=function(u){const h=PI(u);return h instanceof Ro&&JR(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new Sp(Yu((h=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction));var h}));let s=null;n.limit&&(s=function(u){let h;return h=typeof u=="object"?u.value:u,_g(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new Ag(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,d=u.values||[];return new Ag(d,h)}(n.endAt)),function(u,h,d,p,f,m,b,v){return new $u(u,h,d,p,f,m,b,v)}(t,i,a,o,s,"F",l,c)}function PI(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Yu(t.unaryFilter.field);return tr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Yu(t.unaryFilter.field);return tr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yu(t.unaryFilter.field);return tr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yu(t.unaryFilter.field);return tr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(e):e.fieldFilter!==void 0?function(t){return tr.create(Yu(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Ro.create(t.compositeFilter.filters.map(n=>PI(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return St()}}(t.compositeFilter.op))}(e):St()}function JY(e){return HY[e]}function ZY(e){return $Y[e]}function eX(e){return GY[e]}function Qu(e){return{fieldPath:e.canonicalString()}}function Yu(e){return xr.fromServerFormat(e.fieldPath)}function NI(e){return e instanceof tr?function(t){if(t.op==="=="){if(GR(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NAN"}};if($R(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GR(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NAN"}};if($R(t.value))return{unaryFilter:{field:Qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qu(t.field),op:ZY(t.op),value:t.value}}}(e):e instanceof Ro?function(t){const n=t.getFilters().map(r=>NI(r));return n.length===1?n[0]:{compositeFilter:{op:eX(t.op),filters:n}}}(e):St()}function tX(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function BI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Js{constructor(t,n,r,i,o=At.min(),a=At.min(),s=Ur.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class nX{constructor(t){this.ct=t}}function rX(e){const t=XY({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?l_(t,t.limit,"L"):t}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class iX{constructor(){this._n=new oX}addToCollectionParentIndex(t,n){return this._n.add(n),Te.resolve()}getCollectionParents(t,n){return Te.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return Te.resolve()}deleteFieldIndex(t,n){return Te.resolve()}deleteAllFieldIndexes(t){return Te.resolve()}createTargetIndexes(t,n){return Te.resolve()}getDocumentsMatchingTarget(t,n){return Te.resolve(null)}getIndexType(t,n){return Te.resolve(0)}getFieldIndexes(t,n){return Te.resolve([])}getNextCollectionGroupToUpdate(t){return Te.resolve(null)}getMinOffset(t,n){return Te.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,n){return Te.resolve(Ys.min())}updateCollectionGroup(t,n,r){return Te.resolve()}updateIndexEntries(t,n){return Te.resolve()}}class oX{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Sr(_n.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Sr(_n.comparator)).toArray()}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Xu{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Xu(0)}static Ln(){return new Xu(-1)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class aX{constructor(){this.changes=new Wu(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Te.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class sX{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class lX{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Rp(r.mutation,i,Qa.empty(),cr.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,jt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=jt()){const i=fc();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=Ap();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=fc();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,jt()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=Ya();const a=Cp(),s=Cp();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ku)?o=o.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Rp(u.mutation,c,u.mutation.getFieldMask(),cr.now())):a.set(c.key,Qa.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>{var h;return s.set(c,new sX(u,(h=a.get(c))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(t,n){const r=Cp();let i=new Dn((a,s)=>a-s),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Qa.empty();u=s.applyToLocalView(c,u),r.set(l,u);const h=(i.get(s.batchId)||jt()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,h=cI();u.forEach(d=>{if(!o.has(d)){const p=vI(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,h))}return Te.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return o=n,ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0?this.getDocumentsMatchingDocumentQuery(t,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i);var o}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Te.resolve(fc());let s=-1,l=o;return a.next(c=>Te.forEach(c,(u,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(u)?Te.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,jt())).next(u=>({batchId:s,changes:lI(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ct(n)).next(r=>{let i=Ap();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let a=Ap();return this.indexManager.getCollectionParents(t,o).next(s=>Te.forEach(s,l=>{const c=(u=n,h=l.child(o),new $u(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,h;return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(d=>{d.forEach((p,f)=>{a=a.insert(p,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(a=>{o.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,jr.newInvalidDocument(u)))});let s=Ap();return a.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Rp(u.mutation,c,Qa.empty(),cr.now()),Tg(n,c)&&(s=s.insert(l,c))}),s})}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cX{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return Te.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,{id:(r=n).id,version:r.version,createTime:ma(r.createTime)}),Te.resolve();var r}getNamedQuery(t,n){return Te.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,{name:(r=n).name,query:rX(r.bundledQuery),readTime:ma(r.readTime)}),Te.resolve();var r}}/**
     * @license
     * Copyright 2022 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class uX{constructor(){this.overlays=new Dn(ct.comparator),this.hr=new Map}getOverlay(t,n){return Te.resolve(this.overlays.get(n))}getOverlays(t,n){const r=fc();return Te.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),Te.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Te.resolve()}getOverlaysForCollection(t,n,r){const i=fc(),o=n.length+1,a=new ct(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Te.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Dn((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=fc(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=fc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return Te.resolve(s)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new UY(n,r));let o=this.hr.get(n);o===void 0&&(o=jt(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class y_{constructor(){this.Pr=new Sr(fr.Ir),this.Tr=new Sr(fr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new fr(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new fr(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new ct(new _n([])),r=new fr(n,t),i=new fr(n,t+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new ct(new _n([])),r=new fr(n,t),i=new fr(n,t+1);let o=jt();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new fr(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class fr{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return ct.comparator(t.key,n.key)||Zt(t.pr,n.pr)}static Er(t,n){return Zt(t.pr,n.pr)||ct.comparator(t.key,n.key)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class hX{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Sr(fr.Ir)}checkEmpty(t){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new FY(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.wr=this.wr.add(new fr(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return Te.resolve(a)}lookupMutationBatch(t,n){return Te.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),o=i<0?0:i;return Te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new fr(n,0),i=new fr(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const s=this.Sr(a.pr);o.push(s)}),Te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Sr(Zt);return n.forEach(i=>{const o=new fr(i,0),a=new fr(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],s=>{r=r.add(s.pr)})}),Te.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ct.isDocumentKey(o)||(o=o.child(""));const a=new fr(new ct(o),0);let s=new Sr(Zt);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.pr)),!0)},a),Te.resolve(this.Dr(s))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){gn(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Te.forEach(n.mutations,i=>{const o=new fr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new fr(n,0),i=this.wr.firstAfterOrEqual(r);return Te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Te.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class dX{constructor(t){this.vr=t,this.docs=new Dn(ct.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Te.resolve(r?r.document.mutableCopy():jr.newInvalidDocument(n))}getEntries(t,n){let r=Ya();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jr.newInvalidDocument(i))}),Te.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Ya();const a=n.path,s=new ct(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||pY(dY(u),r)<=0||(i.has(u.key)||Tg(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return Te.resolve(o)}getAllFromCollectionGroup(t,n,r,i){St()}Fr(t,n){return Te.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new pX(this)}getSize(t){return Te.resolve(this.size)}}class pX extends aX{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),Te.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class fX{constructor(t){this.persistence=t,this.Mr=new Wu(n=>r_(n),i_),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Or=0,this.Nr=new y_,this.targetCount=0,this.Lr=Xu.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),Te.resolve()}getLastRemoteSnapshotVersion(t){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Te.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Te.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Xu(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,Te.resolve()}updateTargetData(t,n){return this.qn(n),Te.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Mr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Te.waitFor(o).next(()=>i)}getTargetCount(t){return Te.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return Te.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),Te.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),Te.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),Te.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return Te.resolve(r)}containsKey(t,n){return Te.resolve(this.Nr.containsKey(n))}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class mX{constructor(t,n){var r;this.Br={},this.overlays={},this.kr=new Y2(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new fX(this),this.indexManager=new iX,this.remoteDocumentCache=(r=i=>this.referenceDelegate.Kr(i),new dX(r)),this.serializer=new nX(n),this.$r=new cX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uX,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new hX(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ze("MemoryPersistence","Starting transaction:",t);const i=new gX(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(t,n){return Te.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class gX extends mY{constructor(t){super(),this.currentSequenceNumber=t}}class b_{constructor(t){this.persistence=t,this.zr=new y_,this.jr=null}static Hr(t){return new b_(t)}get Jr(){if(this.jr)return this.jr;throw St()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Te.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Te.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),Te.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Jr,r=>{const i=ct.fromPath(r);return this.Yr(t,i).next(o=>{o||n.removeEntry(i,At.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return Te.or([()=>Te.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class w_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=jt(),i=jt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new w_(t,n.fromCache,r,i)}}/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class vX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class yX{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=eQ()?8:function(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}(typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:"")>0?6:4}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ji(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(t,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new vX;return this.Ji(t,n,a).next(s=>{if(o.result=s,this.Ui)return this.Yi(t,n,a,s.size)})}).next(()=>o.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(gp()<=Wt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Te.resolve()):(gp()<=Wt.DEBUG&&Ze("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gp()<=Wt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fa(n))):Te.resolve())}ji(t,n){if(rI(n))return Te.resolve(null);let r=fa(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=l_(n,null,"F"),r=fa(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=jt(...o);return this.zi.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Zi(n,s);return this.Xi(n,c,a,l.readTime)?this.ji(t,l_(n,null,"F")):this.es(t,c,n,l)}))})))}Hi(t,n,r,i){return rI(n)||i.isEqual(At.min())?Te.resolve(null):this.zi.getDocuments(t,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?Te.resolve(null):(gp()<=Wt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gu(n)),this.es(t,a,n,function(s,l){const c=s.toTimestamp().seconds,u=s.toTimestamp().nanoseconds+1,h=At.fromTimestamp(u===1e9?new cr(c+1,0):new cr(c,u));return new Ys(h,ct.empty(),l)}(i,-1)).next(s=>s))})}Zi(t,n){let r=new Sr(aI(t));return n.forEach((i,o)=>{Tg(t,o)&&(r=r.add(o))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(t,n,r){return gp()<=Wt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.zi.getDocumentsMatchingQuery(t,n,Ys.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class bX{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Dn(Zt),this.rs=new Wu(o=>r_(o),i_),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lX(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}async function zI(e,t){const n=Ct(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=jt();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:a,addedBatchIds:s}))})})}function FI(e){const t=Ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function wX(e,t){const n=Ct(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;s.push(n.Qr.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,u.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Ur.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(f,m,b){return f.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,u)&&s.push(n.Qr.updateTargetData(o,p))});let l=Ya(),c=jt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),s.push(function(u,h,d){let p=jt(),f=jt();return d.forEach(m=>p=p.add(m)),h.getEntries(u,p).next(m=>{let b=Ya();return d.forEach((v,_)=>{const w=m.get(v);_.isFoundDocument()!==w.isFoundDocument()&&(f=f.add(v)),_.isNoDocument()&&_.version.isEqual(At.min())?(h.removeEntry(v,_.readTime),b=b.insert(v,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||_.version.compareTo(w.version)===0&&w.hasPendingWrites?(h.addEntry(_),b=b.insert(v,_)):Ze("LocalStore","Ignoring outdated watch update for ",v,". Current version:",w.version," Watch version:",_.version)}),{cs:b,ls:f}})}(o,a,t.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(At.min())){const u=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(u)}return Te.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.ns=i,o))}function _X(e,t){const n=Ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}async function __(e,t,n){const r=Ct(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bp(a))throw a;Ze("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function UI(e,t,n){const r=Ct(e);let i=At.min(),o=jt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(s,l,c){const u=Ct(s),h=u.rs.get(c);return h!==void 0?Te.resolve(u.ns.get(h)):u.Qr.getTargetData(l,c)}(r,a,fa(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(a,t,n?i:At.min(),n?o:jt())).next(s=>(function(l,c,u){let h=l.ss.get(c)||At.min();u.forEach((d,p)=>{p.readTime.compareTo(h)>0&&(h=p.readTime)}),l.ss.set(c,h)}(r,function(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}(t),s),{documents:s,hs:o})))}class jI{constructor(){this.activeTargetIds=IY}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xX{constructor(){this.no=new jI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new jI,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class kX{io(t){}shutdown(){}}/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class VI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */let zg=null;function x_(){return zg===null?zg=268435456+Math.round(2147483648*Math.random()):zg++,"0x"+zg.toString(16);/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}const SX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class EX{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const Vr="WebChannelConnection";class AX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+t.host,this.So=`projects/${r}/databases/${i}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${i}`}get Do(){return!1}Co(t,n,r,i,o){const a=x_(),s=this.vo(t,n.toUriEncodedString());Ze("RestConnection",`Sending RPC '${t}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,i,o),this.Mo(t,s,l,r).then(c=>(Ze("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw Uu("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",s,"request:",r),c})}xo(t,n,r,i,o,a){return this.Co(t,n,r,i,o)}Fo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>t[o]=i),r&&r.headers.forEach((i,o)=>t[o]=i)}vo(t,n){const r=SX[t];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,i){const o=x_();return new Promise((a,s)=>{const l=new RR;l.setWithCredentials(!0),l.listenOnce(OR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bg.NO_ERROR:const u=l.getResponseJson();Ze(Vr,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),a(u);break;case bg.TIMEOUT:Ze(Vr,`RPC '${t}' ${o} timed out`),s(new et(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const h=l.getStatus();if(Ze(Vr,`RPC '${t}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const f=function(m){const b=m.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(b)>=0?b:Ae.UNKNOWN}(p.status);s(new et(f,p.message))}else s(new et(Ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new et(Ae.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{Ze(Vr,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(i);Ze(Vr,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(t,n,r){const i=x_(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=PR(),s=DR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new IR({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Ze(Vr,`Creating RPC '${t}' stream ${i}: ${u}`,l);const h=a.createWebChannel(u,l);let d=!1,p=!1;const f=new EX({lo:b=>{p?Ze(Vr,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(d||(Ze(Vr,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),Ze(Vr,`RPC '${t}' stream ${i} sending:`,b),h.send(b))},ho:()=>h.close()}),m=(b,v,_)=>{b.listen(v,w=>{try{_(w)}catch(x){setTimeout(()=>{throw x},0)}})};return m(h,mp.EventType.OPEN,()=>{p||(Ze(Vr,`RPC '${t}' stream ${i} transport opened.`),f.mo())}),m(h,mp.EventType.CLOSE,()=>{p||(p=!0,Ze(Vr,`RPC '${t}' stream ${i} transport closed`),f.po())}),m(h,mp.EventType.ERROR,b=>{p||(p=!0,Uu(Vr,`RPC '${t}' stream ${i} transport errored:`,b),f.po(new et(Ae.UNAVAILABLE,"The operation could not be completed")))}),m(h,mp.EventType.MESSAGE,b=>{var v;if(!p){const _=b.data[0];gn(!!_);const w=_,x=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(x){Ze(Vr,`RPC '${t}' stream ${i} received error:`,x);const E=x.status;let M=function(S){const C=nr[S];if(C!==void 0)return xI(C)}(E),T=x.message;M===void 0&&(M=Ae.INTERNAL,T="Unknown error status: "+E+" with message "+x.message),p=!0,f.po(new et(M,T)),h.close()}else Ze(Vr,`RPC '${t}' stream ${i} received:`,_),f.yo(_)}}),m(s,LR.STAT_EVENT,b=>{b.stat===K2.PROXY?Ze(Vr,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===K2.NOPROXY&&Ze(Vr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function k_(){return typeof document<"u"?document:null}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Fg(e){return new WY(e,!0)}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class qI{constructor(t,n,r=1e3,i=1.5,o=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class HI{constructor(t,n,r,i,o,a,s,l){this.oi=t,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new qI(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Ka(n.toString()),Ka("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{t(()=>{const i=new et(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CX extends HI{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=function(i,o){let a;if("targetChange"in o){o.targetChange;const l=(s=o.targetChange.targetChangeType||"NO_CHANGE")==="NO_CHANGE"?0:s==="ADD"?1:s==="REMOVE"?2:s==="CURRENT"?3:s==="RESET"?4:St(),c=o.targetChange.targetIds||[],u=function(p,f){return p.useProto3Json?(gn(f===void 0||typeof f=="string"),Ur.fromBase64String(f||"")):(gn(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ur.fromUint8Array(f||new Uint8Array))}(i,o.targetChange.resumeToken),h=o.targetChange.cause,d=h&&function(p){const f=p.code===void 0?Ae.UNKNOWN:xI(p.code);return new et(f,p.message||"")}(h);a=new AI(l,c,u,d||null)}else if("documentChange"in o){o.documentChange;const l=o.documentChange;l.document,l.document.name,l.document.updateTime;const c=g_(i,l.document.name),u=ma(l.document.updateTime),h=l.document.createTime?ma(l.document.createTime):At.min(),d=new Mo({mapValue:{fields:l.document.fields}}),p=jr.newFoundDocument(c,u,h,d),f=l.targetIds||[],m=l.removedTargetIds||[];a=new Ng(f,m,p.key,p)}else if("documentDelete"in o){o.documentDelete;const l=o.documentDelete;l.document;const c=g_(i,l.document),u=l.readTime?ma(l.readTime):At.min(),h=jr.newNoDocument(c,u),d=l.removedTargetIds||[];a=new Ng([],d,h.key,h)}else if("documentRemove"in o){o.documentRemove;const l=o.documentRemove;l.document;const c=g_(i,l.document),u=l.removedTargetIds||[];a=new Ng([],u,c,null)}else{if(!("filter"in o))return St();{o.filter;const l=o.filter;l.targetId;const{count:c=0,unchangedNames:u}=l,h=new jY(c,u),d=l.targetId;a=new EI(d,h)}}var s;return a}(this.serializer,t),r=function(i){if(!("targetChange"in i))return At.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?At.min():o.readTime?ma(o.readTime):At.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=v_(this.serializer),n.addTarget=function(i,o){let a;const s=o.target;if(a=o_(s)?{documents:QY(i,s)}:{query:YY(i,s)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RI(i,o.resumeToken);const l=d_(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(At.min())>0){a.readTime=Bg(i,o.snapshotVersion.toTimestamp());const l=d_(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=function(i,o){const a=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(o.purpose);return a==null?null:{"goog-listen-tags":a}}(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=v_(this.serializer),n.removeTarget=t,this.i_(n)}}class TX extends HI{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(gn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=function(i,o){return i&&i.length>0?(gn(o!==void 0),i.map(a=>function(s,l){let c=s.updateTime?ma(s.updateTime):ma(l);return c.isEqual(At.min())&&(c=ma(l)),new PY(c,s.transformResults||[])}(a,o))):[]}(t.writeResults,t.commitTime),r=ma(t.commitTime);return this.listener.A_(r,n)}return gn(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=v_(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>function(i,o){let a;if(o instanceof Dg)a={update:DI(i,o.key,o.value)};else if(o instanceof c_)a={delete:m_(i,o.key)};else if(o instanceof Ku)a={update:DI(i,o.key,o.data),updateMask:tX(o.fieldMask)};else{if(!(o instanceof zY))return St();a={verify:m_(i,o.key)}}return o.fieldTransforms.length>0&&(a.updateTransforms=o.fieldTransforms.map(s=>function(l,c){const u=c.transform;if(u instanceof Rg)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Tp)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Mp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ig)return{fieldPath:c.field.canonicalString(),increment:u.Pe};throw St()}(0,s))),o.precondition.isNone||(a.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:KY(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:St()}(i,o.precondition)),a}(this.serializer,r))};this.i_(n)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class MX extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new et(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(t,f_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new et(Ae.UNKNOWN,o.toString())})}xo(t,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.xo(t,f_(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new et(Ae.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class RX{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ka(n),this.y_=!1):Ze("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class IX{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{mc(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(s){const l=Ct(s);l.M_.add(4),await Lp(l),l.N_.set("Unknown"),l.M_.delete(4),await Ug(l)}(this))})}),this.N_=new RX(r,i)}}async function Ug(e){if(mc(e))for(const t of e.x_)await t(!0)}async function Lp(e){for(const t of e.x_)await t(!1)}function $I(e,t){const n=Ct(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),C_(n)?A_(n):Ju(n).Xo()&&E_(n,t))}function S_(e,t){const n=Ct(e),r=Ju(n);n.F_.delete(t),r.Xo()&&GI(n,t),n.F_.size===0&&(r.Xo()?r.n_():mc(n)&&n.N_.set("Unknown"))}function E_(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ju(e).P_(t)}function GI(e,t){e.L_.xe(t),Ju(e).I_(t)}function A_(e){e.L_=new qY({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ju(e).start(),e.N_.w_()}function C_(e){return mc(e)&&!Ju(e).Zo()&&e.F_.size>0}function mc(e){return Ct(e).M_.size===0}function WI(e){e.L_=void 0}async function OX(e){e.N_.set("Online")}async function LX(e){e.F_.forEach((t,n)=>{E_(e,t)})}async function DX(e,t){WI(e),C_(e)?(e.N_.D_(t),A_(e)):e.N_.set("Unknown")}async function PX(e,t,n){if(e.N_.set("Online"),t instanceof AI&&t.state===2&&t.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.F_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))}(e,t)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await jg(e,r)}else if(t instanceof Ng?e.L_.Ke(t):t instanceof EI?e.L_.He(t):e.L_.We(t),!n.isEqual(At.min()))try{const r=await FI(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.L_.rt(o);return a.targetChanges.forEach((s,l)=>{if(s.resumeToken.approximateByteSize()>0){const c=i.F_.get(l);c&&i.F_.set(l,c.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach((s,l)=>{const c=i.F_.get(s);if(!c)return;i.F_.set(s,c.withResumeToken(Ur.EMPTY_BYTE_STRING,c.snapshotVersion)),GI(i,s);const u=new Js(c.target,s,l,c.sequenceNumber);E_(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await jg(e,r)}}async function jg(e,t,n){if(!bp(t))throw t;e.M_.add(1),await Lp(e),e.N_.set("Offline"),n||(n=()=>FI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Ug(e)})}function KI(e,t){return t().catch(n=>jg(e,n,t))}async function Vg(e){const t=Ct(e),n=Zs(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;NX(t);)try{const i=await _X(t.localStore,r);if(i===null){t.v_.length===0&&n.n_();break}r=i.batchId,BX(t,i)}catch(i){await jg(t,i)}QI(t)&&YI(t)}function NX(e){return mc(e)&&e.v_.length<10}function BX(e,t){e.v_.push(t);const n=Zs(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function QI(e){return mc(e)&&!Zs(e).Zo()&&e.v_.length>0}function YI(e){Zs(e).start()}async function zX(e){Zs(e).V_()}async function FX(e){const t=Zs(e);for(const n of e.v_)t.d_(n.mutations)}async function UX(e,t,n){const r=e.v_.shift(),i=u_.from(r,t,n);await KI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Vg(e)}async function jX(e,t){t&&Zs(e).E_&&await async function(n,r){if(function(o){switch(o){default:return St();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}(i=r.code)&&i!==Ae.ABORTED){const o=n.v_.shift();Zs(n).t_(),await KI(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Vg(n)}var i}(e,t),QI(e)&&YI(e)}async function XI(e,t){const n=Ct(e);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=mc(n);n.M_.add(3),await Lp(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Ug(n)}function Ju(e){return e.B_||(e.B_=function(t,n,r){const i=Ct(t);return i.f_(),new CX(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Po:OX.bind(null,e),To:LX.bind(null,e),Ao:DX.bind(null,e),h_:PX.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),C_(e)?A_(e):e.N_.set("Unknown")):(await e.B_.stop(),WI(e))})),e.B_}function Zs(e){return e.k_||(e.k_=function(t,n,r){const i=Ct(t);return i.f_(),new TX(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:zX.bind(null,e),Ao:jX.bind(null,e),R_:FX.bind(null,e),A_:UX.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await Vg(e)):(await e.k_.stop(),e.v_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_;/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class T_{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new T_(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(e,t){if(Ka("AsyncQueue",`${t}: ${e}`),bp(e))return new et(Ae.UNAVAILABLE,`${t}: ${e}`);throw e}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Zu{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=Ap(),this.sortedSet=new Dn(this.comparator)}static emptySet(t){return new Zu(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Zu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Zu;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class JI{constructor(){this.q_=new Dn(ct.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):St():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class eh{constructor(t,n,r,i,o,a,s,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new eh(t,n,Zu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class VX{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class qX{constructor(){this.queries=new Wu(t=>oI(t),Cg),this.onlineState="Unknown",this.z_=new Set}}function HX(e,t){const n=Ct(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.U_)s.H_(i)&&(r=!0);a.K_=i}}r&&R_(n)}function $X(e,t,n){const r=Ct(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function R_(e){e.z_.forEach(t=>{t.next()})}var I_,ZI;(ZI=I_||(I_={})).J_="default",ZI.Cache="cache";class GX{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new eh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==I_.Cache}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class eO{constructor(t){this.key=t}}class tO{constructor(t){this.key=t}}class WX{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=jt(),this.mutatedKeys=jt(),this.Ia=aI(t),this.Ta=new Zu(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new JI,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,h)=>{const d=i.get(u),p=Tg(this.query,h)?h:null,f=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),b=!0):this.Ra(d,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Ia(p,l)>0||c&&this.Ia(p,c)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(l||c)&&(s=!0)),b&&(p?(a=a.add(p),o=m?o.add(u):o.delete(u)):(a=a.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ta:a,Aa:r,Xi:s,mutatedKeys:o}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const a=t.Aa.Q_();a.sort((u,h)=>function(d,p){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return f(d)-f(p)}(u.type,h.type)||this.Ia(u.doc,h.doc)),this.Va(r),i=i!=null&&i;const s=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,a.length!==0||c?{snapshot:new eh(this.query,t.Ta,o,a,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new JI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=jt(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new tO(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new eO(r))}),n}pa(t){this.la=t.hs,this.Pa=jt();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return eh.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class KX{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class QX{constructor(t){this.key=t,this.wa=!1}}class YX{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new Wu(s=>oI(s),Cg),this.Da=new Map,this.Ca=new Set,this.va=new Dn(ct.comparator),this.Fa=new Map,this.Ma=new y_,this.xa={},this.Oa=new Map,this.Na=Xu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function XX(e,t,n=!0){const r=cO(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await nO(r,t,n,!0),i}async function JX(e,t){const n=cO(e);await nO(n,t,!0,!1)}async function nO(e,t,n,r){const i=await function(l,c){const u=Ct(l);return u.persistence.runTransaction("Allocate target","readwrite",h=>{let d;return u.Qr.getTargetData(h,c).next(p=>p?(d=p,Te.resolve(d)):u.Qr.allocateTargetId(h).next(f=>(d=new Js(c,f,"TargetPurposeListen",h.currentSequenceNumber),u.Qr.addTargetData(h,d).next(()=>d))))}).then(h=>{const d=u.ns.get(h.targetId);return(d===null||h.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(u.ns=u.ns.insert(h.targetId,h),u.rs.set(c,h.targetId)),h})}(e.localStore,fa(t)),o=i.targetId,a=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let s;return r&&(s=await async function(l,c,u,h,d){l.Ba=(w,x,E)=>async function(M,T,S,C){let P=T.view.da(S);P.Xi&&(P=await UI(M.localStore,T.query,!1).then(({documents:ne})=>T.view.da(ne,P)));const U=C&&C.targetChanges.get(T.targetId),W=C&&C.targetMismatches.get(T.targetId)!=null,te=T.view.applyChanges(P,M.isPrimaryClient,U,W);return lO(M,T.targetId,te.fa),te.snapshot}(l,w,x,E);const p=await UI(l.localStore,c,!0),f=new WX(c,p.hs),m=f.da(p.documents),b=Op.createSynthesizedTargetChangeForCurrentChange(u,h&&l.onlineState!=="Offline",d),v=f.applyChanges(m,l.isPrimaryClient,b);lO(l,u,v.fa);const _=new KX(c,u,f);return l.ba.set(c,_),l.Da.has(u)?l.Da.get(u).push(c):l.Da.set(u,[c]),v.snapshot}(e,t,o,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&$I(e.remoteStore,i),s}async function ZX(e,t,n){const r=Ct(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!Cg(a,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await __(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&S_(r.remoteStore,i.targetId),O_(r,i.targetId)}).catch(yp)):(O_(r,i.targetId),await __(r.localStore,i.targetId,!0))}async function eJ(e,t){const n=Ct(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),S_(n.remoteStore,r.targetId))}async function tJ(e,t,n){const r=function(i){const o=Ct(i);return o.remoteStore.remoteSyncer.applySuccessfulWrite=rJ.bind(null,o),o.remoteStore.remoteSyncer.rejectFailedWrite=iJ.bind(null,o),o}(e);try{const i=await function(o,a){const s=Ct(o),l=cr.now(),c=a.reduce((d,p)=>d.add(p.key),jt());let u,h;return s.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=Ya(),f=jt();return s.os.getEntries(d,c).next(m=>{p=m,p.forEach((b,v)=>{v.isValidDocument()||(f=f.add(b))})}).next(()=>s.localDocuments.getOverlayedDocuments(d,p)).next(m=>{u=m;const b=[];for(const v of a){const _=BY(v,u.get(v.key).overlayedDocument);_!=null&&b.push(new Ku(v.key,_,WR(_.value.mapValue),Xa.exists(!0)))}return s.mutationQueue.addMutationBatch(d,l,b,a)}).next(m=>{h=m;const b=m.applyToLocalDocumentSet(u,f);return s.documentOverlayCache.saveOverlays(d,m.batchId,b)})}).then(()=>({batchId:h.batchId,changes:lI(u)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,s){let l=o.xa[o.currentUser.toKey()];l||(l=new Dn(Zt)),l=l.insert(a,s),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Dp(r,i.changes),await Vg(r.remoteStore)}catch(i){const o=M_(i,"Failed to persist write");n.reject(o)}}async function rO(e,t){const n=Ct(e);try{const r=await wX(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?gn(a.wa):i.removedDocuments.size>0&&(gn(a.wa),a.wa=!1))}),await Dp(n,r,t)}catch(r){await yp(r)}}function iO(e,t,n){const r=Ct(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const s=a.view.j_(t);s.snapshot&&i.push(s.snapshot)}),function(o,a){const s=Ct(o);s.onlineState=a;let l=!1;s.queries.forEach((c,u)=>{for(const h of u.U_)h.j_(a)&&(l=!0)}),l&&R_(s)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nJ(e,t,n){const r=Ct(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let a=new Dn(ct.comparator);a=a.insert(o,jr.newNoDocument(o,At.min()));const s=jt().add(o),l=new Pg(At.min(),new Map,new Dn(Zt),a,s);await rO(r,l),r.va=r.va.remove(o),r.Fa.delete(t),L_(r)}else await __(r.localStore,t,!1).then(()=>O_(r,t,n)).catch(yp)}async function rJ(e,t){const n=Ct(e),r=t.batch.batchId;try{const i=await function(o,a){const s=Ct(o);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",l=>{const c=a.batch.keys(),u=s.os.newChangeBuffer({trackRemovals:!0});return function(h,d,p,f){const m=p.batch,b=m.keys();let v=Te.resolve();return b.forEach(_=>{v=v.next(()=>f.getEntry(d,_)).next(w=>{const x=p.docVersions.get(_);gn(x!==null),w.version.compareTo(x)<0&&(m.applyToRemoteDocument(w,p),w.isValidDocument()&&(w.setReadTime(p.commitVersion),f.addEntry(w)))})}),v.next(()=>h.mutationQueue.removeMutationBatch(d,m))}(s,l,a,u).next(()=>u.apply(l)).next(()=>s.mutationQueue.performConsistencyCheck(l)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(l,c,a.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,function(h){let d=jt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(a))).next(()=>s.localDocuments.getDocuments(l,c))})}(n.localStore,t);aO(n,r,null),oO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dp(n,i)}catch(i){await yp(i)}}async function iJ(e,t,n){const r=Ct(e);try{const i=await function(o,a){const s=Ct(o);return s.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return s.mutationQueue.lookupMutationBatch(l,a).next(u=>(gn(u!==null),c=u.keys(),s.mutationQueue.removeMutationBatch(l,u))).next(()=>s.mutationQueue.performConsistencyCheck(l)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>s.localDocuments.getDocuments(l,c))})}(r.localStore,t);aO(r,t,n),oO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dp(r,i)}catch(i){await yp(i)}}function oO(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function aO(e,t,n){const r=Ct(e);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function O_(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||sO(e,r)})}function sO(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(S_(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),L_(e))}function lO(e,t,n){for(const r of n)r instanceof eO?(e.Ma.addReference(r.key,t),oJ(e,r)):r instanceof tO?(Ze("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||sO(e,r.key)):St()}function oJ(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ze("SyncEngine","New document in limbo: "+n),e.Ca.add(r),L_(e))}function L_(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new ct(_n.fromString(t)),r=e.Na.next();e.Fa.set(r,new QX(n)),e.va=e.va.insert(n,r),$I(e.remoteStore,new Js(fa(a_(n.path)),r,"TargetPurposeLimboResolution",Y2.oe))}}async function Dp(e,t,n){const r=Ct(e),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((s,l)=>{a.push(r.Ba(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient){const u=c&&!c.fromCache;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){i.push(c);const u=w_.Ki(l.targetId,c);o.push(u)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(s,l){const c=Ct(s);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Te.forEach(l,h=>Te.forEach(h.qi,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>Te.forEach(h.Qi,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!bp(u))throw u;Ze("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const d=c.ns.get(h),p=d.snapshotVersion,f=d.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,f)}}}(r.localStore,o))}async function aJ(e,t){const n=Ct(e);if(!n.currentUser.isEqual(t)){Ze("SyncEngine","User change. New user:",t.toKey());const r=await zI(n.localStore,t);n.currentUser=t,function(i,o){i.Oa.forEach(a=>{a.forEach(s=>{s.reject(new et(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Oa.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dp(n,r.us)}}function sJ(e,t){const n=Ct(e),r=n.Fa.get(t);if(r&&r.wa)return jt().add(r.key);{let i=jt();const o=n.Da.get(t);if(!o)return i;for(const a of o){const s=n.ba.get(a);i=i.unionWith(s.view.Ea)}return i}}function cO(e){const t=Ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sJ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nJ.bind(null,t),t.Sa.h_=HX.bind(null,t.eventManager),t.Sa.ka=$X.bind(null,t.eventManager),t}class uO{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Fg(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return function(n,r,i,o){return new bX(n,r,i,o)}(this.persistence,new yX,t.initialUser,this.serializer)}createPersistence(t){return new mX(b_.Hr,this.serializer)}createSharedClientState(t){return new xX}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lJ{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aJ.bind(null,this.syncEngine),await async function(r,i){const o=Ct(r);i?(o.M_.delete(2),await Ug(o)):i||(o.M_.add(2),await Lp(o),o.N_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new qX}createDatastore(t){const n=Fg(t.databaseInfo.databaseId),r=function(i){return new AX(i)}(t.databaseInfo);return function(i,o,a,s){return new MX(i,o,a,s)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(n,r,i,o,a){return new IX(n,r,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>iO(this.syncEngine,n,0),VI.D()?new VI:new kX)}createSyncEngine(t,n){return function(r,i,o,a,s,l,c){const u=new YX(r,i,o,a,s,l);return c&&(u.La=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(n){const r=Ct(n);Ze("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await Lp(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *//**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class cJ{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Ka("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class uJ{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=zR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ze("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=M_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function D_(e,t){e.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zI(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function hO(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await D_(r,r._uninitializedComponentsProvider._offline)}catch(i){const o=i;if(!function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(o))throw o;Uu("Error using user provided cache. Falling back to memory cache: "+o),await D_(r,new uO)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await D_(r,new uO);return r._offlineComponents}(e);Ze("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>XI(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>XI(t.remoteStore,i)),e._onlineComponents=t}async function dO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await hO(e,e._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await hO(e,new lJ))),e._onlineComponents}async function pO(e){const t=await dO(e),n=t.eventManager;return n.onListen=XX.bind(null,t.syncEngine),n.onUnlisten=ZX.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=JX.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eJ.bind(null,t.syncEngine),n;/**
     * @license
     * Copyright 2023 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function fO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t;/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}const mO=new Map;/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gO(e,t,n){if(!n)throw new et(Ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vO(e){if(!ct.isDocumentKey(e))throw new et(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yO(e){if(ct.isDocumentKey(e))throw new et(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St()}function Pp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new et(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qg(e);throw new et(Ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class bO{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new et(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new et(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(i,o,a,s){if(o===!0&&s===!0)throw new et(Ae.INVALID_ARGUMENT,`${i} and ${a} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fO((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new et(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new et(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bO(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new rY;switch(n.type){case"firstParty":return new sY(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new et(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=mO.get(t);n&&(Ze("ComponentProvider","Removing Datastore"),mO.delete(t),n.terminate())}(this),Promise.resolve()}}function hJ(e,t,n,r={}){var i;const o=(e=Pp(e,Hg))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Fr.MOCK_USER;else{s=function(u,h){if(u.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const d=h||"demo-project",p=u.iat||0,f=u.sub||u.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${d}`,aud:d,iat:p,exp:p+3600,auth_time:p,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},u);return[hg(JSON.stringify({alg:"none",type:"JWT"})),hg(JSON.stringify(m)),""].join(".")}(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new et(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fr(c)}e._authCredentials=new iY(new BR(s,l))}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class gc{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new gc(this.firestore,t,this._query)}}class qi{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}}class el extends gc{constructor(t,n,r){super(t,n,a_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new ct(t))}withConverter(t){return new el(this.firestore,t,this._path)}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class dJ{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new qI(this,"async_queue_retry"),this.hu=()=>{const n=k_();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=k_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=k_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new hc;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!bp(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{throw this.au=r,this.uu=!1,Ka("INTERNAL UNHANDLED ERROR: ",function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=T_.createAndSchedule(this,t,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&St()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}function wO(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&typeof r[i]=="function")return!0;return!1}(e)}class $g extends Hg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new dJ,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xO(this),this._firestoreClient.terminate()}}function _O(e){return e._firestoreClient||xO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xO(e){var t,n,r;const i=e._freezeSettings(),o=function(a,s,l,c){return new vY(a,s,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,fO(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new uJ(e._authCredentials,e._appCheckCredentials,e._queue,o),(n=i.localCache)!==null&&n!==void 0&&n._offlineComponentProvider&&(r=i.localCache)!==null&&r!==void 0&&r._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class th{constructor(t){this._byteString=t}static fromBase64String(t){try{return new th(Ur.fromBase64String(t))}catch(n){throw new et(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new th(Ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class kO{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new et(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class SO{constructor(t){this._methodName=t}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class P_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new et(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new et(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */const pJ=/^__.*__$/;function EO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class N_{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new N_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return z_(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(EO(this.fu)&&pJ.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class fJ{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Fg(t)}Fu(t,n,r,i=!1){return new N_({fu:t,methodName:n,vu:r,path:xr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B_(e,t){if(AO(e=Gs(e)))return function(n,r,i){if(!AO(i)||(o=i,typeof o!="object"||o===null||Object.getPrototypeOf(o)!==Object.prototype&&Object.getPrototypeOf(o)!==null)){const a=qg(i);throw a==="an object"?r.Du(n+" a custom object"):r.Du(n+" "+a)}var o}("Unsupported field value:",t,e),function(n,r){const i={};return UR(n)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Vu(n,(o,a)=>{const s=B_(a,r.pu(o));s!=null&&(i[o]=s)}),{mapValue:{fields:i}}}(e,t);if(e instanceof SO)return function(n,r){if(!EO(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const a of n){let s=B_(a,r.bu(o));s==null&&(s={nullValue:"NULL_VALUE"}),i.push(s),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Gs(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return OY(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=cr.fromDate(n);return{timestampValue:Bg(r.serializer,i)}}if(n instanceof cr){const i=new cr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bg(r.serializer,i)}}if(n instanceof P_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof th)return{bytesValue:RI(r.serializer,n._byteString)};if(n instanceof qi){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${qg(n)}`)}(e,t)}function AO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof cr||e instanceof P_||e instanceof th||e instanceof qi||e instanceof SO)}const mJ=new RegExp("[~\\*/\\[\\]]");function z_(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new et(Ae.INVALID_ARGUMENT,s+e+l);/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}class CO{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(F_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gJ extends CO{data(){return super.data()}}function F_(e,t){return typeof t=="string"?function(n,r,i){if(r.search(mJ)>=0)throw z_(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new kO(...r.split("."))._internalPath}catch{throw z_(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}(e,t):t instanceof kO?t._internalPath:t._delegate._internalPath}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class U_{}class TO extends U_{}function MO(e,t,...n){let r=[];t instanceof U_&&r.push(t),r=r.concat(n),function(i){const o=i.filter(s=>s instanceof V_).length,a=i.filter(s=>s instanceof j_).length;if(o>1||o>0&&a>0)throw new et(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class j_ extends TO{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new j_(t,n,r)}_apply(t){const n=this._parse(t);return OO(t._query,n),new gc(t.firestore,t.converter,s_(t._query,n))}_parse(t){const n=function(r){const i=r._freezeSettings(),o=Fg(r._databaseId);return new fJ(r._databaseId,!!i.ignoreUndefinedProperties,o)}(t.firestore);return function(r,i,o,a,s,l,c){let u;if(s.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new et(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){IO(c,l);const h=[];for(const d of c)h.push(RO(a,r,d));u={arrayValue:{values:h}}}else u=RO(a,r,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||IO(c,l),u=function(h,d,p,f=!1){return B_(p,h.Fu(f?4:3,d))}(o,"where",c,l==="in"||l==="not-in");return tr.create(s,l,u)}(t._query,0,n,t.firestore._databaseId,this._field,this._op,this._value)}}class V_ extends U_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new V_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ro.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const s of a)OO(o,s),o=s_(o,s)}(t._query,n),new gc(t.firestore,t.converter,s_(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q_ extends TO{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new q_(t,n)}_apply(t){const n=function(r,i,o){if(r.startAt!==null)throw new et(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new et(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sp(i,o)}(t._query,this._field,this._direction);return new gc(t.firestore,t.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new $u(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function RO(e,t,n){if(typeof(n=Gs(n))=="string"){if(n==="")throw new et(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iI(t)&&n.indexOf("/")!==-1)throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(_n.fromString(n));if(!ct.isDocumentKey(r))throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HR(e,new ct(r))}if(n instanceof qi)return HR(e,n._key);throw new et(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(n)}.`)}function IO(e,t){if(!Array.isArray(e)||e.length===0)throw new et(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OO(e,t){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new et(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new et(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vJ{convertValue(t,n="none"){switch(pc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return er(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw St()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Vu(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new P_(er(t.latitude),er(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=J2(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wp(t));default:return null}}convertTimestamp(t){const n=Xs(t);return new cr(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=_n.fromString(t);gn(BI(r));const i=new _p(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return i.isEqual(n)||Ka(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */class Np{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class LO extends CO{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(F_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gg extends LO{data(t={}){return super.data(t)}}class yJ{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Gg(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new et(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const s=new Gg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Np(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const s=new Gg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Np(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:bJ(a.type),doc:s,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bJ(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}class DO extends vJ{constructor(t){super(),this.firestore=t}convertBytes(t){return new th(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,n)}}function wJ(e){return function(t,n){return function(r,i){const o=new hc;return r.asyncQueue.enqueueAndForget(async()=>tJ(await function(a){return dO(a).then(s=>s.syncEngine)}(r),i,o)),o.promise}(_O(t),n)}(Pp(e.firestore,$g),[new c_(e._key,Xa.none())])}function _J(e,...t){var n,r,i;e=Gs(e);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||wO(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wO(t[a])){const h=t[a];t[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,u;if(e instanceof qi)c=Pp(e.firestore,$g),u=a_(e._key.path),l={next:h=>{t[a]&&t[a](function(d,p,f){const m=f.docs.get(p._key),b=new DO(d);return new LO(d,b,p._key,m,new Np(f.hasPendingWrites,f.fromCache),p.converter)}(c,e,h))},error:t[a+1],complete:t[a+2]};else{const h=Pp(e,gc);c=Pp(h.firestore,$g),u=h._query;const d=new DO(c);l={next:p=>{t[a]&&t[a](new yJ(c,d,h,p))},error:t[a+1],complete:t[a+2]},function(p){if(p.limitType==="L"&&p.explicitOrderBy.length===0)throw new et(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(h,d,p,f){const m=new cJ(f),b=new GX(d,m,p);return h.asyncQueue.enqueueAndForget(async()=>async function(v,_){const w=Ct(v);let x=3;const E=_.query;let M=w.queries.get(E);M?!M.W_()&&_.G_()&&(x=2):(M=new VX,x=_.G_()?0:1);try{switch(x){case 0:M.K_=await w.onListen(E,!0);break;case 1:M.K_=await w.onListen(E,!1);break;case 2:await w.onFirstRemoteStoreListen(E)}}catch(T){const S=M_(T,`Initialization of query '${Gu(_.query)}' failed`);return void _.onError(S)}w.queries.set(E,M),M.U_.push(_),_.j_(w.onlineState),M.K_&&_.H_(M.K_)&&R_(w)}(await pO(h),b)),()=>{m.$a(),h.asyncQueue.enqueueAndForget(async()=>async function(v,_){const w=Ct(v),x=_.query;let E=3;const M=w.queries.get(x);if(M){const T=M.U_.indexOf(_);T>=0&&(M.U_.splice(T,1),M.U_.length===0?E=_.G_()?0:1:!M.W_()&&_.G_()&&(E=2))}switch(E){case 0:return w.queries.delete(x),w.onUnlisten(x,!0);case 1:return w.queries.delete(x),w.onUnlisten(x,!1);case 2:return w.onLastRemoteStoreUnlisten(x);default:return}}(await pO(h),b))}}(_O(c),u,s,l)}(function(e,t=!0){Fu="10.12.2",Ks(new Wa("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new $g(new oY(n.getProvider("auth-internal")),new cY(n.getProvider("app-check-internal")),function(s,l){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new et(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(s.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),da(NR,"4.6.3",e),da(NR,"4.6.3","esm2017")})();const xJ=(e,t,n="desc")=>{const r=kt.firestore;if(!r)return;const i=MO(function(o,a,...s){if(o=Gs(o),gO("collection","path",a),o instanceof Hg){const l=_n.fromString(a,...s);return yO(l),new el(o,null,l)}{if(!(o instanceof qi||o instanceof el))throw new et(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=o._path.child(_n.fromString(a,...s));return yO(l),new el(o.firestore,null,l)}}(r,e),function(o,a="asc"){const s=a,l=F_("orderBy",o);return q_._create(l,s)}("createdAt",n));return _J(MO(i),o=>{const a=o.docs.map(s=>{const l=s.data();return{id:s.id,...l}});t(a)})},kJ=async(e,t)=>{const n=kt.firestore;if(n)try{await wJ(function(r,i,...o){if(r=Gs(r),arguments.length===1&&(i=zR.newId()),gO("doc","path",i),r instanceof Hg){const a=_n.fromString(i,...o);return vO(a),new qi(r,null,new ct(a))}{if(!(r instanceof qi||r instanceof el))throw new et(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_n.fromString(i,...o));return vO(a),new qi(r.firestore,r instanceof el?r.converter:null,new ct(a))}}(n,e,t))}catch{}},SJ=e=>({id:e.messageId.toString(),live_chat_message_id:e.id,timestamp:e.createdAt.toDate().toISOString(),text:e.text,done:!0,sender:e.sender,type:e.senderType}),EJ=(e,t)=>{const{senderType:n,text:r}=t;if(n!=="system")return;const i=r.includes("left the conversation"),o=r.includes("joined the conversation");switch(!0){case i:e(zS(!0));break;case o:e(zw("liveChat"))}},AJ=()=>{const e=In(),t=Se(i=>i.chatBox.isLiveChatEnded),n=Se(i=>i.chatBox.agent),r=Se($n);return t?G("div",{className:"flex p-4 gap-16 items-center",children:G("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded",onClick:async()=>{!r||n==null||!n.id||(await e(ko({threadId:r})),kt.scrollToBottom(200))},children:"Start a new conversation"})}):null},CJ=()=>{const{mutate:e}=TM(),t=Se($n),[n,r]=re.useState(void 0),i=Se(a=>a.chatBox.showSearchBar),o=Kw(()=>{n&&t&&e({conversation_id:t,rating:n,comment:""})},1e3);return re.useEffect(()=>{o()},[o,n]),i?G(TJ,{className:"has-tooltip",children:G(CM,{rating:n,setRating:r})}):null},TJ=ht("div",{target:"e1okewqg0"})({name:"3nezot",styles:"position:absolute;right:16px;bottom:-2px;width:120px"}),Wg=e=>{var t,n;const r=(n=(t=kt.containerRef)==null?void 0:t.current)==null?void 0:n.getBoundingClientRect(),i=(r==null?void 0:r.width)??0,o=(r==null?void 0:r.height)??0,{width:a,height:s}=(()=>{var u,h;return{height:((u=window.visualViewport)==null?void 0:u.height)??window.innerHeight,width:((h=window.visualViewport)==null?void 0:h.width)??window.innerWidth}})();let l=a-100,c=s-160;return e==="avatai"&&(l=a-100,c=s-140),l=Math.max(l,i),c=Math.max(c,o),{maxWidth:l,maxHeight:c}},MJ=()=>{const e=Se(o=>o.chatBox.botMode),t=kt.containerRef,n=Se(o=>o.chatBox.resizingType),r=In(),i=(o,a,s)=>{const{newWidth:l,newHeight:c}=((u,h,d)=>{var p,f;let m=u,b=h;switch(e){case"avatai":{const v=.6666666666666666,_=320,w=480,{maxWidth:x,maxHeight:E}=Wg(e);d==="top"||d==="bottom"?(b=Math.min(Math.max(w,h),E),m=b*v,m>x&&(m=x,b=m/v)):(m=Math.min(Math.max(_,u),x),b=m/v,b>E&&(b=E,m=b*v)),m=Math.min(Math.max(_,m),x),b=Math.min(Math.max(w,b),E);break}case"avataiToggle":{const v=(f=(p=kt.avatarVideoContainerRef)==null?void 0:p.current)==null?void 0:f.getBoundingClientRect();if(v){const _=v.width/v.height,{maxWidth:w,maxHeight:x}=Wg(e);if(d==="top"||d==="bottom"){b=Math.min(Math.max(460,h),x);const E=w-b*_;E<400&&(b=(w-400)/_),m=Math.min(Math.max(400,u),E)}else m=Math.min(Math.max(400,u),w-v.width),b=Math.min(Math.max(460,h),x)}break}default:{const{maxWidth:v,maxHeight:_}=Wg(e);m=Math.min(Math.max(400,m),v),b=Math.min(Math.max(250,b),_);break}}return{newWidth:m,newHeight:b}})(o,a,s??n);r(Ej(l)),r(Cj(l)),r(Aj(c)),r(Tj(c))};return{handleResize:o=>{var a;const s=(a=t==null?void 0:t.current)==null?void 0:a.getBoundingClientRect();if(!s)return;let l=s.width,c=s.height;switch(n){case"top":case"bottom":c=n==="top"?s.bottom-o.clientY:o.clientY-s.top,document.body.style.cursor="ns-resize";break;case"left":case"right":l=n==="left"?s.right-o.clientX:o.clientX-s.left,document.body.style.cursor="ew-resize";break;default:return void(document.body.style.cursor="auto")}i(l,c),window.dispatchEvent(new Event("resize"))},updateRect:()=>{var o,a,s;if(!Jr(e))return;const l=(o=t==null?void 0:t.current)==null?void 0:o.getBoundingClientRect();if(!l)return;const c=(s=(a=kt.avatarVideoContainerRef)==null?void 0:a.current)==null?void 0:s.getBoundingClientRect();let u=n,h=!1;const{maxWidth:d,maxHeight:p}=Wg(e);u||(e==="avatai"?l.width>=d?(h=!0,u="left"):l.height>=p&&(h=!0,u="top"):e==="avataiToggle"&&c&&(l.width+c.width>=d?(h=!0,u="left"):l.height>=p&&(h=!0,u="top"))),h&&i(l.width,l.height,u)}}},PO=uu("chat/initChatThunk",async(e,{dispatch:t,getState:n})=>{const r=n(),i=r.chatBox.agent,o=r.chatBox.botMode;if(!i||(i==null?void 0:i.id)==="loading")return;let a=Ds(r);for(;a!=null&&a.waitingForReply;){await new Promise(c=>setTimeout(c,1e3));const s=Uw()[a.id];if(s!=null&&s.waitingForReply)continue;const l=mb(s==null?void 0:s.messages);l!=null&&l.done&&(a=s)}if(a){const s=r.chatBox.expiredTime;_m(a,s)?await t(ko({threadId:a.id})):(t(WS(a)),a.chatAgentType==="liveChat"&&t(zw("liveChat")),Jr(o)&&(a.pull_stream_url||(om(),t(Sj(void 0)))))}else t(Su())});let H_=null,$_=null,NO=0;const RJ=({options:e,tokenUsageRefresh:t})=>{const n=Se(fe=>fe.chatBox.showChatBox),r=Se(fe=>fe.chatBox.chatAgentType),i=In(),o=Se(fe=>fe.chatBox.isUserTyping);Se(fe=>fe.chatBox.botMode);const{handleResize:a,updateRect:s}=MJ(),l=Se(fe=>fe.chatBox.useLiveXCopilot),c=Gl(),u=n&&(l||c),{mutateAsync:h}=KK();(()=>{const fe=In(),le=((F,K)=>{if(K)return`${F}_${K}`})("livechat_messages",Se($n)),[N,H]=re.useState([]);re.useEffect(()=>{if(H([]),!le)return;const F=xJ(le,async K=>{const ye=K;for(const me of ye){EJ(fe,me);const Pe=SJ(me);await fe(xm(Pe)),me.senderType==="agent"&&kJ(le,me.id)}},"asc");return()=>{F&&F()}},[fe,le])})(),re.useEffect(()=>{i(Nw(!1))},[i]);const d=Se(fe=>fe.chatBox.agent),p=Se(fe=>fe.chatBox.source),f=Se(fe=>fe.chatBox.showNavigationView),m=Se(fe=>fe.chatBox.showConfirmCloseView),b=US();re.useEffect(()=>{b&&i(NS(!1))},[i,b]);const v=re.useRef(null);kt.chatWrapperRef=v;const _=b0(Uj),w=b0(jw),x=Se(Ds),E=x==null?void 0:x.id,M=(x==null?void 0:x.waitingForReply)??!1,T=(fe=>{var le,N,H;const F=E2(),K=Gl(),ye=Se(Be=>Be.chatBox.resizingType),me=$l();Se(Be=>Be.chatBox.visualViewportUpdatedAt);const Pe=vm(),Ue=Se(Be=>Be.chatBox.botMode),de=Se(Be=>Be.chatBox.chatBoxWidth),be=Se(Be=>Be.chatBox.chatBoxHeight),Le=Se(Be=>Be.chatBox.source),Ve=Se(Be=>Be.chatBox.agent),He=((le=Ve==null?void 0:Ve.config)==null?void 0:le.style)??{},{vertical:st,horizontal:Rt,z_index:Et}=He;Se(Be=>Be.chatBox.visualViewportUpdatedAt);const Ot=So(),{text_color:Kt,background_color:bt}=Ot,rt=((N=window.visualViewport)==null?void 0:N.width)||window.innerWidth,We=((H=window.visualViewport)==null?void 0:H.height)||window.innerHeight,nn=Math.min(parseInt(`${de}`),rt-100),rr=Math.min(parseInt(`${be}`),We-100),Lt=`calc(${We}px - ${(He==null?void 0:He.vertical_offset)??"20px"} - 100px)`;if(me)return{width:rt,height:We,maxHeight:"unset",borderRadius:0,zIndex:Et,background:bt};if(K&&!$t){document.documentElement.style.backgroundColor=ou(.4,Ot.primary_color);let Be=Math.min(.6*rt,830),xn=We-40,Er=(rt-Be)/2,Wn=(We-xn)/2;return rt<830&&(Er=0,Wn=0,Be=rt,xn=We),{overflow:"hidden",width:Be,height:xn,maxHeight:"unset",position:"fixed",left:Er,bottom:Wn,background:bt,borderRadius:16,zIndex:Et}}if(Pe){document.documentElement.style.backgroundColor=ou(.4,Ot.primary_color);let Be=rt>960?.7:1;$t&&(Be=1);const xn=rt*Be;return{width:xn,height:We,maxHeight:"unset",borderRadius:0,position:"fixed",left:Math.max(rt-xn,0)/2,bottom:0,background:bt,boxShadow:"rgba(0, 0, 0, 0.24) 0px 3px 8px",zIndex:Et}}let en={...fe.style,width:nn,height:rr,color:Kt,background:bt,marginBottom:"80px",maxHeight:Lt,overflow:"hidden",borderRadius:8,zIndex:Et};return(He==null?void 0:He.vertical)==="top"&&(delete en.marginBottom,en.marginTop="80px"),st==="center"&&Rt==="center"&&(delete en.marginBottom,en=gb(en,{maxHeight:"90vh",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed",maxWidth:"90vw"})),ye&&(en.userSelect="none"),$t&&(en=gb(en,{width:"100vw",height:"100vh",marginBottom:0,maxHeight:"unset",position:"fixed",right:0,bottom:0,borderRadius:0,zIndex:Et,overscrollBehavior:"contain"}),en.overflow="scroll",Le==="playground"&&(en.height=We-100)),Jr(Ue)&&(en.minWidth=320,en.minHeight=480,Ue==="avatai"&&(en.background=F?"white":"transparent")),en})(e),[S,C]=dE();kt.containerRef=S;const P=re.useRef(null);kt.headerRef=P;const U=lz(()=>{$t&&(C.y<200||(window.document.documentElement.scrollTop=C.y+120))},100);re.useLayoutEffect(()=>{o&&U()},[U,C,o]),re.useEffect(()=>{kt.scrollToBottom=fe=>{n&&(H_&&clearTimeout(H_),H_=setTimeout(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},fe))},kt.scrollToLastMessagePair=()=>{n&&($_&&clearTimeout($_),$_=setTimeout(()=>{var fe;const le=(fe=v.current)==null?void 0:fe.querySelector("#last-message-pair");le?le.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}):NO<10&&(NO++,kt.scrollToLastMessagePair())},200))}},[n]);const W=re.useMemo(()=>({onSendMessage:fe=>{switch(r){case"ai":i(Fa(fe));break;case"liveChat":h({text:fe.text})}},onMessageUpdated:()=>{e.autoScrollToBottom&&kt.scrollToLastMessagePair()},onTokenUsageRefresh:()=>{t==null||t()}}),[r,i,e.autoScrollToBottom,h,t]),te=re.useCallback(fe=>{let le;return le&&cancelAnimationFrame(le),le=requestAnimationFrame(()=>a(fe)),()=>{cancelAnimationFrame(le)}},[a]);re.useEffect(()=>{const fe=()=>{i(Gd(null))};if(e.enableResize){window.addEventListener("mousemove",te),window.addEventListener("mouseup",fe);const le=(()=>{var N;return(N=document.querySelector("iframe#livex-chatbox-iframe"))==null?void 0:N.contentWindow})();return le&&(le.addEventListener("mousemove",te),le.addEventListener("mouseup",fe)),()=>{window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",fe),le&&(le.removeEventListener("mousemove",te),le.removeEventListener("mouseup",fe))}}},[i,e.enableResize,te]),re.useEffect(()=>{s()},[s,n]),re.useEffect(()=>{u&&_&&(!d||d.id==="loading"||i(PO()))},[_,d,i,p,E,u]);const ne=!e.enableSendMessage||w.status===Hl||M,ae=!e.enableMessageComposer;if(d==null||!d.id)return null;let he="flex flex-col flex-grow items-stretch right-1/100 z-50 max-h-[calc(100vh-7em)] md:max-h-full shadow-lg";return c&&(he+=" border border-gray-200"),u||(T.display="none"),G("div",{className:he,style:T,ref:S,onMouseOver:()=>{document.documentElement.style.overscrollBehaviorX="none"},onMouseOut:()=>{document.documentElement.style.overscrollBehaviorX="unset"},children:Fe("div",{className:"h-full flex flex-col relative",children:[e.enableResize&&Fe(wl,{children:[G(BO,{onMouseDown:()=>i(Gd("left")),style:{left:0}}),G(BO,{onMouseDown:()=>i(Gd("right")),style:{right:0}}),G(zO,{onMouseDown:()=>i(Gd("top")),style:{top:-3}}),G(zO,{onMouseDown:()=>i(Gd("bottom")),style:{bottom:-3}})]}),G(zK,{ref:P,options:e}),(()=>{if(m)return G(WK,{});let fe=null;return fe=f?G(UK,{}):G(bK,{ref:v,callbacks:W}),Fe(wl,{children:[fe,Fe(_K,{children:[G(AJ,{}),G(RV,{isOnPlayground:p==="playground",callbacks:W,disabled:ae,disableSend:ne}),G(SK,{}),(!$t||!o)&&G(CJ,{})]})]})})()]})})},BO=ht("div",{target:"e1apzu461"})({name:"18qbkec",styles:"display:block;cursor:ew-resize;opacity:0;resize:horizontal;position:absolute;top:0;min-height:100%;height:100%;width:6px;z-index:99"}),zO=ht("div",{target:"e1apzu460"})({name:"b5buw",styles:"display:block;cursor:ns-resize;opacity:0;resize:vertical;position:absolute;left:0;height:6px;width:100%;z-index:99"}),IJ=e=>{const{color:t="white"}=e;return Fe("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 500 500",width:"100%",height:"100%",children:[G("path",{d:"M137.73 117.671h228.309c27.614 0 50 22.386 50 50v155.41c0 27.614-22.386 50-50 50H240.533l-75.154 77.491-.002-77.491H137.73c-27.614 0-50-22.386-50-50v-155.41c0-27.614 22.386-50 50-50Z",style:{stroke:t,fill:"transparent",strokeWidth:25,strokeMiterlimit:5.26,strokeLinejoin:"round"}}),G("path",{d:"M189.955 296.294c16.719 14.664 39.168 21.496 67.349 20.495 22.148-.787 43.399-7.074 63.754-18.862",style:{stroke:t,fill:"transparent",strokeWidth:24,strokeLinecap:"round",strokeLinejoin:"round"}}),G("circle",{cx:178.893,cy:236.567,r:26.588,style:{fill:t,stroke:t}}),G("circle",{cx:326.754,cy:237.006,r:26.588,style:{stroke:t,fill:t,transformOrigin:"468.323px 240.39px"}}),G("circle",{cx:253.734,cy:60.884,r:24.542,style:{fill:t,stroke:t,transformOrigin:"384.409px 64.007px"}}),G("path",{d:"M254.185 114.959c-.768-1.276-.951-43.509-.183-42.233",style:{stroke:t,strokeWidth:26,strokeLinecap:"round"}})]})},Bp=$t?20:30,FO="rgb(242, 242, 242)",G_="rgba(0, 0, 0, 0.24) 0px 3px 8px",OJ=({agent:e,popupQuestions:t})=>{var n,r,i,o,a,s,l;const c=In(),u=(n=e==null?void 0:e.config)==null?void 0:n.style,h=((i=(r=e==null?void 0:e.config)==null?void 0:r.welcome_message)==null?void 0:i.json_response)||((a=(o=e==null?void 0:e.config)==null?void 0:o.initial_message)==null?void 0:a.json_response),d=t||((l=(s=e==null?void 0:e.config)==null?void 0:s.welcome_message)==null?void 0:l.json_response.buttons)||[],p=Se(x=>x.chatBox.showWelcomeMessage),f=p?1:0,m=(u==null?void 0:u.vertical_offset)||"30px";let b=parseInt(m);$t&&(b-=12);const v={transitionDelay:p?"3s":"0s",opacity:f,bottom:`calc(${`${b+40}px`} + 40px)`,right:Bp},_={borderRadius:"50%",top:"-50px",right:0,position:"absolute",boxShadow:G_};if((u==null?void 0:u.horizontal)==="left"&&(delete v.right,v.left="30px",delete _.right,_.left=0),re.useEffect(()=>{if(p)return;const x=setTimeout(()=>{const E=document.querySelector("livex-chatbox-welcome-message-container");E&&(E.style.display="none")},500);return()=>{clearTimeout(x)}},[p]),(u==null?void 0:u.vertical)==="top"){delete v.bottom;const x=`${b+130}px`;v.top=x}if(!p||ar(d)&&(h==null||!h.text))return null;const w=$b(h==null?void 0:h.text);return Fe(LJ,{style:v,children:[G(ra,{color:FO,variant:"contained",onClick:()=>{c(Nw(!1))},style:_,children:G(km,{})}),(h==null?void 0:h.text)&&G(DJ,{thereIsGap:w,children:G(_2,{text:h.text})}),G(fM,{style:{width:"100%",marginTop:"1em"},children:d.map((x,E)=>{const{text:M}=x;return G(pM,{button:x,onClick:()=>{var T,S;(S=(T=window.livexChatbot)==null?void 0:T.open)==null||S.call(T),setTimeout(()=>{var C,P;(P=(C=window.livexChatbot)==null?void 0:C.sendMessage)==null||P.call(C,M)},100)}},`welcome-message-button-${E}`)})})]})},LJ=ht(e=>{const{className:t,...n}=e;return G("livex-chatbox-welcome-message-wrapper",{...n,class:t})},{target:"es9fvp91"})(()=>({position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transition:"opacity 0.5s ease-in-out",fontSize:"16px",fontWeight:"500",maxWidth:"50vw"}),""),DJ=ht(e=>{const{className:t,...n}=e;return G("livex-chatbox-welcome-message-container",{...n,class:t})},{target:"es9fvp90"})(()=>({minHeight:"60px",padding:"20px",borderRadius:"16px",backgroundColor:FO,marginLeft:"auto",boxShadow:G_,"& p":{whiteSpace:"pre-line"}}),""),PJ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){}};class Kg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||PJ,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Kg(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new Kg(this.logger,t)}}var ga=new Kg;class Qg{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n)return void delete this.observers[t];this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(o=>{let[a,s]=o;for(let l=0;l<s;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,s]=o;for(let l=0;l<s;l++)a.apply(a,[t,...r])})}}function zp(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function UO(e){return e==null?"":""+e}const NJ=/###/g;function Fp(e,t,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(NJ,"."):s}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?t:t.split(".");let a=0;for(;a<o.length-1;){if(i())return{};const s=r(o[a]);!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{},++a}return i()?{}:{obj:e,k:r(o[a])}}function jO(e,t,n){const{obj:r,k:i}=Fp(e,t,Object);if(r!==void 0||t.length===1)return void(r[i]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),s=Fp(e,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=Fp(e,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n}function Yg(e,t){const{obj:n,k:r}=Fp(e,t);if(n)return n[r]}function VO(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):VO(e[r],t[r],n):e[r]=t[r]);return e}function nh(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var BJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function zJ(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>BJ[t]):e}const FJ=[" ",",","?","!",";"],UJ=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20);function W_(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let l=o;l<r.length;++l)if(l!==o&&(s+=n),s+=r[l],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;o+=l-o+1;break}i=a}return i}function Xg(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class qO extends Qg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):typeof r=="string"&&o?s.push(...r.split(o)):s.push(r)));const l=Yg(this.data,s);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),l||!a||typeof r!="string"?l:W_(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),jO(this.data,s,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let l=Yg(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?VO(l,r,o):l={...l,...r},jO(this.data,s,l),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}}var HO={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const $O={};class Jg extends Qg{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),function(r,i,o){r.forEach(a=>{i[a]&&(o[a]=i[a])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ga.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!(this.options.userDefinedKeySeparator||n.keySeparator||this.options.userDefinedNsSeparator||n.nsSeparator||function(l,c,u){c=c||"",u=u||"";const h=FJ.filter(f=>c.indexOf(f)<0&&u.indexOf(f)<0);if(h.length===0)return!0;const d=UJ.getRegExp(`(${h.map(f=>f==="?"?"\\?":f).join("|")})`);let p=!d.test(l);if(!p){const f=l.indexOf(u);f>0&&!d.test(l.substring(0,f))&&(p=!0)}return p}(t,r,i));if(a&&!s){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:o};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),t=c.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(t[t.length-1],n),l=s[s.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const _=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${_}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${_}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const h=this.resolve(t,n);let d=h&&h.res;const p=h&&h.usedKey||a,f=h&&h.exactUsedKey||a,m=Object.prototype.toString.apply(d),b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&d&&typeof d!="string"&&typeof d!="boolean"&&typeof d!="number"&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&(typeof b!="string"||!Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=_,h.usedParams=this.getUsedParamsDetails(n),h):_}if(o){const _=Array.isArray(d),w=_?[]:{},x=_?f:p;for(const E in d)if(Object.prototype.hasOwnProperty.call(d,E)){const M=`${x}${o}${E}`;w[E]=this.translate(M,{...n,joinArrays:!1,ns:s}),w[E]===M&&(w[E]=d[E])}d=w}}else if(v&&typeof b=="string"&&Array.isArray(d))d=d.join(b),d&&(d=this.extendTranslation(d,t,n,r));else{let _=!1,w=!1;const x=n.count!==void 0&&typeof n.count!="string",E=Jg.hasDefaultValue(n),M=x?this.pluralResolver.getSuffix(c,n.count,n):"",T=n.ordinal&&x?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",S=x&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),C=S&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${M}`]||n[`defaultValue${T}`]||n.defaultValue;!this.isValidLookup(d)&&E&&(_=!0,d=C),this.isValidLookup(d)||(w=!0,d=a);const P=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&w?void 0:d,U=E&&C!==d&&this.options.updateMissing;if(w||_||U){if(this.logger.log(U?"updateKey":"missingKey",c,l,a,U?C:d),o){const ae=this.resolve(a,{...n,keySeparator:!1});ae&&ae.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let ae=0;ae<te.length;ae++)W.push(te[ae]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const ne=(ae,he,fe)=>{const le=E&&fe!==d?fe:P;this.options.missingKeyHandler?this.options.missingKeyHandler(ae,l,he,le,U,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ae,l,he,le,U,n),this.emit("missingKey",ae,l,he,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?W.forEach(ae=>{const he=this.pluralResolver.getSuffixes(ae,n);S&&n[`defaultValue${this.options.pluralSeparator}zero`]&&he.indexOf(`${this.options.pluralSeparator}zero`)<0&&he.push(`${this.options.pluralSeparator}zero`),he.forEach(fe=>{ne([ae],a+fe,n[`defaultValue${fe}`]||C)})}):ne(W,a,C))}d=this.extendTranslation(d,t,n,h,r),w&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),(w||_)&&this.options.parseMissingKeyHandler&&(d=this.options.compatibilityAPI!=="v1"?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,_?d:void 0):this.options.parseMissingKeyHandler(d))}return i?(h.res=d,h.usedParams=this.getUsedParamsDetails(n),h):d}extendTranslation(t,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=t.match(this.interpolator.nestingRegexp);u=d&&d.length}let h=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,r.lng||this.language,r),c){const d=t.match(this.interpolator.nestingRegexp);u<(d&&d.length)&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];return o&&o[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):a.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=typeof s=="string"?[s]:s;return t!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(t=HO.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n,r,i,o,a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof t=="string"&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),u=c.key;r=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=s.count!==void 0&&typeof s.count!="string",p=d&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),f=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(b=>{this.isValidLookup(n)||(a=b,!$O[`${m[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&($O[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(v=>{if(this.isValidLookup(n))return;o=v;const _=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,u,v,b,s);else{let x;d&&(x=this.pluralResolver.getSuffix(v,s.count,s));const E=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(_.push(u+x),s.ordinal&&x.indexOf(M)===0&&_.push(u+x.replace(M,this.options.pluralSeparator)),p&&_.push(u+E)),f){const T=`${u}${this.options.contextSeparator}${s.context}`;_.push(T),d&&(_.push(T+x),s.ordinal&&x.indexOf(M)===0&&_.push(T+x.replace(M,this.options.pluralSeparator)),p&&_.push(T+E))}}let w;for(;w=_.pop();)this.isValidLookup(n)||(i=w,n=this.getResource(v,b,w,s))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return!(t===void 0||!this.options.returnNull&&t===null||!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,12)&&t[r]!==void 0)return!0;return!1}}function K_(e){return e.charAt(0).toUpperCase()+e.slice(1)}class GO{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ga.create("languageUtils")}getScriptPartFromCode(t){if(!(t=Xg(t))||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(!(t=Xg(t))||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=K_(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=K_(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=K_(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>o===i?o:o.indexOf("-")<0&&i.indexOf("-")<0||!(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1)?void 0:o)}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let jJ=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],VJ={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const qJ=["v1","v2","v3"],HJ=["v4"],WO={zero:0,one:1,two:2,few:3,many:4,other:5};class $J{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ga.create("pluralResolver"),(!this.options.compatibilityJSON||HJ.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const r={};return jJ.forEach(i=>{i.lngs.forEach(o=>{r[o]={numbers:i.nr,plurals:VJ[i.fc]}})}),r}()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Xg(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>WO[i]-WO[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!qJ.includes(this.options.compatibilityJSON)}}function KO(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=function(a,s,l){const c=Yg(a,l);return c!==void 0?c:Yg(s,l)}(e,t,n);return!o&&i&&typeof n=="string"&&(o=W_(e,n,r),o===void 0&&(o=W_(t,n,r))),o}class GJ{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ga.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:_}=t.interpolation;this.escape=n!==void 0?n:zJ,this.escapeValue=r===void 0||r,this.useRawValueToEscape=i!==void 0&&i,this.prefix=o?nh(o):a||"{{",this.suffix=s?nh(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?nh(d):p||nh("$t("),this.nestingSuffix=f?nh(f):m||nh(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=_!==void 0&&_,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,a,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(p){return p.replace(/\$/g,"$$$$")}const u=p=>{if(p.indexOf(this.formatSeparator)<0){const v=KO(n,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,r,{...i,...n,interpolationkey:p}):v}const f=p.split(this.formatSeparator),m=f.shift().trim(),b=f.join(this.formatSeparator).trim();return this.format(KO(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:m})};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>c(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?c(this.escape(p)):c(p)}].forEach(p=>{for(s=0;o=p.regex.exec(t);){const f=o[1].trim();if(a=u(f),a===void 0)if(typeof h=="function"){const b=h(t,o,i);a=typeof b=="string"?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,f))a="";else{if(d){a=o[0];continue}this.logger.warn(`missed to pass in variable ${f} for interpolating ${t}`),a=""}else typeof a!="string"&&!this.useRawValueToEscape&&(a=UO(a));const m=p.safeValue(a);if(t=t.replace(o[0],m),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r,i,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};function s(l,c){const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const p=d.match(/'/g),f=d.match(/"/g);(p&&p.length%2==0&&!f||f.length%2!=0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l}for(;r=this.nestingRegexp.exec(t);){let l=[];o={...a},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const u=r[1].split(this.formatSeparator).map(h=>h.trim());r[1]=u.shift(),l=u,c=!0}if(i=n(s.call(this,r[1].trim(),o),o),i&&r[0]===t&&typeof i!="string")return i;typeof i!="string"&&(i=UO(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),i=""),c&&(i=l.reduce((u,h)=>this.format(u,h,a.lng,{...a,interpolationkey:r[1].trim()}),i.trim())),t=t.replace(r[0],i),this.regexp.lastIndex=0}return t}}function rh(e){const t={};return function(n,r,i){const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(Xg(r),i),t[o]=a),a(n)}}class WJ{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ga.create("formatter"),this.options=t,this.formats={number:rh((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:rh((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:rh((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:rh((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:rh((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=rh(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((o,a)=>{const{formatName:s,formatOptions:l}=function(c){let u=c.toLowerCase().trim();const h={};if(c.indexOf("(")>-1){const d=c.split("(");u=d[0].toLowerCase().trim();const p=d[1].substring(0,d[1].length-1);u==="currency"&&p.indexOf(":")<0?h.currency||(h.currency=p.trim()):u==="relativetime"&&p.indexOf(":")<0?h.range||(h.range=p.trim()):p.split(";").forEach(f=>{if(f){const[m,...b]=f.split(":"),v=b.join(":").trim().replace(/^'+|'+$/g,""),_=m.trim();h[_]||(h[_]=v),v==="false"&&(h[_]=!1),v==="true"&&(h[_]=!0),isNaN(v)||(h[_]=parseInt(v,10))}})}return{formatName:u,formatOptions:h}}(a);if(this.formats[s]){let c=o;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=u.locale||u.lng||i.locale||i.lng||r;c=this.formats[s](o,h,{...l,...i,...u})}catch(u){this.logger.warn(u)}return c}return this.logger.warn(`there was no format function for ${s}`),o},t)}}class KJ extends Qg{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ga.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},a={},s={},l={};return t.forEach(c=>{let u=!0;n.forEach(h=>{const d=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,u=!1,a[d]===void 0&&(a[d]=!0),o[d]===void 0&&(o[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(s[c]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const s={};this.queue.forEach(l=>{(function(c,u,h,d){const{obj:p,k:f}=Fp(c,u,Object);p[f]=p[f]||[],p[f].push(h)})(l.loaded,[o],a),function(c,u){c.pending[u]!==void 0&&(delete c.pending[u],c.pendingCount--)}(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:a});this.readingCalls++;const s=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}c&&u&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,t,n,r,i+1,2*o,a)},o):a(c,u)},l=this.backend[r].bind(this.backend);if(l.length!==2)return l(t,n,s);try{const c=l(t,n);c&&typeof c.then=="function"?c.then(u=>s(null,u)).catch(s):s(null,c)}catch(c){s(c)}}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n))this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(r!=null&&r!==""){if(this.backend&&this.backend.create){const l={...a,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;u=c.length===5?c(t,n,r,i,l):c(t,n,r,i),u&&typeof u.then=="function"?u.then(h=>s(null,h)).catch(s):s(null,u)}catch(u){s(u)}else c(t,n,r,i,s,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function QO(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function YO(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Zg(){}class Up extends Qg{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=YO(t),this.services={},this.logger=ga,this.modules={external:[]},function(r){Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(i=>{typeof r[i]=="function"&&(r[i]=r[i].bind(r))})}(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=QO();function o(l){return l?typeof l=="function"?new l:l:null}if(this.options={...i,...this.options,...YO(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator),!this.options.isClone){let l;this.modules.logger?ga.init(o(this.modules.logger),this.options):ga.init(null,this.options),this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=WJ);const c=new GO(this.options);this.store=new qO(this.options.resources,this.options);const u=this.services;u.logger=ga,u.resourceStore=this.store,u.languageUtils=c,u.pluralResolver=new $J(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=o(l),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new GJ(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new KJ(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];t.emit(h,...p)}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Jg(this.services,this.options),this.translator.on("*",function(h){for(var d=arguments.length,p=new Array(d>1?d-1:0),f=1;f<d;f++)p[f-1]=arguments[f];t.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Zg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return t.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return t.store[l](...arguments),t}});const a=zp(),s=()=>{const l=(c,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(u),r(c,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zg;const r=typeof t=="string"?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=a=>{a&&a!=="cimode"&&this.services.languageUtils.toResolveHierarchy(a).forEach(s=>{s!=="cimode"&&i.indexOf(s)<0&&i.push(s)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>o(a)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(t,n,r){const i=zp();return t||(t=this.languages),n||(n=this.options.ns),r||(r=Zg),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&HO.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=zp();this.emit("languageChanging",t);const o=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{a(u,c)})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),i}getFixedT(t,n,r){var i=this;const o=function(a,s){let l;if(typeof s!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([a,s].concat(u))}else l={...s};l.lng=l.lng||o.lng,l.lngs=l.lngs||o.lngs,l.ns=l.ns||o.ns,l.keyPrefix=l.keyPrefix||r||o.keyPrefix;const d=i.options.keySeparator||".";let p;return p=l.keyPrefix&&Array.isArray(a)?a.map(f=>`${l.keyPrefix}${d}${f}`):l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,i.t(p,l)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(o,t)))}loadNamespaces(t,n){const r=zp();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=zp();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=this.services&&this.services.languageUtils||new GO(QO());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Up(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zg;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Up(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new qO(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Jg(o.services,i),o.translator.on("*",function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];o.emit(a,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const qr=Up.createInstance();qr.createInstance=Up.createInstance,qr.createInstance,qr.dir,qr.init,qr.loadResources,qr.reloadResources,qr.use,qr.changeLanguage,qr.getFixedT,qr.t,qr.exists,qr.setDefaultNamespace,qr.hasLoadedNamespace,qr.loadNamespaces,qr.loadLanguages;var XO=Symbol.for("immer-nothing"),JO=Symbol.for("immer-draftable"),Hi=Symbol.for("immer-state");function Io(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ih=Object.getPrototypeOf;function oh(e){return!!e&&!!e[Hi]}function vc(e){var t;return!!e&&(ZO(e)||Array.isArray(e)||!!e[JO]||!((t=e.constructor)==null||!t[JO])||n1(e)||r1(e))}var QJ=Object.prototype.constructor.toString();function ZO(e){if(!e||typeof e!="object")return!1;const t=ih(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===QJ}function e1(e,t){t1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function t1(e){const t=e[Hi];return t?t.type_:Array.isArray(e)?1:n1(e)?2:r1(e)?3:0}function Q_(e,t){return t1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function eL(e,t,n){const r=t1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function n1(e){return e instanceof Map}function r1(e){return e instanceof Set}function yc(e){return e.copy_||e.base_}function Y_(e,t){if(n1(e))return new Map(e);if(r1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ZO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Hi];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(ih(e),r)}{const r=ih(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function X_(e,t=!1){return i1(e)||oh(e)||!vc(e)||(t1(e)>1&&(e.set=e.add=e.clear=e.delete=YJ),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>X_(r,!0))),e}function YJ(){Io(2)}function i1(e){return Object.isFrozen(e)}var jp,XJ={};function bc(e){const t=XJ[e];return t||Io(0),t}function tL(){return jp}function nL(e,t){t&&(bc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function J_(e){Z_(e),e.drafts_.forEach(JJ),e.drafts_=null}function Z_(e){e===jp&&(jp=e.parent_)}function rL(e){return jp=function(t,n){return{drafts_:[],parent_:t,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(jp,e)}function JJ(e){const t=e[Hi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Hi].modified_&&(J_(t),Io(4)),vc(e)&&(e=o1(t,e),t.parent_||a1(t,e)),t.patches_&&bc("Patches").generateReplacementPatches_(n[Hi].base_,e,t.patches_,t.inversePatches_)):e=o1(t,n,[]),J_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XO?e:void 0}function o1(e,t,n){if(i1(t))return t;const r=t[Hi];if(!r)return e1(t,(i,o)=>oL(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return a1(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),e1(o,(s,l)=>oL(e,r,i,s,l,n,a)),a1(e,i,!1),n&&e.patches_&&bc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function oL(e,t,n,r,i,o,a){if(oh(i)){const s=o1(e,i,o&&t&&t.type_!==3&&!Q_(t.assigned_,r)?o.concat(r):void 0);if(eL(n,r,s),!oh(s))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(vc(i)&&!i1(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;o1(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&a1(e,i)}}function a1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&X_(t,n)}var e5={get(e,t){if(t===Hi)return e;const n=yc(e);if(!Q_(n,t))return function(i,o,a){var s;const l=aL(o,a);return l?"value"in l?l.value:(s=l.get)==null?void 0:s.call(i.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!vc(r)?r:r===t5(e.base_,t)?(r5(e),e.copy_[t]=i5(r,e)):r},has:(e,t)=>t in yc(e),ownKeys:e=>Reflect.ownKeys(yc(e)),set(e,t,n){const r=aL(yc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=t5(yc(e),t),o=i==null?void 0:i[Hi];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(a,s){return a===s?a!==0||1/a==1/s:a!=a&&s!=s}(n,i)&&(n!==void 0||Q_(e.base_,t)))return!0;r5(e),n5(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(t5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,r5(e),n5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=yc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Io(11)},getPrototypeOf:e=>ih(e.base_),setPrototypeOf(){Io(12)}},Vp={};function t5(e,t){const n=e[Hi];return(n?yc(n):e)[t]}function aL(e,t){if(!(t in e))return;let n=ih(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ih(n)}}function n5(e){e.modified_||(e.modified_=!0,e.parent_&&n5(e.parent_))}function r5(e){e.copy_||(e.copy_=Y_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}e1(e5,(e,t)=>{Vp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Vp.deleteProperty=function(e,t){return Vp.set.call(this,e,t,void 0)},Vp.set=function(e,t,n){return e5.set.call(this,e[0],t,n,e[0])};function i5(e,t){const n=n1(e)?bc("MapSet").proxyMap_(e,t):r1(e)?bc("MapSet").proxySet_(e,t):function(r,i){const o=Array.isArray(r),a={type_:o?1:0,scope_:i?i.scope_:tL(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=e5;o&&(s=[a],l=Vp);const{revoke:c,proxy:u}=Proxy.revocable(s,l);return a.draft_=u,a.revoke_=c,u}(e,t);return(t?t.scope_:tL()).drafts_.push(n),n}function sL(e){if(!vc(e)||i1(e))return e;const t=e[Hi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Y_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Y_(e,!0);return e1(n,(r,i)=>{eL(n,r,sL(i))}),t&&(t.finalized_=!1),n}var $i=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(s=o,...l){return a.produce(s,c=>n.call(this,c,...l))}}let i;if(typeof n!="function"&&Io(6),r!==void 0&&typeof r!="function"&&Io(7),vc(t)){const o=rL(this),a=i5(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?J_(o):Z_(o)}return nL(o,r),iL(i,o)}if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===XO&&(i=void 0),this.autoFreeze_&&X_(i,!0),r){const o=[],a=[];bc("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}Io(1)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,s=>t(s,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){vc(e)||Io(8),oh(e)&&(e=function(r){return oh(r)||Io(10),sL(r)}(e));const t=rL(this),n=i5(e,void 0);return n[Hi].isManual_=!0,Z_(t),n}finishDraft(e,t){const n=e&&e[Hi];(!n||!n.isManual_)&&Io(9);const{scope_:r}=n;return nL(r,t),iL(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bc("Patches").applyPatches_;return oh(e)?r(e,t):this.produce(e,i=>r(i,t))}},ZJ=$i.produce;$i.produceWithPatches.bind($i),$i.setAutoFreeze.bind($i),$i.setUseStrictShallowCopy.bind($i),$i.applyPatches.bind($i),$i.createDraft.bind($i),$i.finishDraft.bind($i);const eZ=["add to cart"],tZ=["buy now"],nZ=["buy now with shoppay"],rZ=["amazon-pay-button","buy now with prime"],lL=e=>{switch(e){case"website":return eZ;case"buyNow":return tZ;case"buyWithShopPay":return nZ;case"prime":return rZ;default:return[]}},cL=e=>{var t,n,r,i;const o=io==null?void 0:io.getState();if(((t=o==null?void 0:o.chatBox)==null?void 0:t.source)!=="chatbox")return;const a=(n=o.chatBox)==null?void 0:n.agent,s=(r=o.chatBox)==null?void 0:r.source,l=(i=o.chatBox)==null?void 0:i.botMode,c=$n(o),u=Ps(o),h=(p=>{switch(p){case"website":return Yn.WebsiteAddToCart;case"buyNow":return Yn.BuyNow;case"buyWithShopPay":return Yn.BuyWithShopPay;case"prime":return Yn.BuyWithPrime;default:return null}})(e);if(!h)return;const d={event_name:h,source:s,bot_mode:l,chatbot_id:a==null?void 0:a.id,conversation_id:c,message_id:u};ql(d)},iZ=(e,t)=>{var n;const r=[];for(const i of t){if(((n=i.textContent)==null?void 0:n.trim().toLowerCase())!==e)continue;const o=i.closest("button");o&&r.push(o);const a=i.closest('div[role="button"]');a&&r.push(a)}return r},uL=(e,t)=>{for(const n of t)n.dataset.eventAdded||(n.addEventListener("click",()=>{cL(e)}),n.dataset.eventAdded="true")};let hL=!1;const s1=e=>{switch(e){case"website":case"buyNow":case"buyWithShopPay":(t=>{const n=Array.from(document.querySelectorAll("span")),r=lL(t);for(const i of r){const o=iZ(i,n);ar(o)||uL(t,o)}})(e);break;case"prime":if((()=>{var t;const n=Array.from(document.querySelectorAll("div"));for(const r of n){if(!r.shadowRoot)continue;const i=Array.from(r.shadowRoot.children);for(const o of i){const a=lL("prime");for(const s of a)if(o.type==="button"&&((t=o.className)==null?void 0:t.trim().toLowerCase())===s)return uL("prime",[o]),o}}return null})())break;(()=>{if(hL)return;const t=Array.from(document.querySelectorAll("iframe"));for(const n of t)if(n.contentWindow&&n.title.trim().toLowerCase()==="buy with prime")return window.addEventListener("message",r=>{var i;((i=r.data)==null?void 0:i.messageType)==="ADD_TO_CART"&&cL("prime")}),hL=!0,n})()}};function oZ(e){return Bn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M7 18H17V16H7V18Z",fill:"currentColor"}},{tag:"path",attr:{d:"M17 14H7V12H17V14Z",fill:"currentColor"}},{tag:"path",attr:{d:"M7 10H11V8H7V10Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C4.34315 2 3 3.34315 3 5V19C3 20.6569 4.34315 22 6 22H18C19.6569 22 21 20.6569 21 19V9C21 5.13401 17.866 2 14 2H6ZM6 4H13V9H19V19C19 19.5523 18.5523 20 18 20H6C5.44772 20 5 19.5523 5 19V5C5 4.44772 5.44772 4 6 4ZM15 4.10002C16.6113 4.4271 17.9413 5.52906 18.584 7H15V4.10002Z",fill:"currentColor"}}]})(e)}const aZ=({item:e})=>Fe("div",{className:"flex items-center p-2 gap-3",children:[G("div",{className:"p-2",children:G(oZ,{className:"w-6 h-6"})}),G("div",{className:"flex-col",children:G("div",{children:e.value})})]}),sZ=({item:e})=>Fe("div",{className:"flex items-center gap-3",children:[G(nV,{}),G("div",{children:e.value})]});function lZ(e){return Bn({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"}}]})(e)}const cZ=({item:e})=>Se(t=>t.searchBar.processingImageStatus==="loading")?G(hp,{className:"w-8 h-8"}):Fe("div",{className:"flex items-center gap-3",children:[G(lZ,{}),G("div",{children:e.value})]}),uZ=({item:e,selected:t})=>{const n=re.useRef(null),[r,i]=re.useState(!1);re.useLayoutEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getBoundingClientRect();s&&s.height>224?i(!0):i(!1)},[e.value]);const o={};return r&&(o.maskImage="linear-gradient(to bottom, black 75%, transparent 100%)"),Fe(hZ,{children:[G(dZ,{style:o,selected:t,children:Fe("div",{ref:n,children:[G(_2,{text:e.value}),(()=>{var a;return e.buttons?G("div",{className:"flex flex-col justify-end mt-2 gap-1",children:(a=e.buttons)==null?void 0:a.map(s=>G("div",{className:"bg-white ml-auto text-gray-800 px-2 py-1 border text-sm rounded-lg shadow",children:s.text},s.text))}):null})()]})}),r&&G("button",{className:"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 border border-gray-400 rounded shadow",children:"Read More"})]})},hZ=ht("div",{target:"e1ow7yf21"})({name:"b6wrti",styles:"display:flex;flex-direction:column;width:100%"}),dZ=ht("div",{target:"e1ow7yf20"})(e=>({fontSize:18,padding:16,maxHeight:224,overflow:"hidden",position:"relative"}),"");var dL={},o5={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getListFiles=e.getImage=e.getBase64=e.getAcceptTypeString=e.openFileDialog=void 0,e.openFileDialog=function(t){t.current&&t.current.click()},e.getAcceptTypeString=function(t,n){return t!=null&&t.length?t.map(function(r){return"."+r}).join(", "):n?"":"image/*"},e.getBase64=function(t){var n=new FileReader;return new Promise(function(r){n.addEventListener("load",function(){return r(String(n.result))}),n.readAsDataURL(t)})},e.getImage=function(t){var n=new Image;return new Promise(function(r){n.addEventListener("load",function(){return r(n)}),n.src=URL.createObjectURL(t)})},e.getListFiles=function(t,n){for(var r=[],i=0;i<t.length;i+=1)r.push(e.getBase64(t[i]));return Promise.all(r).then(function(o){var a=o.map(function(s,l){var c;return(c={})[n]=s,c.file=t[l],c});return a})}})(o5);var pL={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.DEFAULT_DATA_URL_KEY=Ja.INIT_MAX_NUMBER=Ja.DEFAULT_NULL_INDEX=void 0,Ja.DEFAULT_NULL_INDEX=-1,Ja.INIT_MAX_NUMBER=1e3,Ja.DEFAULT_DATA_URL_KEY="dataURL",function(e){var t=Rn&&Rn.__awaiter||function(o,a,s,l){return new(s||(s=Promise))(function(c,u){function h(f){try{p(l.next(f))}catch(m){u(m)}}function d(f){try{p(l.throw(f))}catch(m){u(m)}}function p(f){f.done?c(f.value):function(m){return m instanceof s?m:new s(function(b){b(m)})}(f.value).then(h,d)}p((l=l.apply(o,a||[])).next())})},n=Rn&&Rn.__generator||function(o,a){var s,l,c,u,h={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(f){return function(m){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,l&&(c=2&m[0]?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[2&m[0],c.value]),m[0]){case 0:case 1:c=m;break;case 4:return h.label++,{value:m[1],done:!1};case 5:h.label++,l=m[1],m=[0];continue;case 7:m=h.ops.pop(),h.trys.pop();continue;default:if(!(c=(c=h.trys).length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){h=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){h.label=m[1];break}if(m[0]===6&&h.label<c[1]){h.label=c[1],c=m;break}if(c&&h.label<c[2]){h.label=c[2],h.ops.push(m);break}c[2]&&h.ops.pop(),h.trys.pop();continue}m=a.call(o,h)}catch(b){m=[6,b],l=0}finally{s=c=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([p,f])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorValidation=e.isMaxNumberValid=e.isAcceptTypeValid=e.isMaxFileSizeValid=e.isImageValid=e.isResolutionValid=void 0;var r=Ja,i=o5;e.isResolutionValid=function(o,a,s,l){if(s===void 0&&(s=0),l===void 0&&(l=1),!(s&&l&&o.width&&o.height))return!0;switch(a){case"absolute":if(o.width===s&&o.height===l)return!0;break;case"ratio":var c=s/l;if(o.width/o.height===c)return!0;break;case"less":if(o.width<=s&&o.height<=l)return!0;break;case"more":if(o.width>=s&&o.height>=l)return!0}return!1},e.isImageValid=function(o){return!!o.includes("image")},e.isMaxFileSizeValid=function(o,a){return!a||o<=a},e.isAcceptTypeValid=function(o,a){if(o&&o.length>0){var s=a.split(".").pop()||"";if(o.findIndex(function(l){return l.toLowerCase()===s.toLowerCase()})<0)return!1}return!0},e.isMaxNumberValid=function(o,a,s){if(a!==0&&!a)return!0;if(s===r.DEFAULT_NULL_INDEX){if(o<=a)return!0}else if(o<=a+1)return!0;return!1},e.getErrorValidation=function(o){var a=o.fileList,s=o.value,l=o.maxNumber,c=o.keyUpdate,u=o.acceptType,h=o.maxFileSize,d=o.resolutionType,p=o.resolutionWidth,f=o.resolutionHeight,m=o.allowNonImageType;return t(void 0,void 0,void 0,function(){var b,v,_,w;return n(this,function(x){switch(x.label){case 0:return b={},e.isMaxNumberValid(a.length+s.length,l,c)?[3,1]:(b.maxNumber=!0,[3,5]);case 1:v=0,x.label=2;case 2:return v<a.length?(_=a[v].file)?(m||e.isImageValid(_.type))&&e.isAcceptTypeValid(u,_.name)?e.isMaxFileSizeValid(_.size,h)?d?[4,i.getImage(_)]:[3,4]:(b.maxFileSize=!0,[3,5]):(b.acceptType=!0,[3,5]):[3,4]:[3,5];case 3:if(w=x.sent(),!e.isResolutionValid(w,d,p,f))return b.resolution=!0,[3,5];x.label=4;case 4:return v+=1,[3,2];case 5:return Object.values(b).find(Boolean)?[2,b]:[2,null]}})})}}(pL);var a5=Rn&&Rn.__assign||function(){return a5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a5.apply(this,arguments)},pZ=Rn&&Rn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),fZ=Rn&&Rn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mZ=Rn&&Rn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pZ(t,e,n);return fZ(t,e),t},s5=Rn&&Rn.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(u){o(u)}}function s(c){try{l(r.throw(c))}catch(u){o(u)}}function l(c){c.done?i(c.value):function(u){return u instanceof n?u:new n(function(h){h(u)})}(c.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},l5=Rn&&Rn.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(h){u=[6,h],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,c])}}},c5=Rn&&Rn.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(dL,"__esModule",{value:!0});var Oo=mZ(po),u5=o5,gZ=pL,tl=Ja,vZ=dL.default=function(e){var t=e.value,n=t===void 0?[]:t,r=e.onChange,i=e.onError,o=e.children,a=e.dataURLKey,s=a===void 0?tl.DEFAULT_DATA_URL_KEY:a,l=e.multiple,c=l!==void 0&&l,u=e.maxNumber,h=u===void 0?tl.INIT_MAX_NUMBER:u,d=e.acceptType,p=e.maxFileSize,f=e.resolutionWidth,m=e.resolutionHeight,b=e.resolutionType,v=e.inputProps,_=v===void 0?{}:v,w=e.allowNonImageType,x=w!==void 0&&w,E=n||[],M=Oo.useRef(null),T=Oo.useState(tl.DEFAULT_NULL_INDEX),S=T[0],C=T[1],P=Oo.useState(null),U=P[0],W=P[1],te=Oo.useState(!1),ne=te[0],ae=te[1],he=Oo.useCallback(function(){return u5.openFileDialog(M)},[M]),fe=Oo.useCallback(function(){C(tl.DEFAULT_NULL_INDEX),he()},[he]),le=Oo.useCallback(function(){r==null||r([])},[r]),N=function(K){return s5(void 0,void 0,void 0,function(){var ye;return l5(this,function(me){switch(me.label){case 0:return[4,gZ.getErrorValidation({fileList:K,maxFileSize:p,maxNumber:h,acceptType:d,keyUpdate:S,resolutionType:b,resolutionWidth:f,resolutionHeight:m,value:E,allowNonImageType:x})];case 1:return(ye=me.sent())?(W(ye),i==null||i(ye,K),[2,!1]):(U&&W(null),[2,!0])}})})},H=function(K){return s5(void 0,void 0,void 0,function(){var ye,me,Pe,Ue,de;return l5(this,function(be){switch(be.label){case 0:return K?[4,u5.getListFiles(K,s)]:[2];case 1:return(ye=be.sent()).length?[4,N(ye)]:[2];case 2:if(!be.sent())return[2];if(Pe=[],S>tl.DEFAULT_NULL_INDEX)Ue=ye[0],(me=c5(E))[S]=Ue,Pe.push(S);else if(c)for(me=c5(E,ye),de=E.length;de<me.length;de+=1)Pe.push(de);else me=[ye[0]],Pe.push(0);return r==null||r(me,Pe),[2]}})})},F=Oo.useMemo(function(){return u5.getAcceptTypeString(d,x)},[d,x]);return Oo.default.createElement(Oo.default.Fragment,null,Oo.default.createElement("input",a5({type:"file",accept:F,ref:M,multiple:c&&S===tl.DEFAULT_NULL_INDEX,onChange:function(K){return s5(void 0,void 0,void 0,function(){return l5(this,function(ye){switch(ye.label){case 0:return[4,H(K.target.files)];case 1:return ye.sent(),S>tl.DEFAULT_NULL_INDEX&&C(tl.DEFAULT_NULL_INDEX),M.current&&(M.current.value=""),[2]}})})},style:{display:"none"}},_)),o==null?void 0:o({imageList:E,onImageUpload:fe,onImageRemoveAll:le,onImageUpdate:function(K){C(K),he()},onImageRemove:function(K){var ye=c5(E);Array.isArray(K)?K.forEach(function(me){ye.splice(me,1)}):ye.splice(K,1),r==null||r(ye)},errors:U,dragProps:{onDrop:function(K){K.preventDefault(),K.stopPropagation(),ae(!1),K.dataTransfer.files&&K.dataTransfer.files.length>0&&H(K.dataTransfer.files)},onDragEnter:function(K){K.preventDefault(),K.stopPropagation(),K.dataTransfer.items&&K.dataTransfer.items.length>0&&ae(!0)},onDragLeave:function(K){K.preventDefault(),K.stopPropagation(),ae(!1)},onDragOver:function(K){K.preventDefault(),K.stopPropagation()},onDragStart:function(K){K.preventDefault(),K.stopPropagation(),K.dataTransfer.clearData()}},isDragging:ne}))};const fL=To.div({display:"flex",height:"44px",alignItems:"center",justifyContent:"space-between",gap:"0.5rem",padding:"1rem"}),yZ=e=>{const t=Dr(),n=In(),r=Se(c=>c.searchBar.query),i=Se(c=>c.searchBar.isWaitingForReply),o=Se(c=>c.searchBar.fileImages),{handleUploadImage:a}=((c=!1)=>{const u=In(),{mutateAsync:h,isPending:d}=k9(),[p,f]=re.useState({});return{handleUploadImage:async m=>{u(Ew("loading")),Vd={};const b=m.map(async v=>{var _;try{const w=await h({image:v,return_product:c,onUploadProgress:x=>{f(E=>{var M;return{...E,[(M=v.file)==null?void 0:M.name]:x.loaded/x.total}})}});return Vd[(_=v.file)==null?void 0:_.name]=w.image_gcs_uri,u(Ew("success")),w}catch(w){throw u(Ew("error")),w}});return await Promise.all(b)},uploadProgress:p,isUploading:d}})(!0),s=re.useRef(null),l=async c=>{n(lm(c));let u=(await a(c)).reduce((h,d)=>(d!=null&&d.products&&h.push(...d.products),h),[]);n(TU(u))};return Fe(fL,{children:[(()=>{var c,u;return(u=(c=t==null?void 0:t.config)==null?void 0:c.image_search)!=null&&u.enabled_on_search_bar?G(vZ,{value:o,onChange:l,maxNumber:10,children:({onImageUpload:h})=>G("button",{ref:s,className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",onClick:()=>{h(),s.current&&s.current.blur()},children:G(Xj,{className:"text-2xl "})})}):G(PK,{className:"text-base"})})(),G("input",{type:"text",autoFocus:!0,value:r,onChange:c=>n(am(c.target.value)),placeholder:i?"Thinking...":"Ask anything...",className:"p-2 rounded flex-1 text-base focus:outline-none",disabled:i,style:{maxWidth:"calc(100% - 70px)"}}),G("button",{className:"p-1 text-slate-500 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-full text-lg inline-flex items-center justify-center hover:rounded-full hover:ring-4 hover:ring-slate-300",onClick:()=>{n(r?am(""):Cu(!1))},children:G(EM,{className:"text-2xl "})})]})},bZ=e=>{const t=In(),{mutate:n}=A2(),r=Se(a=>a.searchBar.userQuestion),i=Se(a=>a.searchBar.isWaitingForReply),o=Se(a=>a.searchBar.processingImageStatus==="loading");return Fe(fL,{style:{paddingTop:8,paddingBottom:8,overscrollBehaviorY:"contain"},children:[G("input",{readOnly:!0,type:"text",value:r,placeholder:i?"Thinking...":"Ask anything...",className:"p-2 rounded flex-1 text-base focus:outline-none",style:{overscrollBehaviorY:"contain"}}),(i||o)&&G(hp,{}),!i&&G(SM,{onClick:()=>{t(ku("")),t(lm([])),n()},children:"Clear"})]})},wZ=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([n,r])=>{r!==void 0&&(Array.isArray(r)?r.forEach(i=>{t.append(n,String(i))}):t.append(n,String(r)))}),"?"+t.toString()},_Z=e=>["suggestedQuestions",e],xZ=()=>{const e=Dr(),t=Se(r=>r.chatBox.botMode==="searchBar"),n=Se(r=>r.chatBox.showChatBox);return y9({queryKey:_Z(e==null?void 0:e.id),queryFn:()=>(async r=>{const i=`${pr.chatHost}/api/v1/suggested_questions${wZ(r)}`;return(await sn.get(i)).data})({chatbot_id:e.id}),enabled:!!e&&t&&!n,staleTime:3e5})},kZ=()=>{const e=In();return Vl({mutationFn:t=>(async n=>{const{imageName:r}=n,i=Vd[r];if(!i)throw new Error("gcsUri is missing");const o=new FormData;o.append("image_gcs_uri",i);const a=`${pr.chatHost}/api/v1/image_delete`,s=await sn.post(a,o,{headers:{"Content-Type":"multipart/form-data"}});if(s.status!==200)throw new Error("Failed to delete image");return s.data})(t),onMutate(t){e(MU(t.imageName))},onSuccess:(t,n)=>{delete Vd[n.imageName]}})},SZ=To.div({display:"flex",height:"10rem",width:"10rem",cursor:"pointer",flexDirection:"column",alignItems:"center",gap:"1rem",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"0.5rem",":hover":{borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgb(147 197 253 / var(--tw-border-opacity))"}}),EZ=e=>{const{product:t}=e,{url:n,image_url:r,price:i}=t;return Fe(SZ,{children:[G("img",{src:r,onClick:()=>{window.open(n,"_blank")}}),Fe("div",{children:["$",i]})]})},AZ=To.div({marginRight:"1rem",display:"flex",gap:"0.5rem",borderRightWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity))",paddingRight:"2.25rem"}),CZ=To.div({position:"relative",height:"10rem",width:"10rem",overflow:"hidden",borderRadius:"1rem",borderWidth:"1px","--tw-bg-opacity":"1",backgroundColor:"rgb(71 85 105 / var(--tw-bg-opacity))",padding:"0.5rem"}),TZ=To.img({height:"100%",width:"100%",cursor:"default",borderRadius:"1rem",objectFit:"cover"}),mL=To.div({position:"absolute",inset:"0px",display:"flex",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"0.2",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity))",fontSize:"30px",lineHeight:"36px","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}),MZ=To.button({borderRadius:"9999px","--tw-bg-opacity":"0.5",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"0.5rem","--tw-text-opacity":"0.5",color:"rgb(0 0 0 / var(--tw-text-opacity))",":hover":{"--tw-bg-opacity":"1","--tw-text-opacity":"1"}}),RZ=e=>{var t;const n=Se(c=>c.searchBar.processingImageStatus),r=Se(jw).status===Hl,[i,o]=re.useState(!1),{mutateAsync:a}=kZ(),{image:s,isUserEngaged:l}=e;return Fe(CZ,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[G(TZ,{src:s.dataURL,alt:(t=s.file)==null?void 0:t.name}),i&&!l&&!r&&G(mL,{children:G(MZ,{onClick:()=>{var c;a({imageName:((c=s.file)==null?void 0:c.name)||""})},children:G(EM,{})})}),n==="loading"&&G(mL,{children:G(hp,{size:30})})]})},IZ=()=>{const e=Se(i=>i.searchBar.processingImageStatus),t=Se(i=>i.searchBar.products).slice(0,5);let n="",r="flex flex-col justify-center text-slate-500 text-sm whitespace-pre-wrap";switch(e){case"loading":n=`While processing image, you can still modify your question.
Once it's done, you can send it.`;break;case"success":t.length||(n="No products found");break;case"error":r+=" text-red-500",n="Failed to process image"}return n?G("div",{className:r,children:n}):G(wl,{children:t.map(i=>G(EZ,{product:i},i.product_id))})},OZ=To.div({margin:"1rem",display:"flex",gap:"1.5rem",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(226 232 240 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"1.5rem",paddingBottom:"2.5rem","--tw-shadow":"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)","--tw-shadow-colored":"inset 0 2px 4px 0 var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),LZ=({isUserEngaged:e})=>{const t=Se(n=>n.searchBar.fileImages);return t.length?Fe(OZ,{children:[t.length>0&&G(AZ,{children:t.map(n=>{var r;return G(RZ,{image:n,isUserEngaged:e},(r=n.file)==null?void 0:r.name)})}),G(IZ,{})]}):null},DZ=({results:e,highlightedIndex:t,setHighlightedIndex:n,handleSelect:r})=>{const[i,o]=dE(),{height:a}=function(){const[c,u]=re.useState({width:0,height:0}),h=re.useCallback(()=>{u({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return hE("resize",h,pE),hE("orientationchange",h,pE),re.useEffect(h,[]),c}(),s=Se(c=>c.searchBar.fileImages);if(ar(e))return null;let l=0;return l=ar(s)?e.length>4?100:150:250,G("div",{ref:i,className:"mt-2 border-t overflow-y-auto p-2",style:{maxHeight:a-o.top-l},children:e.map((c,u)=>{let h="flex items-center gap-2 text-sm p-2 px-4 border-b last:border-b-0 rounded-md cursor-pointer";const d=u===t;d&&(h+=" bg-blue-500 text-white");let p=G("div",{children:c.value});switch(c.kind){case"reference":p=G(aZ,{item:c});break;case"aiResponse":p=G(uZ,{item:c,selected:d});break;case"showPreviousMessage":p=G(sZ,{item:c});break;case"askCopilot":p=G(cZ,{item:c})}return G("div",{className:h,onMouseEnter:()=>n(u),onClick:()=>{r(c)},children:p},`${c.kind}-${u}`)})})},PZ=()=>{var e;const t=Se(jw).status===Hl,n=Se(W=>W.searchBar.processingImageStatus==="loading"),r=Se(W=>W.searchBar.fileImages),i=Se(RU),o=In(),a=Gl(),s=Se(W=>W.searchBar.userQuestion),l=Se(W=>W.searchBar.query),[c,u]=re.useState(0),h=Kw(()=>{o(DS(Date.now()))},100);re.useEffect(()=>{const W=()=>{var te;h();const ne=((te=window.visualViewport)==null?void 0:te.height)||window.innerHeight;u(ne)};return W(),window.addEventListener("resize",W),window.addEventListener("scroll",W),()=>{window.removeEventListener("resize",W),window.removeEventListener("scroll",W)}},[h]);const{data:d}=xZ(),p=re.useMemo(()=>(d==null?void 0:d.map(W=>({kind:"text",value:W})))||[],[d]),f=Se(W=>W.searchBar.searchResults),m=Se(W=>W.chatBox.showSearchBar),b=Se(W=>W.chatBox.showChatBox),v=Se(W=>W.chatBox.agent),_=Se($n),w=(e=v==null?void 0:v.config)==null?void 0:e.style,[x,E]=re.useState(-1),M=Se(Ds),T=re.useMemo(()=>{if(M){for(const W of M.messages.slice().reverse())if(W.type==="bot")return W}},[M]),S=!!T;re.useEffect(()=>{!M&&!ar(f)&&o(qd([]))},[o,f,M]),re.useEffect(()=>{if(!T)return;const W=T.references||[],te=[{kind:"aiResponse",value:T.text,buttons:T.buttons},...W.map(ne=>({kind:"reference",value:ne.name,url:ne.url}))];o(qd(te))},[o,T,T==null?void 0:T.text]),re.useEffect(()=>{T!=null&&T.done&&o(sm(!1))},[o,T==null?void 0:T.done]),re.useEffect(()=>{!v||v.id==="loading"||m&&o(PO())},[o,_,v,m]);const C=re.useCallback(W=>{o(qd([])),o(sm(!0)),o(am("")),o(ku(W));const te={text:W},ne=i[0];ne&&(te.imageGcsUri=ne),o(Fa(te))},[o,i]),P=re.useCallback(W=>{var te,ne;switch(W.kind){case"reference":window.open(W.url,"_blank");break;case"aiResponse":case"showPreviousMessage":(ne=(te=window.livexChatbot)==null?void 0:te.open)==null||ne.call(te);break;case"askCopilot":C(l);break;default:C(W.value)}},[C,l]);if(re.useEffect(()=>{const W=te=>{var ne,ae;if(m&&!b)switch(te.key){case"ArrowDown":f.length>0&&(te.preventDefault(),E(he=>he<f.length-1?he+1:he));break;case"ArrowUp":f.length>0&&(te.preventDefault(),E(he=>he>0?he-1:he));break;case"Enter":{if(te.preventDefault(),t||n)return;const he=f[x];he?P(he):!s&&l&&C(l);break}case"Escape":te.preventDefault(),b?window.livexChatbot&&((ae=(ne=window.livexChatbot).close)==null||ae.call(ne)):l?am(""):o(Cu(!1))}};return window.addEventListener("keydown",W),()=>{window.removeEventListener("keydown",W)}},[o,P,C,x,n,t,l,f,b,m,s]),re.useEffect(()=>{const W=setTimeout(()=>{let te=[];if(l){const ne=p.filter(he=>he.value.toLowerCase().includes(l.toLowerCase()));te=[...te,{kind:"askCopilot",value:`Search for: ${l}`},...ne];const ae=te.findIndex(he=>he.kind==="askCopilot");E(ae)}else ar(te)?E(-1):E(0);s||o(qd(te.slice(0,7)))},300);return()=>clearTimeout(W)},[p,S,l,s,o]),re.useEffect(()=>{l&&ku("")},[l]),!m&&!b||!a)return null;let U="";return S?ar(r)?f.length>4?U+=" pt-4":U+=" pt-24":f.length>3?U+=" pt-4":U+=" pt-24":U+=" pt-24",G(NZ,{style:{zIndex:(w==null?void 0:w.z_index)||1e3,maxHeight:$t?c:void 0},onClick:()=>{o(Cu(!1))},children:G(BZ,{className:U,style:{maxHeight:$t?c+1:void 0},children:b?null:G("div",{className:"relative p-4 w-full max-w-[830px]",children:Fe("div",{className:"flex flex-col relative bg-white border rounded-lg shadow-lg w-full",onClick:W=>{W.stopPropagation()},children:[!s&&G(yZ,{}),s&&G(bZ,{}),G(LZ,{isUserEngaged:S}),G(DZ,{results:f,highlightedIndex:x,setHighlightedIndex:E,handleSelect:P})]})})})})},NZ=ht("div",{target:"e1d3k54n1"})({name:"1k826i2",styles:"position:fixed;inset:0;background-color:rgba(0, 0, 0, 0.5);backdrop-filter:blur(10px);display:flex;align-items:flex-start;justify-content:center;width:100vw;height:100vh;overflow:scroll;overscroll-behavior:contain;z-index:1000"}),BZ=ht("div",{target:"e1d3k54n0"})({name:"3f1nu0",styles:"display:flex;justify-content:center;height:100vh;width:100vw"});/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */da("firebase","10.12.2","app");const zZ=uu("chatBox/setShowSearchBarThunk",async(e,{dispatch:t,getState:n})=>{const r=n(),i=Ds(r),o=FS(r);if(i){if(_m(i))await t(ko({threadId:(i==null?void 0:i.id)||""}));else if(e&&o)return void t(na(!0))}t(Cu(e))});var gL={exports:{}};(function(e,t){e.exports=function(n){var r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var l in o)i.d(s,l,(function(c){return o[c]}).bind(null,l));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=20)}([function(n,r,i){var o=i(9),a=i.n(o),s=function(){function l(){}return l.e=function(c,u){c&&!l.FORCE_GLOBAL_TAG||(c=l.GLOBAL_TAG);var h="[".concat(c,"] > ").concat(u);l.ENABLE_CALLBACK&&l.emitter.emit("log","error",h),l.ENABLE_ERROR},l.i=function(c,u){c&&!l.FORCE_GLOBAL_TAG||(c=l.GLOBAL_TAG);var h="[".concat(c,"] > ").concat(u);l.ENABLE_CALLBACK&&l.emitter.emit("log","info",h),l.ENABLE_INFO},l.w=function(c,u){c&&!l.FORCE_GLOBAL_TAG||(c=l.GLOBAL_TAG);var h="[".concat(c,"] > ").concat(u);l.ENABLE_CALLBACK&&l.emitter.emit("log","warn",h),l.ENABLE_WARN},l.d=function(c,u){c&&!l.FORCE_GLOBAL_TAG||(c=l.GLOBAL_TAG);var h="[".concat(c,"] > ").concat(u);l.ENABLE_CALLBACK&&l.emitter.emit("log","debug",h),l.ENABLE_DEBUG},l.v=function(c,u){c&&!l.FORCE_GLOBAL_TAG||(c=l.GLOBAL_TAG);var h="[".concat(c,"] > ").concat(u);l.ENABLE_CALLBACK&&l.emitter.emit("log","verbose",h),l.ENABLE_VERBOSE},l}();s.GLOBAL_TAG="mpegts.js",s.FORCE_GLOBAL_TAG=!1,s.ENABLE_ERROR=!0,s.ENABLE_INFO=!0,s.ENABLE_WARN=!0,s.ENABLE_DEBUG=!0,s.ENABLE_VERBOSE=!0,s.ENABLE_CALLBACK=!1,s.emitter=new a.a,r.a=s},function(n,r,i){var o,a;(a=o||(o={})).IO_ERROR="io_error",a.DEMUX_ERROR="demux_error",a.INIT_SEGMENT="init_segment",a.MEDIA_SEGMENT="media_segment",a.LOADING_COMPLETE="loading_complete",a.RECOVERED_EARLY_EOF="recovered_early_eof",a.MEDIA_INFO="media_info",a.METADATA_ARRIVED="metadata_arrived",a.SCRIPTDATA_ARRIVED="scriptdata_arrived",a.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",a.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",a.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",a.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",a.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",a.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",a.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",a.STATISTICS_INFO="statistics_info",a.RECOMMEND_SEEKPOINT="recommend_seekpoint",r.a=o},function(n,r,i){i.d(r,"c",function(){return a}),i.d(r,"b",function(){return s}),i.d(r,"a",function(){return l});var o=i(3),a={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},s={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},l=function(){function c(u){this._type=u||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return c.prototype.destroy=function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},c.prototype.isWorking=function(){return this._status===a.kConnecting||this._status===a.kBuffering},Object.defineProperty(c.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(u){this._onContentLengthKnown=u},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(u){this._onURLRedirect=u},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(u){this._onDataArrival=u},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onError",{get:function(){return this._onError},set:function(u){this._onError=u},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"onComplete",{get:function(){return this._onComplete},set:function(u){this._onComplete=u},enumerable:!1,configurable:!0}),c.prototype.open=function(u,h){throw new o.c("Unimplemented abstract function!")},c.prototype.abort=function(){throw new o.c("Unimplemented abstract function!")},c}()},function(n,r,i){i.d(r,"d",function(){return s}),i.d(r,"a",function(){return l}),i.d(r,"b",function(){return c}),i.d(r,"c",function(){return u});var o,a=(o=function(h,d){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(p[m]=f[m])})(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function p(){this.constructor=h}o(h,d),h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}),s=function(){function h(d){this._message=d}return Object.defineProperty(h.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),h.prototype.toString=function(){return this.name+": "+this.message},h}(),l=function(h){function d(p){return h.call(this,p)||this}return a(d,h),Object.defineProperty(d.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),d}(s),c=function(h){function d(p){return h.call(this,p)||this}return a(d,h),Object.defineProperty(d.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),d}(s),u=function(h){function d(p){return h.call(this,p)||this}return a(d,h),Object.defineProperty(d.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),d}(s)},function(n,r,i){var o,a;(a=o||(o={})).ERROR="error",a.LOADING_COMPLETE="loading_complete",a.RECOVERED_EARLY_EOF="recovered_early_eof",a.MEDIA_INFO="media_info",a.METADATA_ARRIVED="metadata_arrived",a.SCRIPTDATA_ARRIVED="scriptdata_arrived",a.TIMED_ID3_METADATA_ARRIVED="timed_id3_metadata_arrived",a.SYNCHRONOUS_KLV_METADATA_ARRIVED="synchronous_klv_metadata_arrived",a.ASYNCHRONOUS_KLV_METADATA_ARRIVED="asynchronous_klv_metadata_arrived",a.SMPTE2038_METADATA_ARRIVED="smpte2038_metadata_arrived",a.SCTE35_METADATA_ARRIVED="scte35_metadata_arrived",a.PES_PRIVATE_DATA_DESCRIPTOR="pes_private_data_descriptor",a.PES_PRIVATE_DATA_ARRIVED="pes_private_data_arrived",a.STATISTICS_INFO="statistics_info",a.DESTROYING="destroying",r.a=o},function(n,r,i){var o={};(function(){var a=self.navigator.userAgent.toLowerCase(),s=/(edge)\/([\w.]+)/.exec(a)||/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(iemobile)[\/]([\w.]+)/.exec(a)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(a)||[],l=/(ipad)/.exec(a)||/(ipod)/.exec(a)||/(windows phone)/.exec(a)||/(iphone)/.exec(a)||/(kindle)/.exec(a)||/(android)/.exec(a)||/(windows)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/.exec(a)||[],c={browser:s[5]||s[3]||s[1]||"",version:s[2]||s[4]||"0",majorVersion:s[4]||s[2]||"0",platform:l[0]||""},u={};if(c.browser){u[c.browser]=!0;var h=c.majorVersion.split(".");u.version={major:parseInt(c.majorVersion,10),string:c.version},h.length>1&&(u.version.minor=parseInt(h[1],10)),h.length>2&&(u.version.build=parseInt(h[2],10))}for(var d in c.platform&&(u[c.platform]=!0),(u.chrome||u.opr||u.safari)&&(u.webkit=!0),(u.rv||u.iemobile)&&(u.rv&&delete u.rv,c.browser="msie",u.msie=!0),u.edge&&(delete u.edge,c.browser="msedge",u.msedge=!0),u.opr&&(c.browser="opera",u.opera=!0),u.safari&&u.android&&(c.browser="android",u.android=!0),u.name=c.browser,u.platform=c.platform,o)o.hasOwnProperty(d)&&delete o[d];Object.assign(o,u)})(),r.a=o},function(n,r,i){r.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(n,r,i){var o,a;(a=o||(o={})).ERROR="error",a.SOURCE_OPEN="source_open",a.UPDATE_END="update_end",a.BUFFER_FULL="buffer_full",a.START_STREAMING="start_streaming",a.END_STREAMING="end_streaming",r.a=o},function(n,r,i){var o=i(9),a=i.n(o),s=i(0),l=function(){function c(){}return Object.defineProperty(c,"forceGlobalTag",{get:function(){return s.a.FORCE_GLOBAL_TAG},set:function(u){s.a.FORCE_GLOBAL_TAG=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"globalTag",{get:function(){return s.a.GLOBAL_TAG},set:function(u){s.a.GLOBAL_TAG=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableAll",{get:function(){return s.a.ENABLE_VERBOSE&&s.a.ENABLE_DEBUG&&s.a.ENABLE_INFO&&s.a.ENABLE_WARN&&s.a.ENABLE_ERROR},set:function(u){s.a.ENABLE_VERBOSE=u,s.a.ENABLE_DEBUG=u,s.a.ENABLE_INFO=u,s.a.ENABLE_WARN=u,s.a.ENABLE_ERROR=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableDebug",{get:function(){return s.a.ENABLE_DEBUG},set:function(u){s.a.ENABLE_DEBUG=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableVerbose",{get:function(){return s.a.ENABLE_VERBOSE},set:function(u){s.a.ENABLE_VERBOSE=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableInfo",{get:function(){return s.a.ENABLE_INFO},set:function(u){s.a.ENABLE_INFO=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableWarn",{get:function(){return s.a.ENABLE_WARN},set:function(u){s.a.ENABLE_WARN=u,c._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(c,"enableError",{get:function(){return s.a.ENABLE_ERROR},set:function(u){s.a.ENABLE_ERROR=u,c._notifyChange()},enumerable:!1,configurable:!0}),c.getConfig=function(){return{globalTag:s.a.GLOBAL_TAG,forceGlobalTag:s.a.FORCE_GLOBAL_TAG,enableVerbose:s.a.ENABLE_VERBOSE,enableDebug:s.a.ENABLE_DEBUG,enableInfo:s.a.ENABLE_INFO,enableWarn:s.a.ENABLE_WARN,enableError:s.a.ENABLE_ERROR,enableCallback:s.a.ENABLE_CALLBACK}},c.applyConfig=function(u){s.a.GLOBAL_TAG=u.globalTag,s.a.FORCE_GLOBAL_TAG=u.forceGlobalTag,s.a.ENABLE_VERBOSE=u.enableVerbose,s.a.ENABLE_DEBUG=u.enableDebug,s.a.ENABLE_INFO=u.enableInfo,s.a.ENABLE_WARN=u.enableWarn,s.a.ENABLE_ERROR=u.enableError,s.a.ENABLE_CALLBACK=u.enableCallback},c._notifyChange=function(){var u=c.emitter;if(u.listenerCount("change")>0){var h=c.getConfig();u.emit("change",h)}},c.registerListener=function(u){c.emitter.addListener("change",u)},c.removeListener=function(u){c.emitter.removeListener("change",u)},c.addLogListener=function(u){s.a.emitter.addListener("log",u),s.a.emitter.listenerCount("log")>0&&(s.a.ENABLE_CALLBACK=!0,c._notifyChange())},c.removeLogListener=function(u){s.a.emitter.removeListener("log",u),s.a.emitter.listenerCount("log")===0&&(s.a.ENABLE_CALLBACK=!1,c._notifyChange())},c}();l.emitter=new a.a,r.a=l},function(n,r,i){var o,a=typeof Reflect=="object"?Reflect:null,s=a&&typeof a.apply=="function"?a.apply:function(x,E,M){return Function.prototype.apply.call(x,E,M)};o=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var l=Number.isNaN||function(x){return x!=x};function c(){c.init.call(this)}n.exports=c,n.exports.once=function(x,E){return new Promise(function(M,T){function S(P){x.removeListener(E,C),T(P)}function C(){typeof x.removeListener=="function"&&x.removeListener("error",S),M([].slice.call(arguments))}w(x,E,C,{once:!0}),E!=="error"&&function(P,U,W){typeof P.on=="function"&&w(P,"error",U,W)}(x,S,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function h(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}function d(x){return x._maxListeners===void 0?c.defaultMaxListeners:x._maxListeners}function p(x,E,M,T){var S,C,P;if(h(M),(C=x._events)===void 0?(C=x._events=Object.create(null),x._eventsCount=0):(C.newListener!==void 0&&(x.emit("newListener",E,M.listener?M.listener:M),C=x._events),P=C[E]),P===void 0)P=C[E]=M,++x._eventsCount;else if(typeof P=="function"?P=C[E]=T?[M,P]:[P,M]:T?P.unshift(M):P.push(M),(S=d(x))>0&&P.length>S&&!P.warned){P.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=x,U.type=E,U.count=P.length}return x}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(x,E,M){var T={fired:!1,wrapFn:void 0,target:x,type:E,listener:M},S=f.bind(T);return S.listener=M,T.wrapFn=S,S}function b(x,E,M){var T=x._events;if(T===void 0)return[];var S=T[E];return S===void 0?[]:typeof S=="function"?M?[S.listener||S]:[S]:M?function(C){for(var P=new Array(C.length),U=0;U<P.length;++U)P[U]=C[U].listener||C[U];return P}(S):_(S,S.length)}function v(x){var E=this._events;if(E!==void 0){var M=E[x];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}function _(x,E){for(var M=new Array(E),T=0;T<E;++T)M[T]=x[T];return M}function w(x,E,M,T){if(typeof x.on=="function")T.once?x.once(E,M):x.on(E,M);else{if(typeof x.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x);x.addEventListener(E,function S(C){T.once&&x.removeEventListener(E,S),M(C)})}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(x){if(typeof x!="number"||x<0||l(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");u=x}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||l(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(x){for(var E=[],M=1;M<arguments.length;M++)E.push(arguments[M]);var T=x==="error",S=this._events;if(S!==void 0)T=T&&S.error===void 0;else if(!T)return!1;if(T){var C;if(E.length>0&&(C=E[0]),C instanceof Error)throw C;var P=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw P.context=C,P}var U=S[x];if(U===void 0)return!1;if(typeof U=="function")s(U,this,E);else{var W=U.length,te=_(U,W);for(M=0;M<W;++M)s(te[M],this,E)}return!0},c.prototype.addListener=function(x,E){return p(this,x,E,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(x,E){return p(this,x,E,!0)},c.prototype.once=function(x,E){return h(E),this.on(x,m(this,x,E)),this},c.prototype.prependOnceListener=function(x,E){return h(E),this.prependListener(x,m(this,x,E)),this},c.prototype.removeListener=function(x,E){var M,T,S,C,P;if(h(E),(T=this._events)===void 0)return this;if((M=T[x])===void 0)return this;if(M===E||M.listener===E)--this._eventsCount==0?this._events=Object.create(null):(delete T[x],T.removeListener&&this.emit("removeListener",x,M.listener||E));else if(typeof M!="function"){for(S=-1,C=M.length-1;C>=0;C--)if(M[C]===E||M[C].listener===E){P=M[C].listener,S=C;break}if(S<0)return this;S===0?M.shift():function(U,W){for(;W+1<U.length;W++)U[W]=U[W+1];U.pop()}(M,S),M.length===1&&(T[x]=M[0]),T.removeListener!==void 0&&this.emit("removeListener",x,P||E)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(x){var E,M,T;if((M=this._events)===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[x]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete M[x]),this;if(arguments.length===0){var S,C=Object.keys(M);for(T=0;T<C.length;++T)(S=C[T])!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(E=M[x])=="function")this.removeListener(x,E);else if(E!==void 0)for(T=E.length-1;T>=0;T--)this.removeListener(x,E[T]);return this},c.prototype.listeners=function(x){return b(this,x,!0)},c.prototype.rawListeners=function(x){return b(this,x,!1)},c.listenerCount=function(x,E){return typeof x.listenerCount=="function"?x.listenerCount(E):v.call(x,E)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(n,r,i){i.d(r,"b",function(){return s}),i.d(r,"a",function(){return l});var o=i(2),a=i(6),s={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},l={NETWORK_EXCEPTION:o.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:o.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:o.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:o.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:a.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:a.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:a.a.CODEC_UNSUPPORTED}},function(n,r,i){i.d(r,"d",function(){return o}),i.d(r,"b",function(){return a}),i.d(r,"a",function(){return s}),i.d(r,"c",function(){return l});var o=function(c,u,h,d,p){this.dts=c,this.pts=u,this.duration=h,this.originalDts=d,this.isSyncPoint=p,this.fileposition=null},a=function(){function c(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return c.prototype.appendSyncPoint=function(u){u.isSyncPoint=!0,this.syncPoints.push(u)},c}(),s=function(){function c(){this._list=[]}return c.prototype.clear=function(){this._list=[]},c.prototype.appendArray=function(u){var h=this._list;u.length!==0&&(h.length>0&&u[0].originalDts<h[h.length-1].originalDts&&this.clear(),Array.prototype.push.apply(h,u))},c.prototype.getLastSyncPointBeforeDts=function(u){if(this._list.length==0)return null;var h=this._list,d=0,p=h.length-1,f=0,m=0,b=p;for(u<h[0].dts&&(d=0,m=b+1);m<=b;){if((f=m+Math.floor((b-m)/2))===p||u>=h[f].dts&&u<h[f+1].dts){d=f;break}h[f].dts<u?m=f+1:b=f-1}return this._list[d]},c}(),l=function(){function c(u){this._type=u,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(c.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),c.prototype.isEmpty=function(){return this._list.length===0},c.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},c.prototype._searchNearestSegmentBefore=function(u){var h=this._list;if(h.length===0)return-2;var d=h.length-1,p=0,f=0,m=d,b=0;if(u<h[0].originalBeginDts)return-1;for(;f<=m;){if((p=f+Math.floor((m-f)/2))===d||u>h[p].lastSample.originalDts&&u<h[p+1].originalBeginDts){b=p;break}h[p].originalBeginDts<u?f=p+1:m=p-1}return b},c.prototype._searchNearestSegmentAfter=function(u){return this._searchNearestSegmentBefore(u)+1},c.prototype.append=function(u){var h=this._list,d=u,p=this._lastAppendLocation,f=0;p!==-1&&p<h.length&&d.originalBeginDts>=h[p].lastSample.originalDts&&(p===h.length-1||p<h.length-1&&d.originalBeginDts<h[p+1].originalBeginDts)?f=p+1:h.length>0&&(f=this._searchNearestSegmentBefore(d.originalBeginDts)+1),this._lastAppendLocation=f,this._list.splice(f,0,d)},c.prototype.getLastSegmentBefore=function(u){var h=this._searchNearestSegmentBefore(u);return h>=0?this._list[h]:null},c.prototype.getLastSampleBefore=function(u){var h=this.getLastSegmentBefore(u);return h!=null?h.lastSample:null},c.prototype.getLastSyncPointBefore=function(u){for(var h=this._searchNearestSegmentBefore(u),d=this._list[h].syncPoints;d.length===0&&h>0;)h--,d=this._list[h].syncPoints;return d.length>0?d[d.length-1]:null},c}()},function(n,r,i){var o=function(){function a(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return a.prototype.isComplete=function(){var s=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,l=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&s&&l},a.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},a.prototype.getNearestKeyframe=function(s){if(this.keyframesIndex==null)return null;var l=this.keyframesIndex,c=this._search(l.times,s);return{index:c,milliseconds:l.times[c],fileposition:l.filepositions[c]}},a.prototype._search=function(s,l){var c=0,u=s.length-1,h=0,d=0,p=u;for(l<s[0]&&(c=0,d=p+1);d<=p;){if((h=d+Math.floor((p-d)/2))===u||l>=s[h]&&l<s[h+1]){c=h;break}s[h]<l?d=h+1:p=h-1}return c},a}();r.a=o},function(n,r,i){var o=i(9),a=i.n(o),s=i(0),l=i(5),c=i(12);function u(R,A,k){var y=R;if(A+k<y.length){for(;k--;)if((192&y[++A])!=128)return!1;return!0}return!1}var h,d=function(R){for(var A=[],k=R,y=0,O=R.length;y<O;)if(k[y]<128)A.push(String.fromCharCode(k[y])),++y;else{if(!(k[y]<192)){if(k[y]<224){if(u(k,y,1)&&(z=(31&k[y])<<6|63&k[y+1])>=128){A.push(String.fromCharCode(65535&z)),y+=2;continue}}else if(k[y]<240){if(u(k,y,2)&&(z=(15&k[y])<<12|(63&k[y+1])<<6|63&k[y+2])>=2048&&(63488&z)!=55296){A.push(String.fromCharCode(65535&z)),y+=3;continue}}else if(k[y]<248){var z;if(u(k,y,3)&&(z=(7&k[y])<<18|(63&k[y+1])<<12|(63&k[y+2])<<6|63&k[y+3])>65536&&z<1114112){z-=65536,A.push(String.fromCharCode(z>>>10|55296)),A.push(String.fromCharCode(1023&z|56320)),y+=4;continue}}}A.push("�"),++y}return A.join("")},p=i(3),f=(h=new ArrayBuffer(2),new DataView(h).setInt16(0,256,!0),new Int16Array(h)[0]===256),m=function(){function R(){}return R.parseScriptData=function(A,k,y){var O={};try{var z=R.parseValue(A,k,y),B=R.parseValue(A,k+z.size,y-z.size);O[z.data]=B.data}catch(q){s.a.e("AMF",q.toString())}return O},R.parseObject=function(A,k,y){if(y<3)throw new p.a("Data not enough when parse ScriptDataObject");var O=R.parseString(A,k,y),z=R.parseValue(A,k+O.size,y-O.size),B=z.objectEnd;return{data:{name:O.data,value:z.data},size:O.size+z.size,objectEnd:B}},R.parseVariable=function(A,k,y){return R.parseObject(A,k,y)},R.parseString=function(A,k,y){if(y<2)throw new p.a("Data not enough when parse String");var O=new DataView(A,k,y).getUint16(0,!f);return{data:O>0?d(new Uint8Array(A,k+2,O)):"",size:2+O}},R.parseLongString=function(A,k,y){if(y<4)throw new p.a("Data not enough when parse LongString");var O=new DataView(A,k,y).getUint32(0,!f);return{data:O>0?d(new Uint8Array(A,k+4,O)):"",size:4+O}},R.parseDate=function(A,k,y){if(y<10)throw new p.a("Data size invalid when parse Date");var O=new DataView(A,k,y),z=O.getFloat64(0,!f),B=O.getInt16(8,!f);return{data:new Date(z+=60*B*1e3),size:10}},R.parseValue=function(A,k,y){if(y<1)throw new p.a("Data not enough when parse Value");var O,z=new DataView(A,k,y),B=1,q=z.getUint8(0),Y=!1;try{switch(q){case 0:O=z.getFloat64(1,!f),B+=8;break;case 1:O=!!z.getUint8(1),B+=1;break;case 2:var X=R.parseString(A,k+1,y-1);O=X.data,B+=X.size;break;case 3:O={};var ee=0;for((16777215&z.getUint32(y-4,!f))==9&&(ee=3);B<y-4;){var ie=R.parseObject(A,k+B,y-B-ee);if(ie.objectEnd)break;O[ie.data.name]=ie.data.value,B+=ie.size}B<=y-3&&(16777215&z.getUint32(B-1,!f))==9&&(B+=3);break;case 8:for(O={},B+=4,ee=0,(16777215&z.getUint32(y-4,!f))==9&&(ee=3);B<y-8;){var ce=R.parseVariable(A,k+B,y-B-ee);if(ce.objectEnd)break;O[ce.data.name]=ce.data.value,B+=ce.size}B<=y-3&&(16777215&z.getUint32(B-1,!f))==9&&(B+=3);break;case 9:O=void 0,B=1,Y=!0;break;case 10:O=[];var ue=z.getUint32(1,!f);B+=4;for(var xe=0;xe<ue;xe++){var Ne=R.parseValue(A,k+B,y-B);O.push(Ne.data),B+=Ne.size}break;case 11:var Ee=R.parseDate(A,k+1,y-1);O=Ee.data,B+=Ee.size;break;case 12:var $e=R.parseString(A,k+1,y-1);O=$e.data,B+=$e.size;break;default:B=y,s.a.w("AMF","Unsupported AMF value type "+q)}}catch(Ge){s.a.e("AMF",Ge.toString())}return{data:O,size:B,objectEnd:Y}},R}(),b=function(){function R(A){this.TAG="ExpGolomb",this._buffer=A,this._buffer_index=0,this._total_bytes=A.byteLength,this._total_bits=8*A.byteLength,this._current_word=0,this._current_word_bits_left=0}return R.prototype.destroy=function(){this._buffer=null},R.prototype._fillCurrentWord=function(){var A=this._total_bytes-this._buffer_index;if(A<=0)throw new p.a("ExpGolomb: _fillCurrentWord() but no bytes available");var k=Math.min(4,A),y=new Uint8Array(4);y.set(this._buffer.subarray(this._buffer_index,this._buffer_index+k)),this._current_word=new DataView(y.buffer).getUint32(0,!1),this._buffer_index+=k,this._current_word_bits_left=8*k},R.prototype.readBits=function(A){if(A>32)throw new p.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(A<=this._current_word_bits_left){var k=this._current_word>>>32-A;return this._current_word<<=A,this._current_word_bits_left-=A,k}var y=this._current_word_bits_left?this._current_word:0;y>>>=32-this._current_word_bits_left;var O=A-this._current_word_bits_left;this._fillCurrentWord();var z=Math.min(O,this._current_word_bits_left),B=this._current_word>>>32-z;return this._current_word<<=z,this._current_word_bits_left-=z,y<<z|B},R.prototype.readBool=function(){return this.readBits(1)===1},R.prototype.readByte=function(){return this.readBits(8)},R.prototype._skipLeadingZero=function(){var A;for(A=0;A<this._current_word_bits_left;A++)if(this._current_word&2147483648>>>A)return this._current_word<<=A,this._current_word_bits_left-=A,A;return this._fillCurrentWord(),A+this._skipLeadingZero()},R.prototype.readUEG=function(){var A=this._skipLeadingZero();return this.readBits(A+1)-1},R.prototype.readSEG=function(){var A=this.readUEG();return 1&A?A+1>>>1:-1*(A>>>1)},R}(),v=function(){function R(){}return R._ebsp2rbsp=function(A){for(var k=A,y=k.byteLength,O=new Uint8Array(y),z=0,B=0;B<y;B++)B>=2&&k[B]===3&&k[B-1]===0&&k[B-2]===0||(O[z]=k[B],z++);return new Uint8Array(O.buffer,0,z)},R.parseSPS=function(A){for(var k=A.subarray(1,4),y="avc1.",O=0;O<3;O++){var z=k[O].toString(16);z.length<2&&(z="0"+z),y+=z}var B=R._ebsp2rbsp(A),q=new b(B);q.readByte();var Y=q.readByte();q.readByte();var X=q.readByte();q.readUEG();var ee=R.getProfileString(Y),ie=R.getLevelString(X),ce=1,ue=420,xe=8,Ne=8;if((Y===100||Y===110||Y===122||Y===244||Y===44||Y===83||Y===86||Y===118||Y===128||Y===138||Y===144)&&((ce=q.readUEG())===3&&q.readBits(1),ce<=3&&(ue=[0,420,422,444][ce]),xe=q.readUEG()+8,Ne=q.readUEG()+8,q.readBits(1),q.readBool()))for(var Ee=ce!==3?8:12,$e=0;$e<Ee;$e++)q.readBool()&&($e<6?R._skipScalingList(q,16):R._skipScalingList(q,64));q.readUEG();var Ge=q.readUEG();if(Ge===0)q.readUEG();else if(Ge===1){q.readBits(1),q.readSEG(),q.readSEG();var Re=q.readUEG();for($e=0;$e<Re;$e++)q.readSEG()}var at=q.readUEG();q.readBits(1);var _t=q.readUEG(),je=q.readUEG(),tt=q.readBits(1);tt===0&&q.readBits(1),q.readBits(1);var Qe=0,it=0,mt=0,Nt=0;q.readBool()&&(Qe=q.readUEG(),it=q.readUEG(),mt=q.readUEG(),Nt=q.readUEG());var on=1,dt=1,Dt=0,Ht=!0,cn=0,ya=0;if(q.readBool()){if(q.readBool()){var Hr=q.readByte();Hr>0&&Hr<16?(on=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Hr-1],dt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Hr-1]):Hr===255&&(on=q.readByte()<<8|q.readByte(),dt=q.readByte()<<8|q.readByte())}if(q.readBool()&&q.readBool(),q.readBool()&&(q.readBits(4),q.readBool()&&q.readBits(24)),q.readBool()&&(q.readUEG(),q.readUEG()),q.readBool()){var Tr=q.readBits(32),ba=q.readBits(32);Ht=q.readBool(),Dt=(cn=ba)/(ya=2*Tr)}}var No=1;on===1&&dt===1||(No=on/dt);var vr=0,Bt=0;ce===0?(vr=1,Bt=2-tt):(vr=ce===3?1:2,Bt=(ce===1?2:1)*(2-tt));var yr=16*(_t+1),Bo=16*(je+1)*(2-tt);yr-=(Qe+it)*vr,Bo-=(mt+Nt)*Bt;var lh=Math.ceil(yr*No);return q.destroy(),q=null,{codec_mimetype:y,profile_idc:Y,level_idc:X,profile_string:ee,level_string:ie,chroma_format_idc:ce,bit_depth:xe,bit_depth_luma:xe,bit_depth_chroma:Ne,ref_frames:at,chroma_format:ue,chroma_format_string:R.getChromaFormatString(ue),frame_rate:{fixed:Ht,fps:Dt,fps_den:ya,fps_num:cn},sar_ratio:{width:on,height:dt},codec_size:{width:yr,height:Bo},present_size:{width:lh,height:Bo}}},R._skipScalingList=function(A,k){for(var y=8,O=8,z=0;z<k;z++)O!==0&&(O=(y+A.readSEG()+256)%256),y=O===0?y:O},R.getProfileString=function(A){switch(A){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},R.getLevelString=function(A){return(A/10).toFixed(1)},R.getChromaFormatString=function(A){switch(A){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},R}(),_=i(6),w=function(){function R(){}return R._ebsp2rbsp=function(A){for(var k=A,y=k.byteLength,O=new Uint8Array(y),z=0,B=0;B<y;B++)B>=2&&k[B]===3&&k[B-1]===0&&k[B-2]===0||(O[z]=k[B],z++);return new Uint8Array(O.buffer,0,z)},R.parseVPS=function(A){var k=R._ebsp2rbsp(A),y=new b(k);return y.readByte(),y.readByte(),y.readBits(4),y.readBits(2),y.readBits(6),{num_temporal_layers:y.readBits(3)+1,temporal_id_nested:y.readBool()}},R.parseSPS=function(A){var k=R._ebsp2rbsp(A),y=new b(k);y.readByte(),y.readByte();for(var O=0,z=0,B=0,q=0,Y=(y.readBits(4),y.readBits(3)),X=(y.readBool(),y.readBits(2)),ee=y.readBool(),ie=y.readBits(5),ce=y.readByte(),ue=y.readByte(),xe=y.readByte(),Ne=y.readByte(),Ee=y.readByte(),$e=y.readByte(),Ge=y.readByte(),Re=y.readByte(),at=y.readByte(),_t=y.readByte(),je=y.readByte(),tt=[],Qe=[],it=0;it<Y;it++)tt.push(y.readBool()),Qe.push(y.readBool());if(Y>0)for(it=Y;it<8;it++)y.readBits(2);for(it=0;it<Y;it++)tt[it]&&(y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte(),y.readByte()),Qe[it]&&y.readByte();y.readUEG();var mt=y.readUEG();mt==3&&y.readBits(1);var Nt=y.readUEG(),on=y.readUEG();y.readBool()&&(O+=y.readUEG(),z+=y.readUEG(),B+=y.readUEG(),q+=y.readUEG());var dt=y.readUEG(),Dt=y.readUEG(),Ht=y.readUEG();for(it=y.readBool()?0:Y;it<=Y;it++)y.readUEG(),y.readUEG(),y.readUEG();if(y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG(),y.readBool()&&y.readBool())for(var cn=0;cn<4;cn++)for(var ya=0;ya<(cn===3?2:6);ya++)if(y.readBool()){var Hr=Math.min(64,1<<4+(cn<<1));for(cn>1&&y.readSEG(),it=0;it<Hr;it++)y.readSEG()}else y.readUEG();y.readBool(),y.readBool(),y.readBool()&&(y.readByte(),y.readUEG(),y.readUEG(),y.readBool());var Tr=y.readUEG(),ba=0;for(it=0;it<Tr;it++){var No=!1;if(it!==0&&(No=y.readBool()),No){it===Tr&&y.readUEG(),y.readBool(),y.readUEG();for(var vr=0,Bt=0;Bt<=ba;Bt++){var yr=y.readBool(),Bo=!1;yr||(Bo=y.readBool()),(yr||Bo)&&vr++}ba=vr}else{var lh=y.readUEG(),il=y.readUEG();for(ba=lh+il,Bt=0;Bt<lh;Bt++)y.readUEG(),y.readBool();for(Bt=0;Bt<il;Bt++)y.readUEG(),y.readBool()}}if(y.readBool()){var ch=y.readUEG();for(it=0;it<ch;it++){for(Bt=0;Bt<Ht+4;Bt++)y.readBits(1);y.readBits(1)}}var Gp=0,zo=1,Fo=1,Wp=!1,wc=1,vn=1;if(y.readBool(),y.readBool(),y.readBool()){if(y.readBool()){var _c=y.readByte();_c>0&&_c<=16?(zo=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][_c-1],Fo=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][_c-1]):_c===255&&(zo=y.readBits(16),Fo=y.readBits(16))}if(y.readBool()&&y.readBool(),y.readBool()&&(y.readBits(3),y.readBool(),y.readBool()&&(y.readByte(),y.readByte(),y.readByte())),y.readBool()&&(y.readUEG(),y.readUEG()),y.readBool(),y.readBool(),y.readBool(),y.readBool()&&(y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG()),y.readBool()&&(wc=y.readBits(32),vn=y.readBits(32),y.readBool()&&y.readUEG(),y.readBool())){var Kp=!1,uh=!1,xc=!1;for(Kp=y.readBool(),uh=y.readBool(),(Kp||uh)&&((xc=y.readBool())&&(y.readByte(),y.readBits(5),y.readBool(),y.readBits(5)),y.readBits(4),y.readBits(4),xc&&y.readBits(4),y.readBits(5),y.readBits(5),y.readBits(5)),it=0;it<=Y;it++){var Qp=y.readBool();Wp=Qp;var kc=!0,hh=1;Qp||(kc=y.readBool());var ho=!1;if(kc?y.readUEG():ho=y.readBool(),ho||(hh=y.readUEG()+1),Kp){for(Bt=0;Bt<hh;Bt++)y.readUEG(),y.readUEG(),xc&&(y.readUEG(),y.readUEG());y.readBool()}if(uh){for(Bt=0;Bt<hh;Bt++)y.readUEG(),y.readUEG(),xc&&(y.readUEG(),y.readUEG());y.readBool()}}}y.readBool()&&(y.readBool(),y.readBool(),y.readBool(),Gp=y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG(),y.readUEG())}y.readBool();var u1="hvc1.".concat(ie,".1.L").concat(je,".B0"),ol=Nt-(O+z)*(mt===1||mt===2?2:1),Yp=on-(B+q)*(mt===1?2:1),dh=1;return zo!==1&&Fo!==1&&(dh=zo/Fo),y.destroy(),y=null,{codec_mimetype:u1,profile_string:R.getProfileString(ie),level_string:R.getLevelString(je),profile_idc:ie,bit_depth:dt+8,ref_frames:1,chroma_format:mt,chroma_format_string:R.getChromaFormatString(mt),general_level_idc:je,general_profile_space:X,general_tier_flag:ee,general_profile_idc:ie,general_profile_compatibility_flags_1:ce,general_profile_compatibility_flags_2:ue,general_profile_compatibility_flags_3:xe,general_profile_compatibility_flags_4:Ne,general_constraint_indicator_flags_1:Ee,general_constraint_indicator_flags_2:$e,general_constraint_indicator_flags_3:Ge,general_constraint_indicator_flags_4:Re,general_constraint_indicator_flags_5:at,general_constraint_indicator_flags_6:_t,min_spatial_segmentation_idc:Gp,constant_frame_rate:0,chroma_format_idc:mt,bit_depth_luma_minus8:dt,bit_depth_chroma_minus8:Dt,frame_rate:{fixed:Wp,fps:vn/wc,fps_den:wc,fps_num:vn},sar_ratio:{width:zo,height:Fo},codec_size:{width:ol,height:Yp},present_size:{width:ol*dh,height:Yp}}},R.parsePPS=function(A){var k=R._ebsp2rbsp(A),y=new b(k);y.readByte(),y.readByte(),y.readUEG(),y.readUEG(),y.readBool(),y.readBool(),y.readBits(3),y.readBool(),y.readBool(),y.readUEG(),y.readUEG(),y.readSEG(),y.readBool(),y.readBool(),y.readBool()&&y.readUEG(),y.readSEG(),y.readSEG(),y.readBool(),y.readBool(),y.readBool(),y.readBool();var O=y.readBool(),z=y.readBool(),B=1;return z&&O?B=0:z?B=3:O&&(B=2),{parallelismType:B}},R.getChromaFormatString=function(A){switch(A){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},R.getProfileString=function(A){switch(A){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},R.getLevelString=function(A){return(A/30).toFixed(1)},R}();function x(R){return R.byteOffset%2==0&&R.byteLength%2==0}function E(R){return R.byteOffset%4==0&&R.byteLength%4==0}function M(R,A){for(var k=0;k<R.length;k++)if(R[k]!==A[k])return!1;return!0}var T,S=function(R,A){return R.byteLength===A.byteLength&&(E(R)&&E(A)?function(k,y){return M(new Uint32Array(k.buffer,k.byteOffset,k.byteLength/4),new Uint32Array(y.buffer,y.byteOffset,y.byteLength/4))}(R,A):x(R)&&x(A)?function(k,y){return M(new Uint16Array(k.buffer,k.byteOffset,k.byteLength/2),new Uint16Array(y.buffer,y.byteOffset,y.byteLength/2))}(R,A):function(k,y){return M(k,y)}(R,A))},C=function(){function R(){}return R.parseOBUs=function(A){for(var k=null,y=0;y<A.byteLength;){A[y];var O=(120&A[y])>>3,z=(4&A[y])!=0,B=(2&A[y])!=0;A[y],y+=1,z&&(y+=1);var q=Number.POSITIVE_INFINITY;if(B){q=0;for(var Y=0;q|=(127&A[y])<<7*Y,(128&A[y+=1])!=0;Y++);}O===1&&(k=R.parseSeuqneceHeader(A.subarray(y,y+q))),y+=q}return k},R.parseSeuqneceHeader=function(A){var k=new b(A),y=k.readBits(3),O=(k.readBool(),k.readBool()),z=!0,B=0,q=0,Y=[];if(O)Y.push({operating_point_idc:0,level:k.readBits(5),tier:0});else{if(k.readBool()){var X=k.readBits(32),ee=k.readBits(32),ie=k.readBool();if(ie){for(var ce=0;k.readBits(1)===0;)ce+=1;ce>=32||k.readBits(ce)}B=ee,q=X,z=ie,k.readBool()&&(k.readBits(5),k.readBits(32),k.readBits(5),k.readBits(5))}for(var ue=k.readBool(),xe=k.readBits(5),Ne=0;Ne<=xe;Ne++){var Ee=k.readBits(12),$e=k.readBits(5),Ge=$e>7?k.readBits(1):0;Y.push({operating_point_idc:Ee,level:$e,tier:Ge}),ue&&k.readBool()&&k.readBits(4)}}var Re=Y[0],at=Re.level,_t=Re.tier,je=k.readBits(4),tt=k.readBits(4),Qe=k.readBits(je+1)+1,it=k.readBits(tt+1)+1,mt=!1;O||(mt=k.readBool()),mt&&(k.readBits(4),k.readBits(4)),k.readBool(),k.readBool(),k.readBool();var Nt=!1;O||(k.readBool(),k.readBool(),k.readBool(),k.readBool(),(Nt=k.readBool())&&(k.readBool(),k.readBool()),(k.readBool()||k.readBits(1))&&(k.readBool()||k.readBits(1)),Nt&&k.readBits(3)),k.readBool(),k.readBool(),k.readBool();var on=k.readBool(),dt=8;dt=y===2&&on?k.readBool()?12:10:on?10:8;var Dt=!1;y!==1&&(Dt=k.readBool()),k.readBool()&&(k.readBits(8),k.readBits(8),k.readBits(8));var Ht=1,cn=1;return Dt?(k.readBits(1),Ht=1,cn=1):(k.readBits(1),y==0?(Ht=1,cn=1):y==1?(Ht=0,cn=0):dt==12?k.readBits(1)&&k.readBits(1):(Ht=1,cn=0),Ht&&cn&&k.readBits(2),k.readBits(1)),k.readBool(),k.destroy(),k=null,{codec_mimetype:"av01.".concat(y,".").concat(R.getLevelString(at,_t),".").concat(dt.toString(10).padStart(2,"0")),level:at,tier:_t,level_string:R.getLevelString(at,_t),profile_idc:y,profile_string:"".concat(y),bit_depth:dt,ref_frames:1,chroma_format:R.getChromaFormat(Dt,Ht,cn),chroma_format_string:R.getChromaFormatString(Dt,Ht,cn),frame_rate:{fixed:z,fps:B/q,fps_den:q,fps_num:B},sar_ratio:{width:1,height:1},codec_size:{width:Qe,height:it},present_size:{width:1*Qe,height:it}}},R.getLevelString=function(A,k){return"".concat(A.toString(10).padStart(2,"0")).concat(k===0?"M":"H")},R.getChromaFormat=function(A,k,y){return A?0:k===0&&y===0?3:k===1&&y===0?2:k===1&&y===1?1:Number.NaN},R.getChromaFormatString=function(A,k,y){return A?"4:0:0":k===0&&y===0?"4:4:4":k===1&&y===0?"4:2:2":k===1&&y===1?"4:2:0":"Unknown"},R}(),P=function(){function R(A,k){this.TAG="FLVDemuxer",this._config=k,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=A.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=A.hasAudioTrack,this._hasVideo=A.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new c.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var y=new ArrayBuffer(2);return new DataView(y).setInt16(0,256,!0),new Int16Array(y)[0]===256}()}return R.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},R.probe=function(A){var k=new Uint8Array(A);if(k.byteLength<9)return{needMoreData:!0};var y={match:!1};if(k[0]!==70||k[1]!==76||k[2]!==86||k[3]!==1)return y;var O,z,B=(4&k[4])>>>2!=0,q=(1&k[4])!=0,Y=(O=k)[z=5]<<24|O[z+1]<<16|O[z+2]<<8|O[z+3];return Y<9?y:{match:!0,consumed:Y,dataOffset:Y,hasAudioTrack:B,hasVideoTrack:q}},R.prototype.bindDataSource=function(A){return A.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(R.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(A){this._onTrackMetadata=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(A){this._onMediaInfo=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(A){this._onMetaDataArrived=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(A){this._onScriptDataArrived=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onError",{get:function(){return this._onError},set:function(A){this._onError=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(A){this._onDataAvailable=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(A){this._timestampBase=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"overridedDuration",{get:function(){return this._duration},set:function(A){this._durationOverrided=!0,this._duration=A,this._mediaInfo.duration=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"overridedHasAudio",{set:function(A){this._hasAudioFlagOverrided=!0,this._hasAudio=A,this._mediaInfo.hasAudio=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"overridedHasVideo",{set:function(A){this._hasVideoFlagOverrided=!0,this._hasVideo=A,this._mediaInfo.hasVideo=A},enumerable:!1,configurable:!0}),R.prototype.resetMediaInfo=function(){this._mediaInfo=new c.a},R.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},R.prototype.parseChunks=function(A,k){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new p.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var y=0,O=this._littleEndian;if(k===0){if(!(A.byteLength>13))return 0;y=R.probe(A).dataOffset}for(this._firstParse&&(this._firstParse=!1,k+y!==this._dataOffset&&s.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),(z=new DataView(A,y)).getUint32(0,!O)!==0&&s.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),y+=4);y<A.byteLength;){this._dispatch=!0;var z=new DataView(A,y);if(y+11+4>A.byteLength)break;var B=z.getUint8(0),q=16777215&z.getUint32(0,!O);if(y+11+q+4>A.byteLength)break;if(B===8||B===9||B===18){var Y=z.getUint8(4),X=z.getUint8(5),ee=z.getUint8(6)|X<<8|Y<<16|z.getUint8(7)<<24;16777215&z.getUint32(7,!O)&&s.a.w(this.TAG,"Meet tag which has StreamID != 0!");var ie=y+11;switch(B){case 8:this._parseAudioData(A,ie,q,ee);break;case 9:this._parseVideoData(A,ie,q,ee,k+y);break;case 18:this._parseScriptData(A,ie,q)}var ce=z.getUint32(11+q,!O);ce!==11+q&&s.a.w(this.TAG,"Invalid PrevTagSize ".concat(ce)),y+=11+q+4}else s.a.w(this.TAG,"Unsupported tag type ".concat(B,", skipped")),y+=11+q+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),y},R.prototype._parseScriptData=function(A,k,y){var O=m.parseScriptData(A,k,y);if(O.hasOwnProperty("onMetaData")){if(O.onMetaData==null||typeof O.onMetaData!="object")return void s.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&s.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=O;var z=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},z)),typeof z.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=z.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof z.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=z.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof z.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=z.audiodatarate),typeof z.videodatarate=="number"&&(this._mediaInfo.videoDataRate=z.videodatarate),typeof z.width=="number"&&(this._mediaInfo.width=z.width),typeof z.height=="number"&&(this._mediaInfo.height=z.height),typeof z.duration=="number"){if(!this._durationOverrided){var B=Math.floor(z.duration*this._timescale);this._duration=B,this._mediaInfo.duration=B}}else this._mediaInfo.duration=0;if(typeof z.framerate=="number"){var q=Math.floor(1e3*z.framerate);if(q>0){var Y=q/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=Y,this._referenceFrameRate.fps_num=q,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=Y}}if(typeof z.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var X=z.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(X),z.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=z,s.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(O).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},O))},R.prototype._parseKeyframesIndex=function(A){for(var k=[],y=[],O=1;O<A.times.length;O++){var z=this._timestampBase+Math.floor(1e3*A.times[O]);k.push(z),y.push(A.filepositions[O])}return{times:k,filepositions:y}},R.prototype._parseAudioData=function(A,k,y,O){if(y<=1)s.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){this._littleEndian;var z=new DataView(A,k,y).getUint8(0),B=z>>>4;if(B===2||B===10){var q=0,Y=(12&z)>>>2;if(Y>=0&&Y<=4){q=this._flvSoundRateTable[Y];var X=1&z,ee=this._audioMetadata,ie=this._audioTrack;if(ee||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(ee=this._audioMetadata={}).type="audio",ee.id=ie.id,ee.timescale=this._timescale,ee.duration=this._duration,ee.audioSampleRate=q,ee.channelCount=X===0?1:2),B===10){var ce=this._parseAACAudioData(A,k+1,y-1);if(ce==null)return;if(ce.packetType===0){if(ee.config){if(S(ce.data.config,ee.config))return;s.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var ue=ce.data;ee.audioSampleRate=ue.samplingRate,ee.channelCount=ue.channelCount,ee.codec=ue.codec,ee.originalCodec=ue.originalCodec,ee.config=ue.config,ee.refSampleDuration=1024/ee.audioSampleRate*ee.timescale,s.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",ee),(Ee=this._mediaInfo).audioCodec=ee.originalCodec,Ee.audioSampleRate=ee.audioSampleRate,Ee.audioChannelCount=ee.channelCount,Ee.hasVideo?Ee.videoCodec!=null&&(Ee.mimeType='video/x-flv; codecs="'+Ee.videoCodec+","+Ee.audioCodec+'"'):Ee.mimeType='video/x-flv; codecs="'+Ee.audioCodec+'"',Ee.isComplete()&&this._onMediaInfo(Ee)}else if(ce.packetType===1){var xe=this._timestampBase+O,Ne={unit:ce.data,length:ce.data.byteLength,dts:xe,pts:xe};ie.samples.push(Ne),ie.length+=ce.data.length}else s.a.e(this.TAG,"Flv: Unsupported AAC data type ".concat(ce.packetType))}else if(B===2){if(!ee.codec){var Ee;if((ue=this._parseMP3AudioData(A,k+1,y-1,!0))==null)return;ee.audioSampleRate=ue.samplingRate,ee.channelCount=ue.channelCount,ee.codec=ue.codec,ee.originalCodec=ue.originalCodec,ee.refSampleDuration=1152/ee.audioSampleRate*ee.timescale,s.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",ee),(Ee=this._mediaInfo).audioCodec=ee.codec,Ee.audioSampleRate=ee.audioSampleRate,Ee.audioChannelCount=ee.channelCount,Ee.audioDataRate=ue.bitRate,Ee.hasVideo?Ee.videoCodec!=null&&(Ee.mimeType='video/x-flv; codecs="'+Ee.videoCodec+","+Ee.audioCodec+'"'):Ee.mimeType='video/x-flv; codecs="'+Ee.audioCodec+'"',Ee.isComplete()&&this._onMediaInfo(Ee)}var $e=this._parseMP3AudioData(A,k+1,y-1,!1);if($e==null)return;xe=this._timestampBase+O;var Ge={unit:$e,length:$e.byteLength,dts:xe,pts:xe};ie.samples.push(Ge),ie.length+=$e.length}}else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+Y)}else this._onError(_.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+B)}},R.prototype._parseAACAudioData=function(A,k,y){if(!(y<=1)){var O={},z=new Uint8Array(A,k,y);return O.packetType=z[0],z[0]===0?O.data=this._parseAACAudioSpecificConfig(A,k+1,y-1):O.data=z.subarray(1),O}s.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},R.prototype._parseAACAudioSpecificConfig=function(A,k,y){var O,z,B=new Uint8Array(A,k,y),q=null,Y=0,X=null;if(Y=O=B[0]>>>3,(z=(7&B[0])<<1|B[1]>>>7)<0||z>=this._mpegSamplingRates.length)this._onError(_.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var ee=this._mpegSamplingRates[z],ie=(120&B[1])>>>3;if(!(ie<0||ie>=8)){Y===5&&(X=(7&B[1])<<1|B[2]>>>7,B[2]);var ce=self.navigator.userAgent.toLowerCase();return ce.indexOf("firefox")!==-1?z>=6?(Y=5,q=new Array(4),X=z-3):(Y=2,q=new Array(2),X=z):ce.indexOf("android")!==-1?(Y=2,q=new Array(2),X=z):(Y=5,X=z,q=new Array(4),z>=6?X=z-3:ie===1&&(Y=2,q=new Array(2),X=z)),q[0]=Y<<3,q[0]|=(15&z)>>>1,q[1]=(15&z)<<7,q[1]|=(15&ie)<<3,Y===5&&(q[1]|=(15&X)>>>1,q[2]=(1&X)<<7,q[2]|=8,q[3]=0),{config:q,samplingRate:ee,channelCount:ie,codec:"mp4a.40."+Y,originalCodec:"mp4a.40."+O}}this._onError(_.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},R.prototype._parseMP3AudioData=function(A,k,y,O){if(!(y<4)){this._littleEndian;var z=new Uint8Array(A,k,y),B=null;if(O){if(z[0]!==255)return;var q=z[1]>>>3&3,Y=(6&z[1])>>1,X=(240&z[2])>>>4,ee=(12&z[2])>>>2,ie=(z[3]>>>6&3)!=3?2:1,ce=0,ue=0;switch(q){case 0:ce=this._mpegAudioV25SampleRateTable[ee];break;case 2:ce=this._mpegAudioV20SampleRateTable[ee];break;case 3:ce=this._mpegAudioV10SampleRateTable[ee]}switch(Y){case 1:X<this._mpegAudioL3BitRateTable.length&&(ue=this._mpegAudioL3BitRateTable[X]);break;case 2:X<this._mpegAudioL2BitRateTable.length&&(ue=this._mpegAudioL2BitRateTable[X]);break;case 3:X<this._mpegAudioL1BitRateTable.length&&(ue=this._mpegAudioL1BitRateTable[X])}B={bitRate:ue,samplingRate:ce,channelCount:ie,codec:"mp3",originalCodec:"mp3"}}else B=z;return B}s.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},R.prototype._parseVideoData=function(A,k,y,O,z){if(y<=1)s.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var B=new Uint8Array(A,k,y)[0],q=(112&B)>>>4;if(128&B){var Y=15&B,X=String.fromCharCode.apply(String,new Uint8Array(A,k,y).slice(1,5));if(X==="hvc1")this._parseEnhancedHEVCVideoPacket(A,k+5,y-5,O,z,q,Y);else{if(X!=="av01")return void this._onError(_.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(X));this._parseEnhancedAV1VideoPacket(A,k+5,y-5,O,z,q,Y)}}else{var ee=15&B;if(ee===7)this._parseAVCVideoPacket(A,k+1,y-1,O,z,q);else{if(ee!==12)return void this._onError(_.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: ".concat(ee));this._parseHEVCVideoPacket(A,k+1,y-1,O,z,q)}}}},R.prototype._parseAVCVideoPacket=function(A,k,y,O,z,B){if(y<4)s.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var q=this._littleEndian,Y=new DataView(A,k,y),X=Y.getUint8(0),ee=(16777215&Y.getUint32(0,!q))<<8>>8;if(X===0)this._parseAVCDecoderConfigurationRecord(A,k+4,y-4);else if(X===1)this._parseAVCVideoData(A,k+4,y-4,O,z,B,ee);else if(X!==2)return void this._onError(_.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(X))}},R.prototype._parseHEVCVideoPacket=function(A,k,y,O,z,B){if(y<4)s.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var q=this._littleEndian,Y=new DataView(A,k,y),X=Y.getUint8(0),ee=(16777215&Y.getUint32(0,!q))<<8>>8;if(X===0)this._parseHEVCDecoderConfigurationRecord(A,k+4,y-4);else if(X===1)this._parseHEVCVideoData(A,k+4,y-4,O,z,B,ee);else if(X!==2)return void this._onError(_.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(X))}},R.prototype._parseEnhancedHEVCVideoPacket=function(A,k,y,O,z,B,q){var Y=this._littleEndian,X=new DataView(A,k,y);if(q===0)this._parseHEVCDecoderConfigurationRecord(A,k,y);else if(q===1){var ee=(4294967040&X.getUint32(0,!Y))>>8;this._parseHEVCVideoData(A,k+3,y-3,O,z,B,ee)}else if(q===3)this._parseHEVCVideoData(A,k,y,O,z,B,0);else if(q!==2)return void this._onError(_.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(q))},R.prototype._parseEnhancedAV1VideoPacket=function(A,k,y,O,z,B,q){if(this._littleEndian,q===0)this._parseAV1CodecConfigurationRecord(A,k,y);else if(q===1)this._parseAV1VideoData(A,k,y,O,z,B,0);else{if(q===5)return void this._onError(_.a.FORMAT_ERROR,"Flv: Not Supported MP2T AV1 video packet type ".concat(q));if(q!==2)return void this._onError(_.a.FORMAT_ERROR,"Flv: Invalid video packet type ".concat(q))}},R.prototype._parseAVCDecoderConfigurationRecord=function(A,k,y){if(y<7)s.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var O=this._videoMetadata,z=this._videoTrack,B=this._littleEndian,q=new DataView(A,k,y);if(O){if(O.avcc!==void 0){var Y=new Uint8Array(A,k,y);if(S(Y,O.avcc))return;s.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(O=this._videoMetadata={}).type="video",O.id=z.id,O.timescale=this._timescale,O.duration=this._duration;var X=q.getUint8(0),ee=q.getUint8(1);if(q.getUint8(2),q.getUint8(3),X===1&&ee!==0)if(this._naluLengthSize=1+(3&q.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var ie=31&q.getUint8(5);if(ie!==0){ie>1&&s.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ".concat(ie));for(var ce=6,ue=0;ue<ie;ue++){var xe=q.getUint16(ce,!B);if(ce+=2,xe!==0){var Ne=new Uint8Array(A,k+ce,xe);ce+=xe;var Ee=v.parseSPS(Ne);if(ue===0){O.codecWidth=Ee.codec_size.width,O.codecHeight=Ee.codec_size.height,O.presentWidth=Ee.present_size.width,O.presentHeight=Ee.present_size.height,O.profile=Ee.profile_string,O.level=Ee.level_string,O.bitDepth=Ee.bit_depth,O.chromaFormat=Ee.chroma_format,O.sarRatio=Ee.sar_ratio,O.frameRate=Ee.frame_rate,Ee.frame_rate.fixed!==!1&&Ee.frame_rate.fps_num!==0&&Ee.frame_rate.fps_den!==0||(O.frameRate=this._referenceFrameRate);var $e=O.frameRate.fps_den,Ge=O.frameRate.fps_num;O.refSampleDuration=O.timescale*($e/Ge);for(var Re=Ne.subarray(1,4),at="avc1.",_t=0;_t<3;_t++){var je=Re[_t].toString(16);je.length<2&&(je="0"+je),at+=je}O.codec=at;var tt=this._mediaInfo;tt.width=O.codecWidth,tt.height=O.codecHeight,tt.fps=O.frameRate.fps,tt.profile=O.profile,tt.level=O.level,tt.refFrames=Ee.ref_frames,tt.chromaFormat=Ee.chroma_format_string,tt.sarNum=O.sarRatio.width,tt.sarDen=O.sarRatio.height,tt.videoCodec=at,tt.hasAudio?tt.audioCodec!=null&&(tt.mimeType='video/x-flv; codecs="'+tt.videoCodec+","+tt.audioCodec+'"'):tt.mimeType='video/x-flv; codecs="'+tt.videoCodec+'"',tt.isComplete()&&this._onMediaInfo(tt)}}}var Qe=q.getUint8(ce);if(Qe!==0){for(Qe>1&&s.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ".concat(Qe)),ce++,ue=0;ue<Qe;ue++)xe=q.getUint16(ce,!B),ce+=2,xe!==0&&(ce+=xe);O.avcc=new Uint8Array(y),O.avcc.set(new Uint8Array(A,k,y),0),s.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",O)}else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(_.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1));else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},R.prototype._parseHEVCDecoderConfigurationRecord=function(A,k,y){if(y<22)s.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var O=this._videoMetadata,z=this._videoTrack,B=this._littleEndian,q=new DataView(A,k,y);if(O){if(O.hvcc!==void 0){var Y=new Uint8Array(A,k,y);if(S(Y,O.hvcc))return;s.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(O=this._videoMetadata={}).type="video",O.id=z.id,O.timescale=this._timescale,O.duration=this._duration;var X=q.getUint8(0),ee=31&q.getUint8(1);if(X!==0&&X!==1||ee===0)this._onError(_.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord");else if(this._naluLengthSize=1+(3&q.getUint8(21)),this._naluLengthSize===3||this._naluLengthSize===4){for(var ie=q.getUint8(22),ce=0,ue=23;ce<ie;ce++){var xe=63&q.getUint8(ue+0),Ne=q.getUint16(ue+1,!B);ue+=3;for(var Ee=0;Ee<Ne;Ee++){var $e=q.getUint16(ue+0,!B);if(Ee===0)if(xe===33){ue+=2;var Ge=new Uint8Array(A,k+ue,$e),Re=w.parseSPS(Ge);O.codecWidth=Re.codec_size.width,O.codecHeight=Re.codec_size.height,O.presentWidth=Re.present_size.width,O.presentHeight=Re.present_size.height,O.profile=Re.profile_string,O.level=Re.level_string,O.bitDepth=Re.bit_depth,O.chromaFormat=Re.chroma_format,O.sarRatio=Re.sar_ratio,O.frameRate=Re.frame_rate,Re.frame_rate.fixed!==!1&&Re.frame_rate.fps_num!==0&&Re.frame_rate.fps_den!==0||(O.frameRate=this._referenceFrameRate);var at=O.frameRate.fps_den,_t=O.frameRate.fps_num;O.refSampleDuration=O.timescale*(at/_t),O.codec=Re.codec_mimetype;var je=this._mediaInfo;je.width=O.codecWidth,je.height=O.codecHeight,je.fps=O.frameRate.fps,je.profile=O.profile,je.level=O.level,je.refFrames=Re.ref_frames,je.chromaFormat=Re.chroma_format_string,je.sarNum=O.sarRatio.width,je.sarDen=O.sarRatio.height,je.videoCodec=Re.codec_mimetype,je.hasAudio?je.audioCodec!=null&&(je.mimeType='video/x-flv; codecs="'+je.videoCodec+","+je.audioCodec+'"'):je.mimeType='video/x-flv; codecs="'+je.videoCodec+'"',je.isComplete()&&this._onMediaInfo(je),ue+=$e}else ue+=2+$e;else ue+=2+$e}}O.hvcc=new Uint8Array(y),O.hvcc.set(new Uint8Array(A,k,y),0),s.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",O)}else this._onError(_.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: ".concat(this._naluLengthSize-1))}},R.prototype._parseAV1CodecConfigurationRecord=function(A,k,y){if(y<4)s.a.w(this.TAG,"Flv: Invalid AV1CodecConfigurationRecord, lack of data!");else{var O=this._videoMetadata,z=this._videoTrack,B=(this._littleEndian,new DataView(A,k,y));O?O.av1c!==void 0&&s.a.w(this.TAG,"Found another AV1CodecConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(O=this._videoMetadata={}).type="video",O.id=z.id,O.timescale=this._timescale,O.duration=this._duration);var q=127&B.getUint8(0);if(B.getUint8(1),B.getUint8(1),B.getUint8(2),q===1){var Y=C.parseOBUs(new Uint8Array(A,k+4,y-4));if(Y!=null){O.codecWidth=Y.codec_size.width,O.codecHeight=Y.codec_size.height,O.presentWidth=Y.present_size.width,O.presentHeight=Y.present_size.height,O.profile=Y.profile_string,O.level=Y.level_string,O.bitDepth=Y.bit_depth,O.chromaFormat=Y.chroma_format,O.sarRatio=Y.sar_ratio,O.frameRate=Y.frame_rate,Y.frame_rate.fixed!==!1&&Y.frame_rate.fps_num!==0&&Y.frame_rate.fps_den!==0||(O.frameRate=this._referenceFrameRate);var X=O.frameRate.fps_den,ee=O.frameRate.fps_num;O.refSampleDuration=O.timescale*(X/ee),O.codec=Y.codec_mimetype;var ie=this._mediaInfo;ie.width=O.codecWidth,ie.height=O.codecHeight,ie.fps=O.frameRate.fps,ie.profile=O.profile,ie.level=O.level,ie.refFrames=Y.ref_frames,ie.chromaFormat=Y.chroma_format_string,ie.sarNum=O.sarRatio.width,ie.sarDen=O.sarRatio.height,ie.videoCodec=Y.codec_mimetype,ie.hasAudio?ie.audioCodec!=null&&(ie.mimeType='video/x-flv; codecs="'+ie.videoCodec+","+ie.audioCodec+'"'):ie.mimeType='video/x-flv; codecs="'+ie.videoCodec+'"',ie.isComplete()&&this._onMediaInfo(ie),O.av1c=new Uint8Array(y),O.av1c.set(new Uint8Array(A,k,y),0),s.a.v(this.TAG,"Parsed AV1CodecConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",O)}else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}else this._onError(_.a.FORMAT_ERROR,"Flv: Invalid AV1CodecConfigurationRecord")}},R.prototype._parseAVCVideoData=function(A,k,y,O,z,B,q){for(var Y=this._littleEndian,X=new DataView(A,k,y),ee=[],ie=0,ce=0,ue=this._naluLengthSize,xe=this._timestampBase+O,Ne=B===1;ce<y;){if(ce+4>=y){s.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(xe,", offset = ").concat(ce,", dataSize = ").concat(y));break}var Ee=X.getUint32(ce,!Y);if(ue===3&&(Ee>>>=8),Ee>y-ue)return void s.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(xe,", NaluSize > DataSize!"));var $e=31&X.getUint8(ce+ue);$e===5&&(Ne=!0);var Ge=new Uint8Array(A,k+ce,ue+Ee),Re={type:$e,data:Ge};ee.push(Re),ie+=Ge.byteLength,ce+=ue+Ee}if(ee.length){var at=this._videoTrack,_t={units:ee,length:ie,isKeyframe:Ne,dts:xe,cts:q,pts:xe+q};Ne&&(_t.fileposition=z),at.samples.push(_t),at.length+=ie}},R.prototype._parseHEVCVideoData=function(A,k,y,O,z,B,q){for(var Y=this._littleEndian,X=new DataView(A,k,y),ee=[],ie=0,ce=0,ue=this._naluLengthSize,xe=this._timestampBase+O,Ne=B===1;ce<y;){if(ce+4>=y){s.a.w(this.TAG,"Malformed Nalu near timestamp ".concat(xe,", offset = ").concat(ce,", dataSize = ").concat(y));break}var Ee=X.getUint32(ce,!Y);if(ue===3&&(Ee>>>=8),Ee>y-ue)return void s.a.w(this.TAG,"Malformed Nalus near timestamp ".concat(xe,", NaluSize > DataSize!"));var $e=X.getUint8(ce+ue)>>1&63;$e!==19&&$e!==20&&$e!==21||(Ne=!0);var Ge=new Uint8Array(A,k+ce,ue+Ee),Re={type:$e,data:Ge};ee.push(Re),ie+=Ge.byteLength,ce+=ue+Ee}if(ee.length){var at=this._videoTrack,_t={units:ee,length:ie,isKeyframe:Ne,dts:xe,cts:q,pts:xe+q};Ne&&(_t.fileposition=z),at.samples.push(_t),at.length+=ie}},R.prototype._parseAV1VideoData=function(A,k,y,O,z,B,q){this._littleEndian;var Y,X=[],ee=this._timestampBase+O,ie=B===1;if(Y=y,X.push({unitType:0,data:new Uint8Array(A,k+0,y)}),X.length){var ce=this._videoTrack,ue={units:X,length:Y,isKeyframe:ie,dts:ee,cts:q,pts:ee+q};ie&&(ue.fileposition=z),ce.samples.push(ue),ce.length+=Y}},R}(),U=function(){function R(){}return R.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSynchronousKLVMetadata=null,this.onAsynchronousKLVMetadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},R}(),W=function(){this.program_pmt_pid={}};(function(R){R[R.kMPEG1Audio=3]="kMPEG1Audio",R[R.kMPEG2Audio=4]="kMPEG2Audio",R[R.kPESPrivateData=6]="kPESPrivateData",R[R.kADTSAAC=15]="kADTSAAC",R[R.kLOASAAC=17]="kLOASAAC",R[R.kAC3=129]="kAC3",R[R.kEAC3=135]="kEAC3",R[R.kMetadata=21]="kMetadata",R[R.kSCTE35=134]="kSCTE35",R[R.kH264=27]="kH264",R[R.kH265=36]="kH265"})(T||(T={}));var te,ne=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.synchronous_klv_pids={},this.asynchronous_klv_pids={},this.scte_35_pids={},this.smpte2038_pids={}},ae=function(){},he=function(){},fe=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};(function(R){R[R.kUnspecified=0]="kUnspecified",R[R.kSliceNonIDR=1]="kSliceNonIDR",R[R.kSliceDPA=2]="kSliceDPA",R[R.kSliceDPB=3]="kSliceDPB",R[R.kSliceDPC=4]="kSliceDPC",R[R.kSliceIDR=5]="kSliceIDR",R[R.kSliceSEI=6]="kSliceSEI",R[R.kSliceSPS=7]="kSliceSPS",R[R.kSlicePPS=8]="kSlicePPS",R[R.kSliceAUD=9]="kSliceAUD",R[R.kEndOfSequence=10]="kEndOfSequence",R[R.kEndOfStream=11]="kEndOfStream",R[R.kFiller=12]="kFiller",R[R.kSPSExt=13]="kSPSExt",R[R.kReserved0=14]="kReserved0"})(te||(te={}));var le,N,H=function(){},F=function(R){var A=R.data.byteLength;this.type=R.type,this.data=new Uint8Array(4+A),new DataView(this.data.buffer).setUint32(0,A),this.data.set(R.data,4)},K=function(){function R(A){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=A,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return R.prototype.findNextStartCodeOffset=function(A){for(var k=A,y=this.data_;;){if(k+3>=y.byteLength)return this.eof_flag_=!0,y.byteLength;var O=y[k+0]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3],z=y[k+0]<<16|y[k+1]<<8|y[k+2];if(O===1||z===1)return k;k++}},R.prototype.readNextNaluPayload=function(){for(var A=this.data_,k=null;k==null&&!this.eof_flag_;){var y=this.current_startcode_offset_,O=31&A[y+=(A[y]<<24|A[y+1]<<16|A[y+2]<<8|A[y+3])==1?4:3],z=(128&A[y])>>>7,B=this.findNextStartCodeOffset(y);if(this.current_startcode_offset_=B,!(O>=te.kReserved0)&&z===0){var q=A.subarray(y,B);(k=new H).type=O,k.data=q}}return k},R}(),ye=function(){function R(A,k,y){var O=8+A.byteLength+1+2+k.byteLength,z=!1;A[3]!==66&&A[3]!==77&&A[3]!==88&&(z=!0,O+=4);var B=this.data=new Uint8Array(O);B[0]=1,B[1]=A[1],B[2]=A[2],B[3]=A[3],B[4]=255,B[5]=225;var q=A.byteLength;B[6]=q>>>8,B[7]=255&q;var Y=8;B.set(A,8),B[Y+=q]=1;var X=k.byteLength;B[Y+1]=X>>>8,B[Y+2]=255&X,B.set(k,Y+3),Y+=3+X,z&&(B[Y]=252|y.chroma_format_idc,B[Y+1]=248|y.bit_depth_luma-8,B[Y+2]=248|y.bit_depth_chroma-8,B[Y+3]=0,Y+=4)}return R.prototype.getData=function(){return this.data},R}();(function(R){R[R.kNull=0]="kNull",R[R.kAACMain=1]="kAACMain",R[R.kAAC_LC=2]="kAAC_LC",R[R.kAAC_SSR=3]="kAAC_SSR",R[R.kAAC_LTP=4]="kAAC_LTP",R[R.kAAC_SBR=5]="kAAC_SBR",R[R.kAAC_Scalable=6]="kAAC_Scalable",R[R.kLayer1=32]="kLayer1",R[R.kLayer2=33]="kLayer2",R[R.kLayer3=34]="kLayer3"})(le||(le={})),function(R){R[R.k96000Hz=0]="k96000Hz",R[R.k88200Hz=1]="k88200Hz",R[R.k64000Hz=2]="k64000Hz",R[R.k48000Hz=3]="k48000Hz",R[R.k44100Hz=4]="k44100Hz",R[R.k32000Hz=5]="k32000Hz",R[R.k24000Hz=6]="k24000Hz",R[R.k22050Hz=7]="k22050Hz",R[R.k16000Hz=8]="k16000Hz",R[R.k12000Hz=9]="k12000Hz",R[R.k11025Hz=10]="k11025Hz",R[R.k8000Hz=11]="k8000Hz",R[R.k7350Hz=12]="k7350Hz"}(N||(N={}));var me,Pe,Ue=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],de=(me=function(R,A){return(me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,y){k.__proto__=y}||function(k,y){for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(k[O]=y[O])})(R,A)},function(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function k(){this.constructor=R}me(R,A),R.prototype=A===null?Object.create(A):(k.prototype=A.prototype,new k)}),be=function(){},Le=function(R){function A(){return R!==null&&R.apply(this,arguments)||this}return de(A,R),A}(be),Ve=function(){function R(A){this.TAG="AACADTSParser",this.data_=A,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return R.prototype.findNextSyncwordOffset=function(A){for(var k=A,y=this.data_;;){if(k+7>=y.byteLength)return this.eof_flag_=!0,y.byteLength;if((y[k+0]<<8|y[k+1])>>>4==4095)return k;k++}},R.prototype.readNextAACFrame=function(){for(var A=this.data_,k=null;k==null&&!this.eof_flag_;){var y=this.current_syncword_offset_,O=(8&A[y+1])>>>3,z=(6&A[y+1])>>>1,B=1&A[y+1],q=(192&A[y+2])>>>6,Y=(60&A[y+2])>>>2,X=(1&A[y+2])<<2|(192&A[y+3])>>>6,ee=(3&A[y+3])<<11|A[y+4]<<3|(224&A[y+5])>>>5;if(A[y+6],y+ee>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var ie=B===1?7:9,ce=ee-ie;y+=ie;var ue=this.findNextSyncwordOffset(y+ce);if(this.current_syncword_offset_=ue,(O===0||O===1)&&z===0){var xe=A.subarray(y,y+ce);(k=new be).audio_object_type=q+1,k.sampling_freq_index=Y,k.sampling_frequency=Ue[Y],k.channel_config=X,k.data=xe}}return k},R.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},R.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},R}(),He=function(){function R(A){this.TAG="AACLOASParser",this.data_=A,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return R.prototype.findNextSyncwordOffset=function(A){for(var k=A,y=this.data_;;){if(k+1>=y.byteLength)return this.eof_flag_=!0,y.byteLength;if((y[k+0]<<3|y[k+1]>>>5)==695)return k;k++}},R.prototype.getLATMValue=function(A){for(var k=A.readBits(2),y=0,O=0;O<=k;O++)y<<=8,y|=A.readByte();return y},R.prototype.readNextAACFrame=function(A){for(var k=this.data_,y=null;y==null&&!this.eof_flag_;){var O=this.current_syncword_offset_,z=(31&k[O+1])<<8|k[O+2];if(O+3+z>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var B=new b(k.subarray(O+3,O+3+z)),q=null;if(B.readBool()){if(A==null){s.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(O+3+z),B.destroy();continue}q=A}else{var Y=B.readBool();if(Y&&B.readBool()){s.a.e(this.TAG,"audioMuxVersionA is Not Supported"),B.destroy();break}if(Y&&this.getLATMValue(B),!B.readBool()){s.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),B.destroy();break}if(B.readBits(6)!==0){s.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),B.destroy();break}if(B.readBits(4)!==0){s.a.e(this.TAG,"more than 2 numProgram Not Supported"),B.destroy();break}if(B.readBits(3)!==0){s.a.e(this.TAG,"more than 2 numLayer Not Supported"),B.destroy();break}var X=Y?this.getLATMValue(B):0,ee=B.readBits(5);X-=5;var ie=B.readBits(4);X-=4;var ce=B.readBits(4);X-=4,B.readBits(3),(X-=3)>0&&B.readBits(X);var ue=B.readBits(3);if(ue!==0){s.a.e(this.TAG,"frameLengthType = ".concat(ue,". Only frameLengthType = 0 Supported")),B.destroy();break}B.readByte();var xe=B.readBool();if(xe)if(Y)this.getLATMValue(B);else for(;;){var Ne=B.readBool();if(B.readByte(),!Ne)break}B.readBool()&&B.readByte(),(q=new Le).audio_object_type=ee,q.sampling_freq_index=ie,q.sampling_frequency=Ue[q.sampling_freq_index],q.channel_config=ce,q.other_data_present=xe}for(var Ee=0;;){var $e=B.readByte();if(Ee+=$e,$e!==255)break}for(var Ge=new Uint8Array(Ee),Re=0;Re<Ee;Re++)Ge[Re]=B.readByte();(y=new Le).audio_object_type=q.audio_object_type,y.sampling_freq_index=q.sampling_freq_index,y.sampling_frequency=Ue[q.sampling_freq_index],y.channel_config=q.channel_config,y.other_data_present=q.other_data_present,y.data=Ge,this.current_syncword_offset_=this.findNextSyncwordOffset(O+3+z)}return y},R.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},R.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},R}(),st=function(R){var A=null,k=R.audio_object_type,y=R.audio_object_type,O=R.sampling_freq_index,z=R.channel_config,B=0,q=navigator.userAgent.toLowerCase();q.indexOf("firefox")!==-1?O>=6?(y=5,A=new Array(4),B=O-3):(y=2,A=new Array(2),B=O):q.indexOf("android")!==-1?(y=2,A=new Array(2),B=O):(y=5,B=O,A=new Array(4),O>=6?B=O-3:z===1&&(y=2,A=new Array(2),B=O)),A[0]=y<<3,A[0]|=(15&O)>>>1,A[1]=(15&O)<<7,A[1]|=(15&z)<<3,y===5&&(A[1]|=(15&B)>>>1,A[2]=(1&B)<<7,A[2]|=8,A[3]=0),this.config=A,this.sampling_rate=Ue[O],this.channel_count=z,this.codec_mimetype="mp4a.40."+y,this.original_codec_mimetype="mp4a.40."+k},Rt=function(){},Et=function(){};(function(R){R[R.kSpliceNull=0]="kSpliceNull",R[R.kSpliceSchedule=4]="kSpliceSchedule",R[R.kSpliceInsert=5]="kSpliceInsert",R[R.kTimeSignal=6]="kTimeSignal",R[R.kBandwidthReservation=7]="kBandwidthReservation",R[R.kPrivateCommand=255]="kPrivateCommand"})(Pe||(Pe={}));var Ot,Kt=function(R){var A=R.readBool();return A?(R.readBits(6),{time_specified_flag:A,pts_time:4*R.readBits(31)+R.readBits(2)}):(R.readBits(7),{time_specified_flag:A})},bt=function(R){var A=R.readBool();return R.readBits(6),{auto_return:A,duration:4*R.readBits(31)+R.readBits(2)}},rt=function(R,A){var k=A.readBits(8);return R?{component_tag:k}:{component_tag:k,splice_time:Kt(A)}},We=function(R){return{component_tag:R.readBits(8),utc_splice_time:R.readBits(32)}},nn=function(R){var A=R.readBits(32),k=R.readBool();R.readBits(7);var y={splice_event_id:A,splice_event_cancel_indicator:k};if(k)return y;if(y.out_of_network_indicator=R.readBool(),y.program_splice_flag=R.readBool(),y.duration_flag=R.readBool(),R.readBits(5),y.program_splice_flag)y.utc_splice_time=R.readBits(32);else{y.component_count=R.readBits(8),y.components=[];for(var O=0;O<y.component_count;O++)y.components.push(We(R))}return y.duration_flag&&(y.break_duration=bt(R)),y.unique_program_id=R.readBits(16),y.avail_num=R.readBits(8),y.avails_expected=R.readBits(8),y},rr=function(R,A,k,y){return{descriptor_tag:R,descriptor_length:A,identifier:k,provider_avail_id:y.readBits(32)}},Lt=function(R,A,k,y){var O=y.readBits(8),z=y.readBits(3);y.readBits(5);for(var B="",q=0;q<z;q++)B+=String.fromCharCode(y.readBits(8));return{descriptor_tag:R,descriptor_length:A,identifier:k,preroll:O,dtmf_count:z,DTMF_char:B}},en=function(R){var A=R.readBits(8);return R.readBits(7),{component_tag:A,pts_offset:4*R.readBits(31)+R.readBits(2)}},Be=function(R,A,k,y){var O=y.readBits(32),z=y.readBool();y.readBits(7);var B={descriptor_tag:R,descriptor_length:A,identifier:k,segmentation_event_id:O,segmentation_event_cancel_indicator:z};if(z)return B;if(B.program_segmentation_flag=y.readBool(),B.segmentation_duration_flag=y.readBool(),B.delivery_not_restricted_flag=y.readBool(),B.delivery_not_restricted_flag?y.readBits(5):(B.web_delivery_allowed_flag=y.readBool(),B.no_regional_blackout_flag=y.readBool(),B.archive_allowed_flag=y.readBool(),B.device_restrictions=y.readBits(2)),!B.program_segmentation_flag){B.component_count=y.readBits(8),B.components=[];for(var q=0;q<B.component_count;q++)B.components.push(en(y))}B.segmentation_duration_flag&&(B.segmentation_duration=y.readBits(40)),B.segmentation_upid_type=y.readBits(8),B.segmentation_upid_length=y.readBits(8);var Y=new Uint8Array(B.segmentation_upid_length);for(q=0;q<B.segmentation_upid_length;q++)Y[q]=y.readBits(8);return B.segmentation_upid=Y.buffer,B.segmentation_type_id=y.readBits(8),B.segment_num=y.readBits(8),B.segments_expected=y.readBits(8),B.segmentation_type_id!==52&&B.segmentation_type_id!==54&&B.segmentation_type_id!==56&&B.segmentation_type_id!==58||(B.sub_segment_num=y.readBits(8),B.sub_segments_expected=y.readBits(8)),B},xn=function(R,A,k,y){return{descriptor_tag:R,descriptor_length:A,identifier:k,TAI_seconds:y.readBits(48),TAI_ns:y.readBits(32),UTC_offset:y.readBits(16)}},Er=function(R){return{component_tag:R.readBits(8),ISO_code:String.fromCharCode(R.readBits(8),R.readBits(8),R.readBits(8)),Bit_Stream_Mode:R.readBits(3),Num_Channels:R.readBits(4),Full_Srvc_Audio:R.readBool()}},Wn=function(R,A,k,y){for(var O=y.readBits(4),z=[],B=0;B<O;B++)z.push(Er(y));return{descriptor_tag:R,descriptor_length:A,identifier:k,audio_count:O,components:z}},qp=function(R){var A=new b(R),k=A.readBits(8),y=A.readBool(),O=A.readBool();A.readBits(2);var z=A.readBits(12),B=A.readBits(8),q=A.readBool(),Y=A.readBits(6),X=4*A.readBits(31)+A.readBits(2),ee=A.readBits(8),ie=A.readBits(12),ce=A.readBits(12),ue=A.readBits(8),xe=null;ue===Pe.kSpliceNull?xe={}:ue===Pe.kSpliceSchedule?xe=function(mt){for(var Nt=mt.readBits(8),on=[],dt=0;dt<Nt;dt++)on.push(nn(mt));return{splice_count:Nt,events:on}}(A):ue===Pe.kSpliceInsert?xe=function(mt){var Nt=mt.readBits(32),on=mt.readBool();mt.readBits(7);var dt={splice_event_id:Nt,splice_event_cancel_indicator:on};if(on)return dt;if(dt.out_of_network_indicator=mt.readBool(),dt.program_splice_flag=mt.readBool(),dt.duration_flag=mt.readBool(),dt.splice_immediate_flag=mt.readBool(),mt.readBits(4),dt.program_splice_flag&&!dt.splice_immediate_flag&&(dt.splice_time=Kt(mt)),!dt.program_splice_flag){dt.component_count=mt.readBits(8),dt.components=[];for(var Dt=0;Dt<dt.component_count;Dt++)dt.components.push(rt(dt.splice_immediate_flag,mt))}return dt.duration_flag&&(dt.break_duration=bt(mt)),dt.unique_program_id=mt.readBits(16),dt.avail_num=mt.readBits(8),dt.avails_expected=mt.readBits(8),dt}(A):ue===Pe.kTimeSignal?xe={splice_time:Kt(A)}:ue===Pe.kBandwidthReservation?xe={}:ue===Pe.kPrivateCommand?xe=function(mt,Nt){for(var on=String.fromCharCode(Nt.readBits(8),Nt.readBits(8),Nt.readBits(8),Nt.readBits(8)),dt=new Uint8Array(mt-4),Dt=0;Dt<mt-4;Dt++)dt[Dt]=Nt.readBits(8);return{identifier:on,private_data:dt.buffer}}(ce,A):A.readBits(8*ce);for(var Ne=[],Ee=A.readBits(16),$e=0;$e<Ee;){var Ge=A.readBits(8),Re=A.readBits(8),at=String.fromCharCode(A.readBits(8),A.readBits(8),A.readBits(8),A.readBits(8));Ge===0?Ne.push(rr(Ge,Re,at,A)):Ge===1?Ne.push(Lt(Ge,Re,at,A)):Ge===2?Ne.push(Be(Ge,Re,at,A)):Ge===3?Ne.push(xn(Ge,Re,at,A)):Ge===4?Ne.push(Wn(Ge,Re,at,A)):A.readBits(8*(Re-4)),$e+=2+Re}var _t={table_id:k,section_syntax_indicator:y,private_indicator:O,section_length:z,protocol_version:B,encrypted_packet:q,encryption_algorithm:Y,pts_adjustment:X,cw_index:ee,tier:ie,splice_command_length:ce,splice_command_type:ue,splice_command:xe,descriptor_loop_length:Ee,splice_descriptors:Ne,E_CRC32:q?A.readBits(32):void 0,CRC32:A.readBits(32)};if(ue===Pe.kSpliceInsert){var je=xe;if(je.splice_event_cancel_indicator)return{splice_command_type:ue,detail:_t,data:R};if(je.program_splice_flag&&!je.splice_immediate_flag){var tt=je.duration_flag?je.break_duration.auto_return:void 0,Qe=je.duration_flag?je.break_duration.duration/90:void 0;return je.splice_time.time_specified_flag?{splice_command_type:ue,pts:(X+je.splice_time.pts_time)%Math.pow(2,33),auto_return:tt,duraiton:Qe,detail:_t,data:R}:{splice_command_type:ue,auto_return:tt,duraiton:Qe,detail:_t,data:R}}return{splice_command_type:ue,auto_return:tt=je.duration_flag?je.break_duration.auto_return:void 0,duraiton:Qe=je.duration_flag?je.break_duration.duration/90:void 0,detail:_t,data:R}}if(ue===Pe.kTimeSignal){var it=xe;return it.splice_time.time_specified_flag?{splice_command_type:ue,pts:(X+it.splice_time.pts_time)%Math.pow(2,33),detail:_t,data:R}:{splice_command_type:ue,detail:_t,data:R}}return{splice_command_type:ue,detail:_t,data:R}};(function(R){R[R.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",R[R.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",R[R.kSliceCRA_NUT=21]="kSliceCRA_NUT",R[R.kSliceVPS=32]="kSliceVPS",R[R.kSliceSPS=33]="kSliceSPS",R[R.kSlicePPS=34]="kSlicePPS",R[R.kSliceAUD=35]="kSliceAUD"})(Ot||(Ot={}));var ke=function(){},ot=function(R){var A=R.data.byteLength;this.type=R.type,this.data=new Uint8Array(4+A),new DataView(this.data.buffer).setUint32(0,A),this.data.set(R.data,4)},yt=function(){function R(A){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=A,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return R.prototype.findNextStartCodeOffset=function(A){for(var k=A,y=this.data_;;){if(k+3>=y.byteLength)return this.eof_flag_=!0,y.byteLength;var O=y[k+0]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3],z=y[k+0]<<16|y[k+1]<<8|y[k+2];if(O===1||z===1)return k;k++}},R.prototype.readNextNaluPayload=function(){for(var A=this.data_,k=null;k==null&&!this.eof_flag_;){var y=this.current_startcode_offset_,O=A[y+=(A[y]<<24|A[y+1]<<16|A[y+2]<<8|A[y+3])==1?4:3]>>1&63,z=(128&A[y])>>>7,B=this.findNextStartCodeOffset(y);if(this.current_startcode_offset_=B,z===0){var q=A.subarray(y,B);(k=new ke).type=O,k.data=q}}return k},R}(),rn=function(){function R(A,k,y,O){var z=23+(5+A.byteLength)+(5+k.byteLength)+(5+y.byteLength),B=this.data=new Uint8Array(z);B[0]=1,B[1]=(3&O.general_profile_space)<<6|(O.general_tier_flag?1:0)<<5|31&O.general_profile_idc,B[2]=O.general_profile_compatibility_flags_1,B[3]=O.general_profile_compatibility_flags_2,B[4]=O.general_profile_compatibility_flags_3,B[5]=O.general_profile_compatibility_flags_4,B[6]=O.general_constraint_indicator_flags_1,B[7]=O.general_constraint_indicator_flags_2,B[8]=O.general_constraint_indicator_flags_3,B[9]=O.general_constraint_indicator_flags_4,B[10]=O.general_constraint_indicator_flags_5,B[11]=O.general_constraint_indicator_flags_6,B[12]=O.general_level_idc,B[13]=240|(3840&O.min_spatial_segmentation_idc)>>8,B[14]=255&O.min_spatial_segmentation_idc,B[15]=252|3&O.parallelismType,B[16]=252|3&O.chroma_format_idc,B[17]=248|7&O.bit_depth_luma_minus8,B[18]=248|7&O.bit_depth_chroma_minus8,B[19]=0,B[20]=0,B[21]=(3&O.constant_frame_rate)<<6|(7&O.num_temporal_layers)<<3|(O.temporal_id_nested?1:0)<<2|3,B[22]=3,B[23]=128|Ot.kSliceVPS,B[24]=0,B[25]=1,B[26]=(65280&A.byteLength)>>8,B[27]=(255&A.byteLength)>>0,B.set(A,28),B[23+(5+A.byteLength)+0]=128|Ot.kSliceSPS,B[23+(5+A.byteLength)+1]=0,B[23+(5+A.byteLength)+2]=1,B[23+(5+A.byteLength)+3]=(65280&k.byteLength)>>8,B[23+(5+A.byteLength)+4]=(255&k.byteLength)>>0,B.set(k,23+(5+A.byteLength)+5),B[23+(5+A.byteLength+5+k.byteLength)+0]=128|Ot.kSlicePPS,B[23+(5+A.byteLength+5+k.byteLength)+1]=0,B[23+(5+A.byteLength+5+k.byteLength)+2]=1,B[23+(5+A.byteLength+5+k.byteLength)+3]=(65280&y.byteLength)>>8,B[23+(5+A.byteLength+5+k.byteLength)+4]=(255&y.byteLength)>>0,B.set(y,23+(5+A.byteLength+5+k.byteLength)+5)}return R.prototype.getData=function(){return this.data},R}(),Vt=function(){},Ar=function(){},Lo=function(){},mr=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],va=function(){function R(A){this.TAG="AC3Parser",this.data_=A,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return R.prototype.findNextSyncwordOffset=function(A){for(var k=A,y=this.data_;;){if(k+7>=y.byteLength)return this.eof_flag_=!0,y.byteLength;if((y[k+0]<<8|y[k+1]<<0)==2935)return k;k++}},R.prototype.readNextAC3Frame=function(){for(var A=this.data_,k=null;k==null&&!this.eof_flag_;){var y=this.current_syncword_offset_,O=A[y+4]>>6,z=[48e3,44200,33e3][O],B=63&A[y+4],q=2*mr[O][B];if(isNaN(q)||y+q>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var Y=this.findNextSyncwordOffset(y+q);this.current_syncword_offset_=Y;var X=A[y+5]>>3,ee=7&A[y+5],ie=A[y+6]>>5,ce=0;1&ie&&ie!==1&&(ce+=2),4&ie&&(ce+=2),ie===2&&(ce+=2);var ue=(A[y+6]<<8|A[y+7]<<0)>>12-ce&1,xe=[2,1,2,3,3,4,4,5][ie]+ue;(k=new Lo).sampling_frequency=z,k.channel_count=xe,k.channel_mode=ie,k.bit_stream_identification=X,k.low_frequency_effects_channel_on=ue,k.bit_stream_mode=ee,k.frame_size_code=B,k.data=A.subarray(y,y+q)}return k},R.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},R.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},R}(),Za=function(R){var A;A=[R.sampling_rate_code<<6|R.bit_stream_identification<<1|R.bit_stream_mode>>2,(3&R.bit_stream_mode)<<6|R.channel_mode<<3|R.low_frequency_effects_channel_on<<2|R.frame_size_code>>4,R.frame_size_code<<4&224],this.config=A,this.sampling_rate=R.sampling_frequency,this.bit_stream_identification=R.bit_stream_identification,this.bit_stream_mode=R.bit_stream_mode,this.low_frequency_effects_channel_on=R.low_frequency_effects_channel_on,this.channel_count=R.channel_count,this.channel_mode=R.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},gr=function(){},Gi=function(){function R(A){this.TAG="EAC3Parser",this.data_=A,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&s.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return R.prototype.findNextSyncwordOffset=function(A){for(var k=A,y=this.data_;;){if(k+7>=y.byteLength)return this.eof_flag_=!0,y.byteLength;if((y[k+0]<<8|y[k+1]<<0)==2935)return k;k++}},R.prototype.readNextEAC3Frame=function(){for(var A=this.data_,k=null;k==null&&!this.eof_flag_;){var y=this.current_syncword_offset_,O=new b(A.subarray(y+2)),z=(O.readBits(2),O.readBits(3),O.readBits(11)+1<<1),B=O.readBits(2),q=null,Y=null;B===3?(q=[24e3,22060,16e3][B=O.readBits(2)],Y=3):(q=[48e3,44100,32e3][B],Y=O.readBits(2));var X=O.readBits(3),ee=O.readBits(1),ie=O.readBits(5);if(y+z>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var ce=this.findNextSyncwordOffset(y+z);this.current_syncword_offset_=ce;var ue=[2,1,2,3,3,4,4,5][X]+ee;O.destroy(),(k=new gr).sampling_frequency=q,k.channel_count=ue,k.channel_mode=X,k.bit_stream_identification=ie,k.low_frequency_effects_channel_on=ee,k.frame_size=z,k.num_blks=[1,2,3,6][Y],k.data=A.subarray(y,y+z)}return k},R.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},R.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},R}(),bi=function(R){var A,k=Math.floor(R.frame_size*R.sampling_frequency/(16*R.num_blks));A=[255&k,248&k,R.sampling_rate_code<<6|R.bit_stream_identification<<1|0,0|R.channel_mode<<1|R.low_frequency_effects_channel_on<<0,0],this.config=A,this.sampling_rate=R.sampling_frequency,this.bit_stream_identification=R.bit_stream_identification,this.num_blks=R.num_blks,this.low_frequency_effects_channel_on=R.low_frequency_effects_channel_on,this.channel_count=R.channel_count,this.channel_mode=R.channel_mode,this.codec_mimetype="ec-3",this.original_codec_mimetype="ec-3"},Cr=function(){},l1=function(){var R=function(A,k){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,O){y.__proto__=O}||function(y,O){for(var z in O)Object.prototype.hasOwnProperty.call(O,z)&&(y[z]=O[z])})(A,k)};return function(A,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function y(){this.constructor=A}R(A,k),A.prototype=k===null?Object.create(k):(y.prototype=k.prototype,new y)}}(),Wi=function(){return(Wi=Object.assign||function(R){for(var A,k=1,y=arguments.length;k<y;k++)for(var O in A=arguments[k])Object.prototype.hasOwnProperty.call(A,O)&&(R[O]=A[O]);return R}).apply(this,arguments)},nl=function(R){function A(k,y){var O=R.call(this)||this;return O.TAG="TSDemuxer",O.first_parse_=!0,O.media_info_=new c.a,O.timescale_=90,O.duration_=0,O.current_pmt_pid_=-1,O.program_pmt_map_={},O.pes_slice_queues_={},O.section_slice_queues_={},O.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},O.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},O.last_pcr_base_=NaN,O.timestamp_offset_=0,O.audio_last_sample_pts_=void 0,O.aac_last_incomplete_data_=null,O.has_video_=!1,O.has_audio_=!1,O.video_init_segment_dispatched_=!1,O.audio_init_segment_dispatched_=!1,O.video_metadata_changed_=!1,O.audio_metadata_changed_=!1,O.loas_previous_frame=null,O.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},O.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},O.ts_packet_size_=k.ts_packet_size,O.sync_offset_=k.sync_offset,O.config_=y,O}return l1(A,R),A.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,R.prototype.destroy.call(this)},A.probe=function(k){var y=new Uint8Array(k),O=-1,z=188;if(y.byteLength<=3*z)return{needMoreData:!0};for(;O===-1;){for(var B=Math.min(1e3,y.byteLength-3*z),q=0;q<B;){if(y[q]===71&&y[q+z]===71&&y[q+2*z]===71){O=q;break}q++}if(O===-1)if(z===188)z=192;else{if(z!==192)break;z=204}}return O===-1?{match:!1}:(z===192&&O>=4?(s.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),O-=4):z===204&&s.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:z,sync_offset:O})},A.prototype.bindDataSource=function(k){return k.onDataArrival=this.parseChunks.bind(this),this},A.prototype.resetMediaInfo=function(){this.media_info_=new c.a},A.prototype.parseChunks=function(k,y){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new p.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var O=0;for(this.first_parse_&&(this.first_parse_=!1,O=this.sync_offset_);O+this.ts_packet_size_<=k.byteLength;){var z=y+O;this.ts_packet_size_===192&&(O+=4);var B=new Uint8Array(k,O,188),q=B[0];if(q!==71){s.a.e(this.TAG,"sync_byte = ".concat(q,", not 0x47"));break}var Y=(64&B[1])>>>6,X=(B[1],(31&B[1])<<8|B[2]),ee=(48&B[3])>>>4,ie=15&B[3],ce=!(!this.pmt_||this.pmt_.pcr_pid!==X),ue={},xe=4;if(ee==2||ee==3){var Ne=B[4];if(Ne>0&&(ce||ee==3)&&(ue.discontinuity_indicator=(128&B[5])>>>7,ue.random_access_indicator=(64&B[5])>>>6,ue.elementary_stream_priority_indicator=(32&B[5])>>>5,(16&B[5])>>>4)){var Ee=300*this.getPcrBase(B)+((1&B[10])<<8|B[11]);this.last_pcr_=Ee}if(ee==2||5+Ne===188){O+=188,this.ts_packet_size_===204&&(O+=16);continue}xe=5+Ne}if(ee==1||ee==3){if(X===0||X===this.current_pmt_pid_||this.pmt_!=null&&this.pmt_.pid_stream_type[X]===T.kSCTE35){var $e=188-xe;this.handleSectionSlice(k,O+xe,$e,{pid:X,file_position:z,payload_unit_start_indicator:Y,continuity_conunter:ie,random_access_indicator:ue.random_access_indicator})}else if(this.pmt_!=null&&this.pmt_.pid_stream_type[X]!=null){$e=188-xe;var Ge=this.pmt_.pid_stream_type[X];X!==this.pmt_.common_pids.h264&&X!==this.pmt_.common_pids.h265&&X!==this.pmt_.common_pids.adts_aac&&X!==this.pmt_.common_pids.loas_aac&&X!==this.pmt_.common_pids.ac3&&X!==this.pmt_.common_pids.eac3&&X!==this.pmt_.common_pids.opus&&X!==this.pmt_.common_pids.mp3&&this.pmt_.pes_private_data_pids[X]!==!0&&this.pmt_.timed_id3_pids[X]!==!0&&this.pmt_.synchronous_klv_pids[X]!==!0&&this.pmt_.asynchronous_klv_pids[X]!==!0||this.handlePESSlice(k,O+xe,$e,{pid:X,stream_type:Ge,file_position:z,payload_unit_start_indicator:Y,continuity_conunter:ie,random_access_indicator:ue.random_access_indicator})}}O+=188,this.ts_packet_size_===204&&(O+=16)}return this.dispatchAudioVideoMediaSegment(),O},A.prototype.handleSectionSlice=function(k,y,O,z){var B=new Uint8Array(k,y,O),q=this.section_slice_queues_[z.pid];if(z.payload_unit_start_indicator){var Y=B[0];if(q!=null&&q.total_length!==0){var X=new Uint8Array(k,y+1,Math.min(O,Y));q.slices.push(X),q.total_length+=X.byteLength,q.total_length===q.expected_length?this.emitSectionSlices(q,z):this.clearSlices(q,z)}for(var ee=1+Y;ee<B.byteLength&&B[ee+0]!==255;){var ie=(15&B[ee+1])<<8|B[ee+2];this.section_slice_queues_[z.pid]=new fe,(q=this.section_slice_queues_[z.pid]).expected_length=ie+3,q.file_position=z.file_position,q.random_access_indicator=z.random_access_indicator,X=new Uint8Array(k,y+ee,Math.min(O-ee,q.expected_length-q.total_length)),q.slices.push(X),q.total_length+=X.byteLength,q.total_length===q.expected_length?this.emitSectionSlices(q,z):q.total_length>=q.expected_length&&this.clearSlices(q,z),ee+=X.byteLength}}else q!=null&&q.total_length!==0&&(X=new Uint8Array(k,y,Math.min(O,q.expected_length-q.total_length)),q.slices.push(X),q.total_length+=X.byteLength,q.total_length===q.expected_length?this.emitSectionSlices(q,z):q.total_length>=q.expected_length&&this.clearSlices(q,z))},A.prototype.handlePESSlice=function(k,y,O,z){var B=new Uint8Array(k,y,O),q=B[0]<<16|B[1]<<8|B[2],Y=(B[3],B[4]<<8|B[5]);if(z.payload_unit_start_indicator){if(q!==1)return void s.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value ".concat(q));var X=this.pes_slice_queues_[z.pid];X&&(X.expected_length===0||X.expected_length===X.total_length?this.emitPESSlices(X,z):this.clearSlices(X,z)),this.pes_slice_queues_[z.pid]=new fe,this.pes_slice_queues_[z.pid].file_position=z.file_position,this.pes_slice_queues_[z.pid].random_access_indicator=z.random_access_indicator}if(this.pes_slice_queues_[z.pid]!=null){var ee=this.pes_slice_queues_[z.pid];ee.slices.push(B),z.payload_unit_start_indicator&&(ee.expected_length=Y===0?0:Y+6),ee.total_length+=B.byteLength,ee.expected_length>0&&ee.expected_length===ee.total_length?this.emitPESSlices(ee,z):ee.expected_length>0&&ee.expected_length<ee.total_length&&this.clearSlices(ee,z)}},A.prototype.emitSectionSlices=function(k,y){for(var O=new Uint8Array(k.total_length),z=0,B=0;z<k.slices.length;z++){var q=k.slices[z];O.set(q,B),B+=q.byteLength}k.slices=[],k.expected_length=-1,k.total_length=0;var Y=new he;Y.pid=y.pid,Y.data=O,Y.file_position=k.file_position,Y.random_access_indicator=k.random_access_indicator,this.parseSection(Y)},A.prototype.emitPESSlices=function(k,y){for(var O=new Uint8Array(k.total_length),z=0,B=0;z<k.slices.length;z++){var q=k.slices[z];O.set(q,B),B+=q.byteLength}k.slices=[],k.expected_length=-1,k.total_length=0;var Y=new ae;Y.pid=y.pid,Y.data=O,Y.stream_type=y.stream_type,Y.file_position=k.file_position,Y.random_access_indicator=k.random_access_indicator,this.parsePES(Y)},A.prototype.clearSlices=function(k,y){k.slices=[],k.expected_length=-1,k.total_length=0},A.prototype.parseSection=function(k){var y=k.data,O=k.pid;O===0?this.parsePAT(y):O===this.current_pmt_pid_?this.parsePMT(y):this.pmt_!=null&&this.pmt_.scte_35_pids[O]&&this.parseSCTE35(y)},A.prototype.parsePES=function(k){var y=k.data,O=y[0]<<16|y[1]<<8|y[2],z=y[3],B=y[4]<<8|y[5];if(O===1)if(z!==188&&z!==190&&z!==191&&z!==240&&z!==241&&z!==255&&z!==242&&z!==248){y[6];var q=(192&y[7])>>>6,Y=y[8],X=void 0,ee=void 0;q!==2&&q!==3||(X=this.getTimestamp(y,9),ee=q===3?this.getTimestamp(y,14):X);var ie=9+Y,ce=void 0;if(B!==0){if(B<3+Y)return void s.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");ce=B-3-Y}else ce=y.byteLength-ie;var ue=y.subarray(ie,ie+ce);switch(k.stream_type){case T.kMPEG1Audio:case T.kMPEG2Audio:this.parseMP3Payload(ue,X);break;case T.kPESPrivateData:this.pmt_.common_pids.opus===k.pid?this.parseOpusPayload(ue,X):this.pmt_.common_pids.ac3===k.pid?this.parseAC3Payload(ue,X):this.pmt_.common_pids.eac3===k.pid?this.parseEAC3Payload(ue,X):this.pmt_.asynchronous_klv_pids[k.pid]?this.parseAsynchronousKLVMetadataPayload(ue,k.pid,z):this.pmt_.smpte2038_pids[k.pid]?this.parseSMPTE2038MetadataPayload(ue,X,ee,k.pid,z):this.parsePESPrivateDataPayload(ue,X,ee,k.pid,z);break;case T.kADTSAAC:this.parseADTSAACPayload(ue,X);break;case T.kLOASAAC:this.parseLOASAACPayload(ue,X);break;case T.kAC3:this.parseAC3Payload(ue,X);break;case T.kEAC3:this.parseEAC3Payload(ue,X);break;case T.kMetadata:this.pmt_.timed_id3_pids[k.pid]?this.parseTimedID3MetadataPayload(ue,X,ee,k.pid,z):this.pmt_.synchronous_klv_pids[k.pid]&&this.parseSynchronousKLVMetadataPayload(ue,X,ee,k.pid,z);break;case T.kH264:this.parseH264Payload(ue,X,ee,k.file_position,k.random_access_indicator);break;case T.kH265:this.parseH265Payload(ue,X,ee,k.file_position,k.random_access_indicator)}}else(z===188||z===191||z===240||z===241||z===255||z===242||z===248)&&k.stream_type===T.kPESPrivateData&&(ie=6,ce=void 0,ce=B!==0?B:y.byteLength-ie,ue=y.subarray(ie,ie+ce),this.parsePESPrivateDataPayload(ue,void 0,void 0,k.pid,z));else s.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value ".concat(O))},A.prototype.parsePAT=function(k){var y=k[0];if(y===0){var O=(15&k[1])<<8|k[2],z=(k[3],k[4],(62&k[5])>>>1),B=1&k[5],q=k[6],Y=(k[7],null);if(B===1&&q===0)(Y=new W).version_number=z;else if((Y=this.pat_)==null)return;for(var X=O-5-4,ee=-1,ie=-1,ce=8;ce<8+X;ce+=4){var ue=k[ce]<<8|k[ce+1],xe=(31&k[ce+2])<<8|k[ce+3];ue===0?Y.network_pid=xe:(Y.program_pmt_pid[ue]=xe,ee===-1&&(ee=ue),ie===-1&&(ie=xe))}B===1&&q===0&&(this.pat_==null&&s.a.v(this.TAG,"Parsed first PAT: ".concat(JSON.stringify(Y))),this.pat_=Y,this.current_program_=ee,this.current_pmt_pid_=ie)}else s.a.e(this.TAG,"parsePAT: table_id ".concat(y," is not corresponded to PAT!"))},A.prototype.parsePMT=function(k){var y=k[0];if(y===2){var O=(15&k[1])<<8|k[2],z=k[3]<<8|k[4],B=(62&k[5])>>>1,q=1&k[5],Y=k[6],X=(k[7],null);if(q===1&&Y===0)(X=new ne).program_number=z,X.version_number=B,this.program_pmt_map_[z]=X;else if((X=this.program_pmt_map_[z])==null)return;X.pcr_pid=(31&k[8])<<8|k[9];for(var ee=(15&k[10])<<8|k[11],ie=12+ee,ce=O-9-ee-4,ue=ie;ue<ie+ce;){var xe=k[ue],Ne=(31&k[ue+1])<<8|k[ue+2],Ee=(15&k[ue+3])<<8|k[ue+4];X.pid_stream_type[Ne]=xe;var $e=X.common_pids.h264||X.common_pids.h265,Ge=X.common_pids.adts_aac||X.common_pids.loas_aac||X.common_pids.ac3||X.common_pids.eac3||X.common_pids.opus||X.common_pids.mp3;if(xe!==T.kH264||$e)if(xe!==T.kH265||$e)if(xe!==T.kADTSAAC||Ge)if(xe!==T.kLOASAAC||Ge)if(xe!==T.kAC3||Ge)if(xe!==T.kEAC3||Ge)if(xe!==T.kMPEG1Audio&&xe!==T.kMPEG2Audio||Ge)if(xe===T.kPESPrivateData){if(X.pes_private_data_pids[Ne]=!0,Ee>0){for(var Re=ue+5;Re<ue+5+Ee;){var at=k[Re+0],_t=k[Re+1];if(at===5){var je=String.fromCharCode.apply(String,Array.from(k.subarray(Re+2,Re+2+_t)));je==="VANC"?X.smpte2038_pids[Ne]=!0:je==="Opus"?X.common_pids.opus=Ne:je==="KLVA"&&(X.asynchronous_klv_pids[Ne]=!0)}else if(at===127&&Ne===X.common_pids.opus){var tt=null;if(k[Re+2]===128&&(tt=k[Re+3]),tt==null){s.a.e(this.TAG,"Not Supported Opus channel count.");continue}var Qe={codec:"opus",channel_count:15&tt?15&tt:2,channel_config_code:tt,sample_rate:48e3},it={codec:"opus",meta:Qe};this.audio_init_segment_dispatched_==0?(this.audio_metadata_=Qe,this.dispatchAudioInitSegment(it)):this.detectAudioMetadataChange(it)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(it))}Re+=2+_t}var mt=k.subarray(ue+5,ue+5+Ee);this.dispatchPESPrivateDataDescriptor(Ne,xe,mt)}}else if(xe===T.kMetadata){if(Ee>0)for(Re=ue+5;Re<ue+5+Ee;){at=k[Re+0];var Nt=k[Re+1];if(at===38){var on=k[Re+2]<<8|k[Re+3]<<0,dt=null;on===65535&&(dt=String.fromCharCode.apply(String,Array.from(k.subarray(Re+4,Re+4+4))));var Dt=null;if(k[Re+4+(on===65535?4:0)]===255){var Ht=4+(on===65535?4:0)+1;Dt=String.fromCharCode.apply(String,Array.from(k.subarray(Re+Ht,Re+Ht+4)))}dt==="ID3 "&&Dt==="ID3 "?X.timed_id3_pids[Ne]=!0:Dt==="KLVA"&&(X.synchronous_klv_pids[Ne]=!0)}Re+=2+Nt}}else xe===T.kSCTE35&&(X.scte_35_pids[Ne]=!0);else X.common_pids.mp3=Ne;else X.common_pids.eac3=Ne;else X.common_pids.ac3=Ne;else X.common_pids.loas_aac=Ne;else X.common_pids.adts_aac=Ne;else X.common_pids.h265=Ne;else X.common_pids.h264=Ne;ue+=5+Ee}z===this.current_program_&&(this.pmt_==null&&s.a.v(this.TAG,"Parsed first PMT: ".concat(JSON.stringify(X))),this.pmt_=X,(X.common_pids.h264||X.common_pids.h265)&&(this.has_video_=!0),(X.common_pids.adts_aac||X.common_pids.loas_aac||X.common_pids.ac3||X.common_pids.opus||X.common_pids.mp3)&&(this.has_audio_=!0))}else s.a.e(this.TAG,"parsePMT: table_id ".concat(y," is not corresponded to PMT!"))},A.prototype.parseSCTE35=function(k){var y=qp(k);if(y.pts!=null){var O=Math.floor(y.pts/this.timescale_);y.pts=O}else y.nearest_pts=this.getNearestTimestampMilliseconds();this.onSCTE35Metadata&&this.onSCTE35Metadata(y)},A.prototype.parseH264Payload=function(k,y,O,z,B){for(var q=new K(k),Y=null,X=[],ee=0,ie=!1;(Y=q.readNextNaluPayload())!=null;){var ce=new F(Y);if(ce.type===te.kSliceSPS){var ue=v.parseSPS(Y.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(ce,ue)===!0&&(s.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:ce,pps:void 0,details:ue}):(this.video_metadata_.sps=ce,this.video_metadata_.details=ue)}else ce.type===te.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=ce,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(ce.type===te.kSliceIDR||ce.type===te.kSliceNonIDR&&B===1)&&(ie=!0);this.video_init_segment_dispatched_&&(X.push(ce),ee+=ce.data.byteLength)}var xe=Math.floor(y/this.timescale_),Ne=Math.floor(O/this.timescale_);if(X.length){var Ee=this.video_track_,$e={units:X,length:ee,isKeyframe:ie,dts:Ne,pts:xe,cts:xe-Ne,file_position:z};Ee.samples.push($e),Ee.length+=ee}},A.prototype.parseH265Payload=function(k,y,O,z,B){for(var q=new yt(k),Y=null,X=[],ee=0,ie=!1;(Y=q.readNextNaluPayload())!=null;){var ce=new ot(Y);if(ce.type===Ot.kSliceVPS){if(!this.video_init_segment_dispatched_){var ue=w.parseVPS(Y.data);this.video_metadata_.vps=ce,this.video_metadata_.details=Wi(Wi({},this.video_metadata_.details),ue)}}else ce.type===Ot.kSliceSPS?(ue=w.parseSPS(Y.data),this.video_init_segment_dispatched_?this.detectVideoMetadataChange(ce,ue)===!0&&(s.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:ce,pps:void 0,details:ue}):(this.video_metadata_.sps=ce,this.video_metadata_.details=Wi(Wi({},this.video_metadata_.details),ue))):ce.type===Ot.kSlicePPS?(!this.video_init_segment_dispatched_||this.video_metadata_changed_)&&(ue=w.parsePPS(Y.data),this.video_metadata_.pps=ce,this.video_metadata_.details=Wi(Wi({},this.video_metadata_.details),ue),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):ce.type!==Ot.kSliceIDR_W_RADL&&ce.type!==Ot.kSliceIDR_N_LP&&ce.type!==Ot.kSliceCRA_NUT||(ie=!0);this.video_init_segment_dispatched_&&(X.push(ce),ee+=ce.data.byteLength)}var xe=Math.floor(y/this.timescale_),Ne=Math.floor(O/this.timescale_);if(X.length){var Ee=this.video_track_,$e={units:X,length:ee,isKeyframe:ie,dts:Ne,pts:xe,cts:xe-Ne,file_position:z};Ee.samples.push($e),Ee.length+=ee}},A.prototype.detectVideoMetadataChange=function(k,y){if(y.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return s.a.v(this.TAG,"Video: Codec mimeType changed from "+"".concat(this.video_metadata_.details.codec_mimetype," to ").concat(y.codec_mimetype)),!0;if(y.codec_size.width!==this.video_metadata_.details.codec_size.width||y.codec_size.height!==this.video_metadata_.details.codec_size.height){var O=this.video_metadata_.details.codec_size,z=y.codec_size;return s.a.v(this.TAG,"Video: Coded Resolution changed from "+"".concat(O.width,"x").concat(O.height," to ").concat(z.width,"x").concat(z.height)),!0}return y.present_size.width!==this.video_metadata_.details.present_size.width&&(s.a.v(this.TAG,"Video: Present resolution width changed from "+"".concat(this.video_metadata_.details.present_size.width," to ").concat(y.present_size.width)),!0)},A.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},A.prototype.dispatchVideoInitSegment=function(){var k=this.video_metadata_.details,y={type:"video"};y.id=this.video_track_.id,y.timescale=1e3,y.duration=this.duration_,y.codecWidth=k.codec_size.width,y.codecHeight=k.codec_size.height,y.presentWidth=k.present_size.width,y.presentHeight=k.present_size.height,y.profile=k.profile_string,y.level=k.level_string,y.bitDepth=k.bit_depth,y.chromaFormat=k.chroma_format,y.sarRatio=k.sar_ratio,y.frameRate=k.frame_rate;var O=y.frameRate.fps_den,z=y.frameRate.fps_num;if(y.refSampleDuration=O/z*1e3,y.codec=k.codec_mimetype,this.video_metadata_.vps){var B=this.video_metadata_.vps.data.subarray(4),q=this.video_metadata_.sps.data.subarray(4),Y=this.video_metadata_.pps.data.subarray(4),X=new rn(B,q,Y,k);y.hvcc=X.getData(),this.video_init_segment_dispatched_==0&&s.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: ".concat(y.codec))}else{q=this.video_metadata_.sps.data.subarray(4),Y=this.video_metadata_.pps.data.subarray(4);var ee=new ye(q,Y,k);y.avcc=ee.getData(),this.video_init_segment_dispatched_==0&&s.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: ".concat(y.codec))}this.onTrackMetadata("video",y),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var ie=this.media_info_;ie.hasVideo=!0,ie.width=y.codecWidth,ie.height=y.codecHeight,ie.fps=y.frameRate.fps,ie.profile=y.profile,ie.level=y.level,ie.refFrames=k.ref_frames,ie.chromaFormat=k.chroma_format_string,ie.sarNum=y.sarRatio.width,ie.sarDen=y.sarRatio.height,ie.videoCodec=y.codec,ie.hasAudio&&ie.audioCodec?ie.mimeType='video/mp2t; codecs="'.concat(ie.videoCodec,",").concat(ie.audioCodec,'"'):ie.mimeType='video/mp2t; codecs="'.concat(ie.videoCodec,'"'),ie.isComplete()&&this.onMediaInfo(ie)},A.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},A.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},A.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},A.prototype.parseADTSAACPayload=function(k,y){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var O=new Uint8Array(k.byteLength+this.aac_last_incomplete_data_.byteLength);O.set(this.aac_last_incomplete_data_,0),O.set(k,this.aac_last_incomplete_data_.byteLength),k=O}var z,B;if(y!=null&&(B=y/this.timescale_),this.audio_metadata_.codec==="aac"){if(y==null&&this.audio_last_sample_pts_!=null)z=1024/this.audio_metadata_.sampling_frequency*1e3,B=this.audio_last_sample_pts_+z;else if(y==null)return void s.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){z=1024/this.audio_metadata_.sampling_frequency*1e3;var q=this.audio_last_sample_pts_+z;Math.abs(q-B)>1&&(s.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(q,"ms, PES pts: ").concat(B,"ms")),B=q)}}for(var Y,X=new Ve(k),ee=null,ie=B;(ee=X.readNextAACFrame())!=null;){z=1024/ee.sampling_frequency*1e3;var ce={codec:"aac",data:ee};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:ee.audio_object_type,sampling_freq_index:ee.sampling_freq_index,sampling_frequency:ee.sampling_frequency,channel_config:ee.channel_config},this.dispatchAudioInitSegment(ce)):this.detectAudioMetadataChange(ce)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(ce)),Y=ie;var ue=Math.floor(ie),xe={unit:ee.data,length:ee.data.byteLength,pts:ue,dts:ue};this.audio_track_.samples.push(xe),this.audio_track_.length+=ee.data.byteLength,ie+=z}X.hasIncompleteData()&&(this.aac_last_incomplete_data_=X.getIncompleteData()),Y&&(this.audio_last_sample_pts_=Y)}},A.prototype.parseLOASAACPayload=function(k,y){var O;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var z=new Uint8Array(k.byteLength+this.aac_last_incomplete_data_.byteLength);z.set(this.aac_last_incomplete_data_,0),z.set(k,this.aac_last_incomplete_data_.byteLength),k=z}var B,q;if(y!=null&&(q=y/this.timescale_),this.audio_metadata_.codec==="aac"){if(y==null&&this.audio_last_sample_pts_!=null)B=1024/this.audio_metadata_.sampling_frequency*1e3,q=this.audio_last_sample_pts_+B;else if(y==null)return void s.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.audio_last_sample_pts_){B=1024/this.audio_metadata_.sampling_frequency*1e3;var Y=this.audio_last_sample_pts_+B;Math.abs(Y-q)>1&&(s.a.w(this.TAG,"AAC: Detected pts overlapped, "+"expected: ".concat(Y,"ms, PES pts: ").concat(q,"ms")),q=Y)}}for(var X,ee=new He(k),ie=null,ce=q;(ie=ee.readNextAACFrame((O=this.loas_previous_frame)!==null&&O!==void 0?O:void 0))!=null;){this.loas_previous_frame=ie,B=1024/ie.sampling_frequency*1e3;var ue={codec:"aac",data:ie};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"aac",audio_object_type:ie.audio_object_type,sampling_freq_index:ie.sampling_freq_index,sampling_frequency:ie.sampling_frequency,channel_config:ie.channel_config},this.dispatchAudioInitSegment(ue)):this.detectAudioMetadataChange(ue)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(ue)),X=ce;var xe=Math.floor(ce),Ne={unit:ie.data,length:ie.data.byteLength,pts:xe,dts:xe};this.audio_track_.samples.push(Ne),this.audio_track_.length+=ie.data.byteLength,ce+=B}ee.hasIncompleteData()&&(this.aac_last_incomplete_data_=ee.getIncompleteData()),X&&(this.audio_last_sample_pts_=X)}},A.prototype.parseAC3Payload=function(k,y){if(!this.has_video_||this.video_init_segment_dispatched_){var O,z;if(y!=null&&(z=y/this.timescale_),this.audio_metadata_.codec==="ac-3"){if(y==null&&this.audio_last_sample_pts_!=null)O=1536/this.audio_metadata_.sampling_frequency*1e3,z=this.audio_last_sample_pts_+O;else if(y==null)return void s.a.w(this.TAG,"AC3: Unknown pts")}for(var B,q=new va(k),Y=null,X=z;(Y=q.readNextAC3Frame())!=null;){O=1536/Y.sampling_frequency*1e3;var ee={codec:"ac-3",data:Y};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ac-3",sampling_frequency:Y.sampling_frequency,bit_stream_identification:Y.bit_stream_identification,bit_stream_mode:Y.bit_stream_mode,low_frequency_effects_channel_on:Y.low_frequency_effects_channel_on,channel_mode:Y.channel_mode},this.dispatchAudioInitSegment(ee)):this.detectAudioMetadataChange(ee)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(ee)),B=X;var ie=Math.floor(X),ce={unit:Y.data,length:Y.data.byteLength,pts:ie,dts:ie};this.audio_track_.samples.push(ce),this.audio_track_.length+=Y.data.byteLength,X+=O}B&&(this.audio_last_sample_pts_=B)}},A.prototype.parseEAC3Payload=function(k,y){if(!this.has_video_||this.video_init_segment_dispatched_){var O,z;if(y!=null&&(z=y/this.timescale_),this.audio_metadata_.codec==="ec-3"){if(y==null&&this.audio_last_sample_pts_!=null)O=256*this.audio_metadata_.num_blks/this.audio_metadata_.sampling_frequency*1e3,z=this.audio_last_sample_pts_+O;else if(y==null)return void s.a.w(this.TAG,"EAC3: Unknown pts")}for(var B,q=new Gi(k),Y=null,X=z;(Y=q.readNextEAC3Frame())!=null;){O=1536/Y.sampling_frequency*1e3;var ee={codec:"ec-3",data:Y};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"ec-3",sampling_frequency:Y.sampling_frequency,bit_stream_identification:Y.bit_stream_identification,low_frequency_effects_channel_on:Y.low_frequency_effects_channel_on,num_blks:Y.num_blks,channel_mode:Y.channel_mode},this.dispatchAudioInitSegment(ee)):this.detectAudioMetadataChange(ee)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(ee)),B=X;var ie=Math.floor(X),ce={unit:Y.data,length:Y.data.byteLength,pts:ie,dts:ie};this.audio_track_.samples.push(ce),this.audio_track_.length+=Y.data.byteLength,X+=O}B&&(this.audio_last_sample_pts_=B)}},A.prototype.parseOpusPayload=function(k,y){if(!this.has_video_||this.video_init_segment_dispatched_){var O,z;if(y!=null&&(z=y/this.timescale_),this.audio_metadata_.codec==="opus"){if(y==null&&this.audio_last_sample_pts_!=null)O=20,z=this.audio_last_sample_pts_+O;else if(y==null)return void s.a.w(this.TAG,"Opus: Unknown pts")}for(var B,q=z,Y=0;Y<k.length;){O=20;for(var X=(16&k[Y+1])!=0,ee=(8&k[Y+1])!=0,ie=Y+2,ce=0;k[ie]===255;)ce+=255,ie+=1;ce+=k[ie],ie+=1,ie+=X?2:0,ie+=ee?2:0,B=q;var ue=Math.floor(q),xe=k.slice(ie,ie+ce),Ne={unit:xe,length:xe.byteLength,pts:ue,dts:ue};this.audio_track_.samples.push(Ne),this.audio_track_.length+=xe.byteLength,q+=O,Y=ie+ce}B&&(this.audio_last_sample_pts_=B)}},A.prototype.parseMP3Payload=function(k,y){if(!this.has_video_||this.video_init_segment_dispatched_){var O=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],z=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],B=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],q=k[1]>>>3&3,Y=(6&k[1])>>1,X=(240&k[2])>>>4,ee=(12&k[2])>>>2,ie=(k[3]>>>6&3)!=3?2:1,ce=0,ue=34;switch(q){case 0:ce=[11025,12e3,8e3,0][ee];break;case 2:ce=[22050,24e3,16e3,0][ee];break;case 3:ce=[44100,48e3,32e3,0][ee]}switch(Y){case 1:ue=34,X<B.length&&B[X];break;case 2:ue=33,X<z.length&&z[X];break;case 3:ue=32,X<O.length&&O[X]}var xe=new Ar;xe.object_type=ue,xe.sample_rate=ce,xe.channel_count=ie,xe.data=k;var Ne={codec:"mp3",data:xe};this.audio_init_segment_dispatched_==0?(this.audio_metadata_={codec:"mp3",object_type:ue,sample_rate:ce,channel_count:ie},this.dispatchAudioInitSegment(Ne)):this.detectAudioMetadataChange(Ne)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(Ne));var Ee={unit:k,length:k.byteLength,pts:y/this.timescale_,dts:y/this.timescale_};this.audio_track_.samples.push(Ee),this.audio_track_.length+=k.byteLength}},A.prototype.detectAudioMetadataChange=function(k){if(k.codec!==this.audio_metadata_.codec)return s.a.v(this.TAG,"Audio: Audio Codecs changed from "+"".concat(this.audio_metadata_.codec," to ").concat(k.codec)),!0;if(k.codec==="aac"&&this.audio_metadata_.codec==="aac"){if((y=k.data).audio_object_type!==this.audio_metadata_.audio_object_type)return s.a.v(this.TAG,"AAC: AudioObjectType changed from "+"".concat(this.audio_metadata_.audio_object_type," to ").concat(y.audio_object_type)),!0;if(y.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return s.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sampling_freq_index," to ").concat(y.sampling_freq_index)),!0;if(y.channel_config!==this.audio_metadata_.channel_config)return s.a.v(this.TAG,"AAC: Channel configuration changed from "+"".concat(this.audio_metadata_.channel_config," to ").concat(y.channel_config)),!0}else if(k.codec==="ac-3"&&this.audio_metadata_.codec==="ac-3"){var y;if((y=k.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return s.a.v(this.TAG,"AC3: Sampling Frequency changed from "+"".concat(this.audio_metadata_.sampling_frequency," to ").concat(y.sampling_frequency)),!0;if(y.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return s.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+"".concat(this.audio_metadata_.bit_stream_identification," to ").concat(y.bit_stream_identification)),!0;if(y.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return s.a.v(this.TAG,"AC3: BitStream Mode changed from "+"".concat(this.audio_metadata_.bit_stream_mode," to ").concat(y.bit_stream_mode)),!0;if(y.channel_mode!==this.audio_metadata_.channel_mode)return s.a.v(this.TAG,"AC3: Channel Mode changed from "+"".concat(this.audio_metadata_.channel_mode," to ").concat(y.channel_mode)),!0;if(y.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return s.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+"".concat(this.audio_metadata_.low_frequency_effects_channel_on," to ").concat(y.low_frequency_effects_channel_on)),!0}else if(k.codec==="opus"&&this.audio_metadata_.codec==="opus"){if((O=k.meta).sample_rate!==this.audio_metadata_.sample_rate)return s.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(O.sample_rate)),!0;if(O.channel_count!==this.audio_metadata_.channel_count)return s.a.v(this.TAG,"Opus: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(O.channel_count)),!0}else if(k.codec==="mp3"&&this.audio_metadata_.codec==="mp3"){var O;if((O=k.data).object_type!==this.audio_metadata_.object_type)return s.a.v(this.TAG,"MP3: AudioObjectType changed from "+"".concat(this.audio_metadata_.object_type," to ").concat(O.object_type)),!0;if(O.sample_rate!==this.audio_metadata_.sample_rate)return s.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+"".concat(this.audio_metadata_.sample_rate," to ").concat(O.sample_rate)),!0;if(O.channel_count!==this.audio_metadata_.channel_count)return s.a.v(this.TAG,"MP3: Channel count changed from "+"".concat(this.audio_metadata_.channel_count," to ").concat(O.channel_count)),!0}return!1},A.prototype.dispatchAudioInitSegment=function(k){var y={type:"audio"};if(y.id=this.audio_track_.id,y.timescale=1e3,y.duration=this.duration_,this.audio_metadata_.codec==="aac"){var O=k.codec==="aac"?k.data:null,z=new st(O);y.audioSampleRate=z.sampling_rate,y.channelCount=z.channel_count,y.codec=z.codec_mimetype,y.originalCodec=z.original_codec_mimetype,y.config=z.config,y.refSampleDuration=1024/y.audioSampleRate*y.timescale}else if(this.audio_metadata_.codec==="ac-3"){var B=k.codec==="ac-3"?k.data:null,q=new Za(B);y.audioSampleRate=q.sampling_rate,y.channelCount=q.channel_count,y.codec=q.codec_mimetype,y.originalCodec=q.original_codec_mimetype,y.config=q.config,y.refSampleDuration=1536/y.audioSampleRate*y.timescale}else if(this.audio_metadata_.codec==="ec-3"){var Y=k.codec==="ec-3"?k.data:null,X=new bi(Y);y.audioSampleRate=X.sampling_rate,y.channelCount=X.channel_count,y.codec=X.codec_mimetype,y.originalCodec=X.original_codec_mimetype,y.config=X.config,y.refSampleDuration=256*X.num_blks/y.audioSampleRate*y.timescale}else this.audio_metadata_.codec==="opus"?(y.audioSampleRate=this.audio_metadata_.sample_rate,y.channelCount=this.audio_metadata_.channel_count,y.channelConfigCode=this.audio_metadata_.channel_config_code,y.codec="opus",y.originalCodec="opus",y.config=void 0,y.refSampleDuration=20):this.audio_metadata_.codec==="mp3"&&(y.audioSampleRate=this.audio_metadata_.sample_rate,y.channelCount=this.audio_metadata_.channel_count,y.codec="mp3",y.originalCodec="mp3",y.config=void 0);this.audio_init_segment_dispatched_==0&&s.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: ".concat(y.codec)),this.onTrackMetadata("audio",y),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var ee=this.media_info_;ee.hasAudio=!0,ee.audioCodec=y.originalCodec,ee.audioSampleRate=y.audioSampleRate,ee.audioChannelCount=y.channelCount,ee.hasVideo&&ee.videoCodec?ee.mimeType='video/mp2t; codecs="'.concat(ee.videoCodec,",").concat(ee.audioCodec,'"'):ee.mimeType='video/mp2t; codecs="'.concat(ee.audioCodec,'"'),ee.isComplete()&&this.onMediaInfo(ee)},A.prototype.dispatchPESPrivateDataDescriptor=function(k,y,O){var z=new Et;z.pid=k,z.stream_type=y,z.descriptor=O,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(z)},A.prototype.parsePESPrivateDataPayload=function(k,y,O,z,B){var q=new Rt;if(q.pid=z,q.stream_id=B,q.len=k.byteLength,q.data=k,y!=null){var Y=Math.floor(y/this.timescale_);q.pts=Y}else q.nearest_pts=this.getNearestTimestampMilliseconds();if(O!=null){var X=Math.floor(O/this.timescale_);q.dts=X}this.onPESPrivateData&&this.onPESPrivateData(q)},A.prototype.parseTimedID3MetadataPayload=function(k,y,O,z,B){var q=new Rt;if(q.pid=z,q.stream_id=B,q.len=k.byteLength,q.data=k,y!=null){var Y=Math.floor(y/this.timescale_);q.pts=Y}if(O!=null){var X=Math.floor(O/this.timescale_);q.dts=X}this.onTimedID3Metadata&&this.onTimedID3Metadata(q)},A.prototype.parseSynchronousKLVMetadataPayload=function(k,y,O,z,B){var q=new Cr;if(q.pid=z,q.stream_id=B,q.len=k.byteLength,q.data=k,y!=null){var Y=Math.floor(y/this.timescale_);q.pts=Y}if(O!=null){var X=Math.floor(O/this.timescale_);q.dts=X}q.access_units=function(ee){for(var ie=[],ce=0;ce+5<ee.byteLength;){var ue=ee[ce+0],xe=ee[ce+1],Ne=ee[ce+2],Ee=ee[ce+3]<<8|ee[ce+4]<<0,$e=ee.slice(ce+5,ce+5+Ee);ie.push({service_id:ue,sequence_number:xe,flags:Ne,data:$e}),ce+=5+Ee}return ie}(k),this.onSynchronousKLVMetadata&&this.onSynchronousKLVMetadata(q)},A.prototype.parseAsynchronousKLVMetadataPayload=function(k,y,O){var z=new Rt;z.pid=y,z.stream_id=O,z.len=k.byteLength,z.data=k,this.onAsynchronousKLVMetadata&&this.onAsynchronousKLVMetadata(z)},A.prototype.parseSMPTE2038MetadataPayload=function(k,y,O,z,B){var q=new Vt;if(q.pid=z,q.stream_id=B,q.len=k.byteLength,q.data=k,y!=null){var Y=Math.floor(y/this.timescale_);q.pts=Y}if(q.nearest_pts=this.getNearestTimestampMilliseconds(),O!=null){var X=Math.floor(O/this.timescale_);q.dts=X}q.ancillaries=function(ee){for(var ie=new b(ee),ce=0,ue=[];ce+=6,ie.readBits(6)===0;){var xe=ie.readBool();ce+=1;var Ne=ie.readBits(11);ce+=11;var Ee=ie.readBits(12);ce+=12;var $e=255&ie.readBits(10);ce+=10;var Ge=255&ie.readBits(10);ce+=10;var Re=255&ie.readBits(10);ce+=10;for(var at=new Uint8Array(Re),_t=0;_t<Re;_t++){var je=255&ie.readBits(10);ce+=10,at[_t]=je}ie.readBits(10),ce+=10;var tt="User Defined";$e===65?Ge===7&&(tt="SCTE-104"):$e===95?Ge===220?tt="ARIB STD-B37 (1SEG)":Ge===221?tt="ARIB STD-B37 (ANALOG)":Ge===222?tt="ARIB STD-B37 (SD)":Ge===223&&(tt="ARIB STD-B37 (HD)"):$e===97&&(Ge===1?tt="EIA-708":Ge===2&&(tt="EIA-608")),ue.push({yc_indicator:xe,line_number:Ne,horizontal_offset:Ee,did:$e,sdid:Ge,user_data:at,description:tt,information:{}}),ie.readBits(8-(ce-Math.floor(ce/8))%8),ce+=(8-(ce-Math.floor(ce/8)))%8}return ie.destroy(),ie=null,ue}(k),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(q)},A.prototype.getNearestTimestampMilliseconds=function(){return this.audio_last_sample_pts_!=null?Math.floor(this.audio_last_sample_pts_):this.last_pcr_!=null?Math.floor(this.last_pcr_/300/this.timescale_):void 0},A.prototype.getPcrBase=function(k){var y=33554432*k[6]+131072*k[7]+512*k[8]+2*k[9]+(128&k[10])/128+this.timestamp_offset_;return y+4294967296<this.last_pcr_base_&&(y+=8589934592,this.timestamp_offset_+=8589934592),this.last_pcr_base_=y,y},A.prototype.getTimestamp=function(k,y){var O=536870912*(14&k[y])+4194304*(255&k[y+1])+16384*(254&k[y+2])+128*(255&k[y+3])+(254&k[y+4])/2+this.timestamp_offset_;return O+4294967296<this.last_pcr_base_&&(O+=8589934592),O},A}(U),rl=function(R,A,k){for(var y,O=0,z=A.length;O<z;O++)!y&&O in A||(y||(y=Array.prototype.slice.call(A,0,O)),y[O]=A[O]);return R.concat(y||Array.prototype.slice.call(A))},sh=function(){function R(){}return R.init=function(){for(var A in R.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],av01:[],av1C:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[]},R.types)R.types.hasOwnProperty(A)&&(R.types[A]=[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]);var k=R.constants={};k.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),k.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),k.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),k.STSC=k.STCO=k.STTS,k.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),k.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),k.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),k.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},R.box=function(A){for(var k=8,y=null,O=Array.prototype.slice.call(arguments,1),z=O.length,B=0;B<z;B++)k+=O[B].byteLength;(y=new Uint8Array(k))[0]=k>>>24&255,y[1]=k>>>16&255,y[2]=k>>>8&255,y[3]=255&k,y.set(A,4);var q=8;for(B=0;B<z;B++)y.set(O[B],q),q+=O[B].byteLength;return y},R.generateInitSegment=function(A){var k=R.box(R.types.ftyp,R.constants.FTYP),y=R.moov(A),O=new Uint8Array(k.byteLength+y.byteLength);return O.set(k,0),O.set(y,k.byteLength),O},R.moov=function(A){var k=R.mvhd(A.timescale,A.duration),y=R.trak(A),O=R.mvex(A);return R.box(R.types.moov,k,y,O)},R.mvhd=function(A,k){return R.box(R.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,A>>>24&255,A>>>16&255,A>>>8&255,255&A,k>>>24&255,k>>>16&255,k>>>8&255,255&k,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},R.trak=function(A){return R.box(R.types.trak,R.tkhd(A),R.mdia(A))},R.tkhd=function(A){var k=A.id,y=A.duration,O=A.presentWidth,z=A.presentHeight;return R.box(R.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,255&k,0,0,0,0,y>>>24&255,y>>>16&255,y>>>8&255,255&y,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,O>>>8&255,255&O,0,0,z>>>8&255,255&z,0,0]))},R.mdia=function(A){return R.box(R.types.mdia,R.mdhd(A),R.hdlr(A),R.minf(A))},R.mdhd=function(A){var k=A.timescale,y=A.duration;return R.box(R.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,255&k,y>>>24&255,y>>>16&255,y>>>8&255,255&y,85,196,0,0]))},R.hdlr=function(A){var k=null;return k=A.type==="audio"?R.constants.HDLR_AUDIO:R.constants.HDLR_VIDEO,R.box(R.types.hdlr,k)},R.minf=function(A){var k=null;return k=A.type==="audio"?R.box(R.types.smhd,R.constants.SMHD):R.box(R.types.vmhd,R.constants.VMHD),R.box(R.types.minf,k,R.dinf(),R.stbl(A))},R.dinf=function(){return R.box(R.types.dinf,R.box(R.types.dref,R.constants.DREF))},R.stbl=function(A){return R.box(R.types.stbl,R.stsd(A),R.box(R.types.stts,R.constants.STTS),R.box(R.types.stsc,R.constants.STSC),R.box(R.types.stsz,R.constants.STSZ),R.box(R.types.stco,R.constants.STCO))},R.stsd=function(A){return A.type==="audio"?A.codec==="mp3"?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.mp3(A)):A.codec==="ac-3"?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.ac3(A)):A.codec==="ec-3"?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.ec3(A)):A.codec==="opus"?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.Opus(A)):R.box(R.types.stsd,R.constants.STSD_PREFIX,R.mp4a(A)):A.type==="video"&&A.codec.startsWith("hvc1")?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.hvc1(A)):A.type==="video"&&A.codec.startsWith("av01")?R.box(R.types.stsd,R.constants.STSD_PREFIX,R.av01(A)):R.box(R.types.stsd,R.constants.STSD_PREFIX,R.avc1(A))},R.mp3=function(A){var k=A.channelCount,y=A.audioSampleRate,O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,k,0,16,0,0,0,0,y>>>8&255,255&y,0,0]);return R.box(R.types[".mp3"],O)},R.mp4a=function(A){var k=A.channelCount,y=A.audioSampleRate,O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,k,0,16,0,0,0,0,y>>>8&255,255&y,0,0]);return R.box(R.types.mp4a,O,R.esds(A))},R.ac3=function(A){var k=A.channelCount,y=A.audioSampleRate,O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,k,0,16,0,0,0,0,y>>>8&255,255&y,0,0]);return R.box(R.types["ac-3"],O,R.box(R.types.dac3,new Uint8Array(A.config)))},R.ec3=function(A){var k=A.channelCount,y=A.audioSampleRate,O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,k,0,16,0,0,0,0,y>>>8&255,255&y,0,0]);return R.box(R.types["ec-3"],O,R.box(R.types.dec3,new Uint8Array(A.config)))},R.esds=function(A){var k=A.config||[],y=k.length,O=new Uint8Array([0,0,0,0,3,23+y,0,1,0,4,15+y,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([y]).concat(k).concat([6,1,2]));return R.box(R.types.esds,O)},R.Opus=function(A){var k=A.channelCount,y=A.audioSampleRate,O=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,k,0,16,0,0,0,0,y>>>8&255,255&y,0,0]);return R.box(R.types.Opus,O,R.dOps(A))},R.dOps=function(A){var k=A.channelCount,y=A.channelConfigCode,O=A.audioSampleRate;if(A.config)return R.box(R.types.dOps,B);var z=[];switch(y){case 1:case 2:z=[0];break;case 0:z=[255,1,1,0,1];break;case 128:z=[255,2,0,0,1];break;case 3:z=[1,2,1,0,2,1];break;case 4:z=[1,2,2,0,1,2,3];break;case 5:z=[1,3,2,0,4,1,2,3];break;case 6:z=[1,4,2,0,4,1,2,3,5];break;case 7:z=[1,4,2,0,4,1,2,3,5,6];break;case 8:z=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:z=[1,1,2,0,1];break;case 131:z=[1,1,3,0,1,2];break;case 132:z=[1,1,4,0,1,2,3];break;case 133:z=[1,1,5,0,1,2,3,4];break;case 134:z=[1,1,6,0,1,2,3,4,5];break;case 135:z=[1,1,7,0,1,2,3,4,5,6];break;case 136:z=[1,1,8,0,1,2,3,4,5,6,7]}var B=new Uint8Array(rl([0,k,0,0,O>>>24&255,O>>>17&255,O>>>8&255,O>>>0&255,0,0],z));return R.box(R.types.dOps,B)},R.avc1=function(A){var k=A.avcc,y=A.codecWidth,O=A.codecHeight,z=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,y>>>8&255,255&y,O>>>8&255,255&O,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return R.box(R.types.avc1,z,R.box(R.types.avcC,k))},R.hvc1=function(A){var k=A.hvcc,y=A.codecWidth,O=A.codecHeight,z=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,y>>>8&255,255&y,O>>>8&255,255&O,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return R.box(R.types.hvc1,z,R.box(R.types.hvcC,k))},R.av01=function(A){var k=A.av1c,y=A.codecWidth||192,O=A.codecHeight||108,z=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,y>>>8&255,255&y,O>>>8&255,255&O,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return R.box(R.types.av01,z,R.box(R.types.av1C,k))},R.mvex=function(A){return R.box(R.types.mvex,R.trex(A))},R.trex=function(A){var k=A.id,y=new Uint8Array([0,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,255&k,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return R.box(R.types.trex,y)},R.moof=function(A,k){return R.box(R.types.moof,R.mfhd(A.sequenceNumber),R.traf(A,k))},R.mfhd=function(A){var k=new Uint8Array([0,0,0,0,A>>>24&255,A>>>16&255,A>>>8&255,255&A]);return R.box(R.types.mfhd,k)},R.traf=function(A,k){var y=A.id,O=R.box(R.types.tfhd,new Uint8Array([0,0,0,0,y>>>24&255,y>>>16&255,y>>>8&255,255&y])),z=R.box(R.types.tfdt,new Uint8Array([0,0,0,0,k>>>24&255,k>>>16&255,k>>>8&255,255&k])),B=R.sdtp(A),q=R.trun(A,B.byteLength+16+16+8+16+8+8);return R.box(R.types.traf,O,z,q,B)},R.sdtp=function(A){for(var k=A.samples||[],y=k.length,O=new Uint8Array(4+y),z=0;z<y;z++){var B=k[z].flags;O[z+4]=B.isLeading<<6|B.dependsOn<<4|B.isDependedOn<<2|B.hasRedundancy}return R.box(R.types.sdtp,O)},R.trun=function(A,k){var y=A.samples||[],O=y.length,z=12+16*O,B=new Uint8Array(z);k+=8+z,B.set([0,0,15,1,O>>>24&255,O>>>16&255,O>>>8&255,255&O,k>>>24&255,k>>>16&255,k>>>8&255,255&k],0);for(var q=0;q<O;q++){var Y=y[q].duration,X=y[q].size,ee=y[q].flags,ie=y[q].cts;B.set([Y>>>24&255,Y>>>16&255,Y>>>8&255,255&Y,X>>>24&255,X>>>16&255,X>>>8&255,255&X,ee.isLeading<<2|ee.dependsOn,ee.isDependedOn<<6|ee.hasRedundancy<<4|ee.isNonSync,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie],12+16*q)}return R.box(R.types.trun,B)},R.mdat=function(A){return R.box(R.types.mdat,A)},R}();sh.init();var Do=sh,Hp=function(){function R(){}return R.getSilentFrame=function(A,k){if(A==="mp4a.40.2"){if(k===1)return new Uint8Array([0,200,0,128,35,128]);if(k===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(k===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(k===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(k===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(k===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(k===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(k===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(k===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},R}(),wi=i(11),Po=function(){function R(A){this.TAG="MP4Remuxer",this._config=A,this._isLive=A.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new wi.c("audio"),this._videoSegmentInfoList=new wi.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!l.a.chrome||!(l.a.version.major<50||l.a.version.major===50&&l.a.version.build<2661)),this._fillSilentAfterSeek=l.a.msedge||l.a.msie,this._mp3UseMpegAudio=!l.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return R.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},R.prototype.bindDataSource=function(A){return A.onDataAvailable=this.remux.bind(this),A.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(R.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(A){this._onInitSegment=A},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(A){this._onMediaSegment=A},enumerable:!1,configurable:!0}),R.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},R.prototype.seek=function(A){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},R.prototype.remux=function(A,k){if(!this._onMediaSegment)throw new p.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(A,k),k&&this._remuxVideo(k),A&&this._remuxAudio(A)},R.prototype._onTrackMetadataReceived=function(A,k){var y=null,O="mp4",z=k.codec;if(A==="audio")this._audioMeta=k,k.codec==="mp3"&&this._mp3UseMpegAudio?(O="mpeg",z="",y=new Uint8Array):y=Do.generateInitSegment(k);else{if(A!=="video")return;this._videoMeta=k,y=Do.generateInitSegment(k)}if(!this._onInitSegment)throw new p.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(A,{type:A,data:y.buffer,codec:z,container:"".concat(A,"/").concat(O),mediaDuration:k.duration})},R.prototype._calculateDtsBase=function(A,k){this._dtsBaseInited||(A&&A.samples&&A.samples.length&&(this._audioDtsBase=A.samples[0].dts),k&&k.samples&&k.samples.length&&(this._videoDtsBase=k.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},R.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},R.prototype.flushStashedSamples=function(){var A=this._videoStashedLastSample,k=this._audioStashedLastSample,y={type:"video",id:1,sequenceNumber:0,samples:[],length:0};A!=null&&(y.samples.push(A),y.length=A.length);var O={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};k!=null&&(O.samples.push(k),O.length=k.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(y,!0),this._remuxAudio(O,!0)},R.prototype._remuxAudio=function(A,k){if(this._audioMeta!=null){var y,O=A,z=O.samples,B=void 0,q=-1,Y=this._audioMeta.refSampleDuration,X=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,ee=this._dtsBaseInited&&this._audioNextDts===void 0,ie=!1;if(z&&z.length!==0&&(z.length!==1||k)){var ce=0,ue=null,xe=0;X?(ce=0,xe=O.length):(ce=8,xe=8+O.length);var Ne=null;if(z.length>1&&(xe-=(Ne=z.pop()).length),this._audioStashedLastSample!=null){var Ee=this._audioStashedLastSample;this._audioStashedLastSample=null,z.unshift(Ee),xe+=Ee.length}Ne!=null&&(this._audioStashedLastSample=Ne);var $e=z[0].dts-this._dtsBase;if(this._audioNextDts)B=$e-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())B=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(ie=!0);else{var Ge=this._audioSegmentInfoList.getLastSampleBefore($e);if(Ge!=null){var Re=$e-(Ge.originalDts+Ge.duration);Re<=3&&(Re=0),B=$e-(Ge.dts+Ge.duration+Re)}else B=0}if(ie){var at=$e-B,_t=this._videoSegmentInfoList.getLastSegmentBefore($e);if(_t!=null&&_t.beginDts<at){if(cn=Hp.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var je=_t.beginDts,tt=at-_t.beginDts;s.a.v(this.TAG,"InsertPrefixSilentAudio: dts: ".concat(je,", duration: ").concat(tt)),z.unshift({unit:cn,dts:je,pts:je}),xe+=cn.byteLength}}else ie=!1}for(var Qe=[],it=0;it<z.length;it++){var mt=(Ee=z[it]).unit,Nt=Ee.dts-this._dtsBase,on=(je=Nt,!1),dt=null,Dt=0;if(!(Nt<-.001)){if(this._audioMeta.codec!=="mp3"){var Ht=Nt;if(this._audioNextDts&&(Ht=this._audioNextDts),(B=Nt-Ht)<=-3*Y){s.a.w(this.TAG,"Dropping 1 audio frame (originalDts: ".concat(Nt," ms ,curRefDts: ").concat(Ht," ms)  due to dtsCorrection: ").concat(B," ms overlap."));continue}if(B>=3*Y&&this._fillAudioTimestampGap&&!l.a.safari){on=!0;var cn,ya=Math.floor(B/Y);s.a.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+"originalDts: ".concat(Nt," ms, curRefDts: ").concat(Ht," ms, ")+"dtsCorrection: ".concat(Math.round(B)," ms, generate: ").concat(ya," frames")),je=Math.floor(Ht),Dt=Math.floor(Ht+Y)-je,(cn=Hp.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))==null&&(s.a.w(this.TAG,"Unable to generate silent frame for "+"".concat(this._audioMeta.originalCodec," with ").concat(this._audioMeta.channelCount," channels, repeat last frame")),cn=mt),dt=[];for(var Hr=0;Hr<ya;Hr++){Ht+=Y;var Tr=Math.floor(Ht),ba=Math.floor(Ht+Y)-Tr,No={dts:Tr,pts:Tr,cts:0,unit:cn,size:cn.byteLength,duration:ba,originalDts:Nt,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};dt.push(No),xe+=No.size}this._audioNextDts=Ht+Y}else je=Math.floor(Ht),Dt=Math.floor(Ht+Y)-je,this._audioNextDts=Ht+Y}else je=Nt-B,Dt=it!==z.length-1?z[it+1].dts-this._dtsBase-B-je:Ne!=null?Ne.dts-this._dtsBase-B-je:Qe.length>=1?Qe[Qe.length-1].duration:Math.floor(Y),this._audioNextDts=je+Dt;q===-1&&(q=je),Qe.push({dts:je,pts:je,cts:0,unit:Ee.unit,size:Ee.unit.byteLength,duration:Dt,originalDts:Nt,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),on&&Qe.push.apply(Qe,dt)}}if(Qe.length===0)return O.samples=[],void(O.length=0);for(X?ue=new Uint8Array(xe):((ue=new Uint8Array(xe))[0]=xe>>>24&255,ue[1]=xe>>>16&255,ue[2]=xe>>>8&255,ue[3]=255&xe,ue.set(Do.types.mdat,4)),it=0;it<Qe.length;it++)mt=Qe[it].unit,ue.set(mt,ce),ce+=mt.byteLength;var vr=Qe[Qe.length-1];y=vr.dts+vr.duration;var Bt=new wi.b;Bt.beginDts=q,Bt.endDts=y,Bt.beginPts=q,Bt.endPts=y,Bt.originalBeginDts=Qe[0].originalDts,Bt.originalEndDts=vr.originalDts+vr.duration,Bt.firstSample=new wi.d(Qe[0].dts,Qe[0].pts,Qe[0].duration,Qe[0].originalDts,!1),Bt.lastSample=new wi.d(vr.dts,vr.pts,vr.duration,vr.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Bt),O.samples=Qe,O.sequenceNumber++;var yr=null;yr=X?new Uint8Array:Do.moof(O,q),O.samples=[],O.length=0;var Bo={type:"audio",data:this._mergeBoxes(yr,ue).buffer,sampleCount:Qe.length,info:Bt};X&&ee&&(Bo.timestampOffset=q),this._onMediaSegment("audio",Bo)}}},R.prototype._remuxVideo=function(A,k){if(this._videoMeta!=null){var y,O,z=A,B=z.samples,q=void 0,Y=-1,X=-1;if(B&&B.length!==0&&(B.length!==1||k)){var ee=8,ie=null,ce=8+A.length,ue=null;if(B.length>1&&(ce-=(ue=B.pop()).length),this._videoStashedLastSample!=null){var xe=this._videoStashedLastSample;this._videoStashedLastSample=null,B.unshift(xe),ce+=xe.length}ue!=null&&(this._videoStashedLastSample=ue);var Ne=B[0].dts-this._dtsBase;if(this._videoNextDts)q=Ne-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())q=0;else{var Ee=this._videoSegmentInfoList.getLastSampleBefore(Ne);if(Ee!=null){var $e=Ne-(Ee.originalDts+Ee.duration);$e<=3&&($e=0),q=Ne-(Ee.dts+Ee.duration+$e)}else q=0}for(var Ge=new wi.b,Re=[],at=0;at<B.length;at++){var _t=(xe=B[at]).dts-this._dtsBase,je=xe.isKeyframe,tt=_t-q,Qe=xe.cts,it=tt+Qe;Y===-1&&(Y=tt,X=it);var mt=0;if(mt=at!==B.length-1?B[at+1].dts-this._dtsBase-q-tt:ue!=null?ue.dts-this._dtsBase-q-tt:Re.length>=1?Re[Re.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),je){var Nt=new wi.d(tt,it,mt,xe.dts,!0);Nt.fileposition=xe.fileposition,Ge.appendSyncPoint(Nt)}Re.push({dts:tt,pts:it,cts:Qe,units:xe.units,size:xe.length,isKeyframe:je,duration:mt,originalDts:_t,flags:{isLeading:0,dependsOn:je?2:1,isDependedOn:je?1:0,hasRedundancy:0,isNonSync:je?0:1}})}for((ie=new Uint8Array(ce))[0]=ce>>>24&255,ie[1]=ce>>>16&255,ie[2]=ce>>>8&255,ie[3]=255&ce,ie.set(Do.types.mdat,4),at=0;at<Re.length;at++)for(var on=Re[at].units;on.length;){var dt=on.shift().data;ie.set(dt,ee),ee+=dt.byteLength}var Dt=Re[Re.length-1];if(y=Dt.dts+Dt.duration,O=Dt.pts+Dt.duration,this._videoNextDts=y,Ge.beginDts=Y,Ge.endDts=y,Ge.beginPts=X,Ge.endPts=O,Ge.originalBeginDts=Re[0].originalDts,Ge.originalEndDts=Dt.originalDts+Dt.duration,Ge.firstSample=new wi.d(Re[0].dts,Re[0].pts,Re[0].duration,Re[0].originalDts,Re[0].isKeyframe),Ge.lastSample=new wi.d(Dt.dts,Dt.pts,Dt.duration,Dt.originalDts,Dt.isKeyframe),this._isLive||this._videoSegmentInfoList.append(Ge),z.samples=Re,z.sequenceNumber++,this._forceFirstIDR){var Ht=Re[0].flags;Ht.dependsOn=2,Ht.isNonSync=0}var cn=Do.moof(z,Y);z.samples=[],z.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(cn,ie).buffer,sampleCount:Re.length,info:Ge})}}},R.prototype._mergeBoxes=function(A,k){var y=new Uint8Array(A.byteLength+k.byteLength);return y.set(A,0),y.set(k,A.byteLength),y},R}(),c1=i(14),Fn=i(1),$p=(i(2),function(){function R(A,k){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=k,A.segments||(A.segments=[{duration:A.duration,filesize:A.filesize,url:A.url}]),typeof A.cors!="boolean"&&(A.cors=!0),typeof A.withCredentials!="boolean"&&(A.withCredentials=!1),this._mediaDataSource=A,this._currentSegmentIndex=0;var y=0;this._mediaDataSource.segments.forEach(function(O){O.timestampBase=y,y+=O.duration,O.cors=A.cors,O.withCredentials=A.withCredentials,k.referrerPolicy&&(O.referrerPolicy=k.referrerPolicy)}),isNaN(y)||this._mediaDataSource.duration===y||(this._mediaDataSource.duration=y),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return R.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},R.prototype.on=function(A,k){this._emitter.addListener(A,k)},R.prototype.off=function(A,k){this._emitter.removeListener(A,k)},R.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},R.prototype._loadSegment=function(A,k){this._currentSegmentIndex=A;var y=this._mediaDataSource.segments[A],O=this._ioctl=new c1.a(y,this._config,A);O.onError=this._onIOException.bind(this),O.onSeeked=this._onIOSeeked.bind(this),O.onComplete=this._onIOComplete.bind(this),O.onRedirect=this._onIORedirect.bind(this),O.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),k?this._demuxer.bindDataSource(this._ioctl):O.onDataArrival=this._onInitChunkArrival.bind(this),O.open(k)},R.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},R.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},R.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},R.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},R.prototype.seek=function(A){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var k=this._searchSegmentIndexContains(A);if(k===this._currentSegmentIndex){var y=this._mediaInfo.segments[k];if(y==null)this._pendingSeekTime=A;else{var O=y.getNearestKeyframe(A);this._remuxer.seek(O.milliseconds),this._ioctl.seek(O.fileposition),this._pendingResolveSeekPoint=O.milliseconds}}else{var z=this._mediaInfo.segments[k];z==null?(this._pendingSeekTime=A,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(k)):(O=z.getNearestKeyframe(A),this._internalAbort(),this._remuxer.seek(A),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[k].timestampBase,this._loadSegment(k,O.fileposition),this._pendingResolveSeekPoint=O.milliseconds,this._reportSegmentMediaInfo(k))}this._enableStatisticsReporter()}},R.prototype._searchSegmentIndexContains=function(A){for(var k=this._mediaDataSource.segments,y=k.length-1,O=0;O<k.length;O++)if(A<k[O].timestampBase){y=O-1;break}return y},R.prototype._onInitChunkArrival=function(A,k){var y=this,O=0;if(k>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,O=this._demuxer.parseChunks(A,k);else{var z=null;(z=P.probe(A)).match&&(this._setupFLVDemuxerRemuxer(z),O=this._demuxer.parseChunks(A,k)),z.match||z.needMoreData||(z=nl.probe(A)).match&&(this._setupTSDemuxerRemuxer(z),O=this._demuxer.parseChunks(A,k)),z.match||z.needMoreData||(z=null,s.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(function(){y._internalAbort()}),this._emitter.emit(Fn.a.DEMUX_ERROR,_.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return O},R.prototype._setupFLVDemuxerRemuxer=function(A){this._demuxer=new P(A,this._config),this._remuxer||(this._remuxer=new Po(this._config));var k=this._mediaDataSource;k.duration==null||isNaN(k.duration)||(this._demuxer.overridedDuration=k.duration),typeof k.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=k.hasAudio),typeof k.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=k.hasVideo),this._demuxer.timestampBase=k.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},R.prototype._setupTSDemuxerRemuxer=function(A){var k=this._demuxer=new nl(A,this._config);this._remuxer||(this._remuxer=new Po(this._config)),k.onError=this._onDemuxException.bind(this),k.onMediaInfo=this._onMediaInfo.bind(this),k.onMetaDataArrived=this._onMetaDataArrived.bind(this),k.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),k.onSynchronousKLVMetadata=this._onSynchronousKLVMetadata.bind(this),k.onAsynchronousKLVMetadata=this._onAsynchronousKLVMetadata.bind(this),k.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),k.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),k.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),k.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},R.prototype._onMediaInfo=function(A){var k=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},A),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,c.a.prototype));var y=Object.assign({},A);Object.setPrototypeOf(y,c.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=y,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var O=k._pendingSeekTime;k._pendingSeekTime=null,k.seek(O)})},R.prototype._onMetaDataArrived=function(A){this._emitter.emit(Fn.a.METADATA_ARRIVED,A)},R.prototype._onScriptDataArrived=function(A){this._emitter.emit(Fn.a.SCRIPTDATA_ARRIVED,A)},R.prototype._onTimedID3Metadata=function(A){var k=this._remuxer.getTimestampBase();k!=null&&(A.pts!=null&&(A.pts-=k),A.dts!=null&&(A.dts-=k),this._emitter.emit(Fn.a.TIMED_ID3_METADATA_ARRIVED,A))},R.prototype._onSynchronousKLVMetadata=function(A){var k=this._remuxer.getTimestampBase();k!=null&&(A.pts!=null&&(A.pts-=k),A.dts!=null&&(A.dts-=k),this._emitter.emit(Fn.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,A))},R.prototype._onAsynchronousKLVMetadata=function(A){this._emitter.emit(Fn.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,A)},R.prototype._onSMPTE2038Metadata=function(A){var k=this._remuxer.getTimestampBase();k!=null&&(A.pts!=null&&(A.pts-=k),A.dts!=null&&(A.dts-=k),A.nearest_pts!=null&&(A.nearest_pts-=k),this._emitter.emit(Fn.a.SMPTE2038_METADATA_ARRIVED,A))},R.prototype._onSCTE35Metadata=function(A){var k=this._remuxer.getTimestampBase();k!=null&&(A.pts!=null&&(A.pts-=k),A.nearest_pts!=null&&(A.nearest_pts-=k),this._emitter.emit(Fn.a.SCTE35_METADATA_ARRIVED,A))},R.prototype._onPESPrivateDataDescriptor=function(A){this._emitter.emit(Fn.a.PES_PRIVATE_DATA_DESCRIPTOR,A)},R.prototype._onPESPrivateData=function(A){var k=this._remuxer.getTimestampBase();k!=null&&(A.pts!=null&&(A.pts-=k),A.nearest_pts!=null&&(A.nearest_pts-=k),A.dts!=null&&(A.dts-=k),this._emitter.emit(Fn.a.PES_PRIVATE_DATA_ARRIVED,A))},R.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},R.prototype._onIOComplete=function(A){var k=A+1;k<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(k)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(Fn.a.LOADING_COMPLETE),this._disableStatisticsReporter())},R.prototype._onIORedirect=function(A){var k=this._ioctl.extraData;this._mediaDataSource.segments[k].redirectedURL=A},R.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(Fn.a.RECOVERED_EARLY_EOF)},R.prototype._onIOException=function(A,k){s.a.e(this.TAG,"IOException: type = ".concat(A,", code = ").concat(k.code,", msg = ").concat(k.msg)),this._emitter.emit(Fn.a.IO_ERROR,A,k),this._disableStatisticsReporter()},R.prototype._onDemuxException=function(A,k){s.a.e(this.TAG,"DemuxException: type = ".concat(A,", info = ").concat(k)),this._emitter.emit(Fn.a.DEMUX_ERROR,A,k)},R.prototype._onRemuxerInitSegmentArrival=function(A,k){this._emitter.emit(Fn.a.INIT_SEGMENT,A,k)},R.prototype._onRemuxerMediaSegmentArrival=function(A,k){if(this._pendingSeekTime==null&&(this._emitter.emit(Fn.a.MEDIA_SEGMENT,A,k),this._pendingResolveSeekPoint!=null&&A==="video")){var y=k.info.syncPoints,O=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,l.a.safari&&y.length>0&&y[0].originalDts===O&&(O=y[0].pts),this._emitter.emit(Fn.a.RECOMMEND_SEEKPOINT,O)}},R.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},R.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},R.prototype._reportSegmentMediaInfo=function(A){var k=this._mediaInfo.segments[A],y=Object.assign({},k);y.duration=this._mediaInfo.duration,y.segmentCount=this._mediaInfo.segmentCount,delete y.segments,delete y.keyframesIndex,this._emitter.emit(Fn.a.MEDIA_INFO,y)},R.prototype._reportStatisticsInfo=function(){var A={};A.url=this._ioctl.currentURL,A.hasRedirect=this._ioctl.hasRedirect,A.hasRedirect&&(A.redirectedURL=this._ioctl.currentRedirectedURL),A.speed=this._ioctl.currentSpeed,A.loaderType=this._ioctl.loaderType,A.currentSegmentIndex=this._currentSegmentIndex,A.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Fn.a.STATISTICS_INFO,A)},R}());r.a=$p},function(n,r,i){var o,a=i(0),s=function(){function T(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return T.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},T.prototype.addBytes=function(S){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=S,this._totalBytes+=S):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=S,this._totalBytes+=S):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=S,this._totalBytes+=S,this._lastCheckpoint=this._now())},Object.defineProperty(T.prototype,"currentKBps",{get:function(){this.addBytes(0);var S=(this._now()-this._lastCheckpoint)/1e3;return S==0&&(S=1),this._intervalBytes/S/1024},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"averageKBps",{get:function(){var S=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/S/1024},enumerable:!1,configurable:!0}),T}(),l=i(2),c=i(5),u=i(3),h=(o=function(T,S){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var U in P)Object.prototype.hasOwnProperty.call(P,U)&&(C[U]=P[U])})(T,S)},function(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=T}o(T,S),T.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)}),d=function(T){function S(C,P){var U=T.call(this,"fetch-stream-loader")||this;return U.TAG="FetchStreamLoader",U._seekHandler=C,U._config=P,U._needStash=!0,U._requestAbort=!1,U._abortController=null,U._contentLength=null,U._receivedLength=0,U}return h(S,T),S.isSupported=function(){try{var C=c.a.msedge&&c.a.version.minor>=15048,P=!c.a.msedge||C;return self.fetch&&self.ReadableStream&&P}catch{return!1}},S.prototype.destroy=function(){this.isWorking()&&this.abort(),T.prototype.destroy.call(this)},S.prototype.open=function(C,P){var U=this;this._dataSource=C,this._range=P;var W=C.url;this._config.reuseRedirectedURL&&C.redirectedURL!=null&&(W=C.redirectedURL);var te=this._seekHandler.getConfig(W,P),ne=new self.Headers;if(typeof te.headers=="object"){var ae=te.headers;for(var he in ae)ae.hasOwnProperty(he)&&ne.append(he,ae[he])}var fe={method:"GET",headers:ne,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var he in this._config.headers)ne.append(he,this._config.headers[he]);C.cors===!1&&(fe.mode="same-origin"),C.withCredentials&&(fe.credentials="include"),C.referrerPolicy&&(fe.referrerPolicy=C.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,fe.signal=this._abortController.signal),this._status=l.c.kConnecting,self.fetch(te.url,fe).then(function(le){if(U._requestAbort)return U._status=l.c.kIdle,void le.body.cancel();if(le.ok&&le.status>=200&&le.status<=299){if(le.url!==te.url&&U._onURLRedirect){var N=U._seekHandler.removeURLParameters(le.url);U._onURLRedirect(N)}var H=le.headers.get("Content-Length");return H!=null&&(U._contentLength=parseInt(H),U._contentLength!==0&&U._onContentLengthKnown&&U._onContentLengthKnown(U._contentLength)),U._pump.call(U,le.body.getReader())}if(U._status=l.c.kError,!U._onError)throw new u.d("FetchStreamLoader: Http code invalid, "+le.status+" "+le.statusText);U._onError(l.b.HTTP_STATUS_CODE_INVALID,{code:le.status,msg:le.statusText})}).catch(function(le){if(!U._abortController||!U._abortController.signal.aborted){if(U._status=l.c.kError,!U._onError)throw le;U._onError(l.b.EXCEPTION,{code:-1,msg:le.message})}})},S.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==l.c.kBuffering||!c.a.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},S.prototype._pump=function(C){var P=this;return C.read().then(function(U){if(U.done)if(P._contentLength!==null&&P._receivedLength<P._contentLength){P._status=l.c.kError;var W=l.b.EARLY_EOF,te={code:-1,msg:"Fetch stream meet Early-EOF"};if(!P._onError)throw new u.d(te.msg);P._onError(W,te)}else P._status=l.c.kComplete,P._onComplete&&P._onComplete(P._range.from,P._range.from+P._receivedLength-1);else{if(P._abortController&&P._abortController.signal.aborted)return void(P._status=l.c.kComplete);if(P._requestAbort===!0)return P._status=l.c.kComplete,C.cancel();P._status=l.c.kBuffering;var ne=U.value.buffer,ae=P._range.from+P._receivedLength;P._receivedLength+=ne.byteLength,P._onDataArrival&&P._onDataArrival(ne,ae,P._receivedLength),P._pump(C)}}).catch(function(U){if(P._abortController&&P._abortController.signal.aborted)P._status=l.c.kComplete;else if(U.code!==11||!c.a.msedge){P._status=l.c.kError;var W=0,te=null;if(U.code!==19&&U.message!=="network error"||!(P._contentLength===null||P._contentLength!==null&&P._receivedLength<P._contentLength)?(W=l.b.EXCEPTION,te={code:U.code,msg:U.message}):(W=l.b.EARLY_EOF,te={code:U.code,msg:"Fetch stream meet Early-EOF"}),!P._onError)throw new u.d(te.msg);P._onError(W,te)}})},S}(l.a),p=function(){var T=function(S,C){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(P[W]=U[W])})(S,C)};return function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function P(){this.constructor=S}T(S,C),S.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}(),f=function(T){function S(C,P){var U=T.call(this,"xhr-moz-chunked-loader")||this;return U.TAG="MozChunkedLoader",U._seekHandler=C,U._config=P,U._needStash=!0,U._xhr=null,U._requestAbort=!1,U._contentLength=null,U._receivedLength=0,U}return p(S,T),S.isSupported=function(){try{var C=new XMLHttpRequest;return C.open("GET","https://example.com",!0),C.responseType="moz-chunked-arraybuffer",C.responseType==="moz-chunked-arraybuffer"}catch(P){return a.a.w("MozChunkedLoader",P.message),!1}},S.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),T.prototype.destroy.call(this)},S.prototype.open=function(C,P){this._dataSource=C,this._range=P;var U=C.url;this._config.reuseRedirectedURL&&C.redirectedURL!=null&&(U=C.redirectedURL);var W=this._seekHandler.getConfig(U,P);this._requestURL=W.url;var te=this._xhr=new XMLHttpRequest;if(te.open("GET",W.url,!0),te.responseType="moz-chunked-arraybuffer",te.onreadystatechange=this._onReadyStateChange.bind(this),te.onprogress=this._onProgress.bind(this),te.onloadend=this._onLoadEnd.bind(this),te.onerror=this._onXhrError.bind(this),C.withCredentials&&(te.withCredentials=!0),typeof W.headers=="object"){var ne=W.headers;for(var ae in ne)ne.hasOwnProperty(ae)&&te.setRequestHeader(ae,ne[ae])}if(typeof this._config.headers=="object")for(var ae in ne=this._config.headers)ne.hasOwnProperty(ae)&&te.setRequestHeader(ae,ne[ae]);this._status=l.c.kConnecting,te.send()},S.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=l.c.kComplete},S.prototype._onReadyStateChange=function(C){var P=C.target;if(P.readyState===2){if(P.responseURL!=null&&P.responseURL!==this._requestURL&&this._onURLRedirect){var U=this._seekHandler.removeURLParameters(P.responseURL);this._onURLRedirect(U)}if(P.status!==0&&(P.status<200||P.status>299)){if(this._status=l.c.kError,!this._onError)throw new u.d("MozChunkedLoader: Http code invalid, "+P.status+" "+P.statusText);this._onError(l.b.HTTP_STATUS_CODE_INVALID,{code:P.status,msg:P.statusText})}else this._status=l.c.kBuffering}},S.prototype._onProgress=function(C){if(this._status!==l.c.kError){this._contentLength===null&&C.total!==null&&C.total!==0&&(this._contentLength=C.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var P=C.target.response,U=this._range.from+this._receivedLength;this._receivedLength+=P.byteLength,this._onDataArrival&&this._onDataArrival(P,U,this._receivedLength)}},S.prototype._onLoadEnd=function(C){this._requestAbort!==!0?this._status!==l.c.kError&&(this._status=l.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},S.prototype._onXhrError=function(C){this._status=l.c.kError;var P=0,U=null;if(this._contentLength&&C.loaded<this._contentLength?(P=l.b.EARLY_EOF,U={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(P=l.b.EXCEPTION,U={code:-1,msg:C.constructor.name+" "+C.type}),!this._onError)throw new u.d(U.msg);this._onError(P,U)},S}(l.a),m=function(){var T=function(S,C){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(P[W]=U[W])})(S,C)};return function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function P(){this.constructor=S}T(S,C),S.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}(),b=(function(T){function S(C,P){var U=T.call(this,"xhr-msstream-loader")||this;return U.TAG="MSStreamLoader",U._seekHandler=C,U._config=P,U._needStash=!0,U._xhr=null,U._reader=null,U._totalRange=null,U._currentRange=null,U._currentRequestURL=null,U._currentRedirectedURL=null,U._contentLength=null,U._receivedLength=0,U._bufferLimit=16777216,U._lastTimeBufferSize=0,U._isReconnecting=!1,U}m(S,T),S.isSupported=function(){try{if(self.MSStream===void 0||self.MSStreamReader===void 0)return!1;var C=new XMLHttpRequest;return C.open("GET","https://example.com",!0),C.responseType="ms-stream",C.responseType==="ms-stream"}catch(P){return a.a.w("MSStreamLoader",P.message),!1}},S.prototype.destroy=function(){this.isWorking()&&this.abort(),this._reader&&(this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr=null),T.prototype.destroy.call(this)},S.prototype.open=function(C,P){this._internalOpen(C,P,!1)},S.prototype._internalOpen=function(C,P,U){this._dataSource=C,U?this._currentRange=P:this._totalRange=P;var W=C.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?W=this._currentRedirectedURL:C.redirectedURL!=null&&(W=C.redirectedURL));var te=this._seekHandler.getConfig(W,P);this._currentRequestURL=te.url;var ne=this._reader=new self.MSStreamReader;ne.onprogress=this._msrOnProgress.bind(this),ne.onload=this._msrOnLoad.bind(this),ne.onerror=this._msrOnError.bind(this);var ae=this._xhr=new XMLHttpRequest;if(ae.open("GET",te.url,!0),ae.responseType="ms-stream",ae.onreadystatechange=this._xhrOnReadyStateChange.bind(this),ae.onerror=this._xhrOnError.bind(this),C.withCredentials&&(ae.withCredentials=!0),typeof te.headers=="object"){var he=te.headers;for(var fe in he)he.hasOwnProperty(fe)&&ae.setRequestHeader(fe,he[fe])}if(typeof this._config.headers=="object")for(var fe in he=this._config.headers)he.hasOwnProperty(fe)&&ae.setRequestHeader(fe,he[fe]);this._isReconnecting?this._isReconnecting=!1:this._status=l.c.kConnecting,ae.send()},S.prototype.abort=function(){this._internalAbort(),this._status=l.c.kComplete},S.prototype._internalAbort=function(){this._reader&&(this._reader.readyState===1&&this._reader.abort(),this._reader.onprogress=null,this._reader.onload=null,this._reader.onerror=null,this._reader=null),this._xhr&&(this._xhr.abort(),this._xhr.onreadystatechange=null,this._xhr=null)},S.prototype._xhrOnReadyStateChange=function(C){var P=C.target;if(P.readyState===2)if(P.status>=200&&P.status<=299){if(this._status=l.c.kBuffering,P.responseURL!=null){var U=this._seekHandler.removeURLParameters(P.responseURL);P.responseURL!==this._currentRequestURL&&U!==this._currentRedirectedURL&&(this._currentRedirectedURL=U,this._onURLRedirect&&this._onURLRedirect(U))}var W=P.getResponseHeader("Content-Length");if(W!=null&&this._contentLength==null){var te=parseInt(W);te>0&&(this._contentLength=te,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength))}}else{if(this._status=l.c.kError,!this._onError)throw new u.d("MSStreamLoader: Http code invalid, "+P.status+" "+P.statusText);this._onError(l.b.HTTP_STATUS_CODE_INVALID,{code:P.status,msg:P.statusText})}else if(P.readyState===3&&P.status>=200&&P.status<=299){this._status=l.c.kBuffering;var ne=P.response;this._reader.readAsArrayBuffer(ne)}},S.prototype._xhrOnError=function(C){this._status=l.c.kError;var P=l.b.EXCEPTION,U={code:-1,msg:C.constructor.name+" "+C.type};if(!this._onError)throw new u.d(U.msg);this._onError(P,U)},S.prototype._msrOnProgress=function(C){var P=C.target.result;if(P!=null){var U=P.slice(this._lastTimeBufferSize);this._lastTimeBufferSize=P.byteLength;var W=this._totalRange.from+this._receivedLength;this._receivedLength+=U.byteLength,this._onDataArrival&&this._onDataArrival(U,W,this._receivedLength),P.byteLength>=this._bufferLimit&&(a.a.v(this.TAG,"MSStream buffer exceeded max size near ".concat(W+U.byteLength,", reconnecting...")),this._doReconnectIfNeeded())}else this._doReconnectIfNeeded()},S.prototype._doReconnectIfNeeded=function(){if(this._contentLength==null||this._receivedLength<this._contentLength){this._isReconnecting=!0,this._lastTimeBufferSize=0,this._internalAbort();var C={from:this._totalRange.from+this._receivedLength,to:-1};this._internalOpen(this._dataSource,C,!0)}},S.prototype._msrOnLoad=function(C){this._status=l.c.kComplete,this._onComplete&&this._onComplete(this._totalRange.from,this._totalRange.from+this._receivedLength-1)},S.prototype._msrOnError=function(C){this._status=l.c.kError;var P=0,U=null;if(this._contentLength&&this._receivedLength<this._contentLength?(P=l.b.EARLY_EOF,U={code:-1,msg:"MSStream meet Early-Eof"}):(P=l.b.EARLY_EOF,U={code:-1,msg:C.constructor.name+" "+C.type}),!this._onError)throw new u.d(U.msg);this._onError(P,U)}}(l.a),function(){var T=function(S,C){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(P[W]=U[W])})(S,C)};return function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function P(){this.constructor=S}T(S,C),S.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}()),v=function(T){function S(C,P){var U=T.call(this,"xhr-range-loader")||this;return U.TAG="RangeLoader",U._seekHandler=C,U._config=P,U._needStash=!1,U._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],U._currentChunkSizeKB=384,U._currentSpeedNormalized=0,U._zeroSpeedChunkCount=0,U._xhr=null,U._speedSampler=new s,U._requestAbort=!1,U._waitForTotalLength=!1,U._totalLengthReceived=!1,U._currentRequestURL=null,U._currentRedirectedURL=null,U._currentRequestRange=null,U._totalLength=null,U._contentLength=null,U._receivedLength=0,U._lastTimeLoaded=0,U}return b(S,T),S.isSupported=function(){try{var C=new XMLHttpRequest;return C.open("GET","https://example.com",!0),C.responseType="arraybuffer",C.responseType==="arraybuffer"}catch(P){return a.a.w("RangeLoader",P.message),!1}},S.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),T.prototype.destroy.call(this)},Object.defineProperty(S.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),S.prototype.open=function(C,P){this._dataSource=C,this._range=P,this._status=l.c.kConnecting;var U=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(U=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||U?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},S.prototype._openSubRange=function(){var C=1024*this._currentChunkSizeKB,P=this._range.from+this._receivedLength,U=P+C;this._contentLength!=null&&U-this._range.from>=this._contentLength&&(U=this._range.from+this._contentLength-1),this._currentRequestRange={from:P,to:U},this._internalOpen(this._dataSource,this._currentRequestRange)},S.prototype._internalOpen=function(C,P){this._lastTimeLoaded=0;var U=C.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?U=this._currentRedirectedURL:C.redirectedURL!=null&&(U=C.redirectedURL));var W=this._seekHandler.getConfig(U,P);this._currentRequestURL=W.url;var te=this._xhr=new XMLHttpRequest;if(te.open("GET",W.url,!0),te.responseType="arraybuffer",te.onreadystatechange=this._onReadyStateChange.bind(this),te.onprogress=this._onProgress.bind(this),te.onload=this._onLoad.bind(this),te.onerror=this._onXhrError.bind(this),C.withCredentials&&(te.withCredentials=!0),typeof W.headers=="object"){var ne=W.headers;for(var ae in ne)ne.hasOwnProperty(ae)&&te.setRequestHeader(ae,ne[ae])}if(typeof this._config.headers=="object")for(var ae in ne=this._config.headers)ne.hasOwnProperty(ae)&&te.setRequestHeader(ae,ne[ae]);te.send()},S.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=l.c.kComplete},S.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},S.prototype._onReadyStateChange=function(C){var P=C.target;if(P.readyState===2){if(P.responseURL!=null){var U=this._seekHandler.removeURLParameters(P.responseURL);P.responseURL!==this._currentRequestURL&&U!==this._currentRedirectedURL&&(this._currentRedirectedURL=U,this._onURLRedirect&&this._onURLRedirect(U))}if(P.status>=200&&P.status<=299){if(this._waitForTotalLength)return;this._status=l.c.kBuffering}else{if(this._status=l.c.kError,!this._onError)throw new u.d("RangeLoader: Http code invalid, "+P.status+" "+P.statusText);this._onError(l.b.HTTP_STATUS_CODE_INVALID,{code:P.status,msg:P.statusText})}}},S.prototype._onProgress=function(C){if(this._status!==l.c.kError){if(this._contentLength===null){var P=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,P=!0;var U=C.total;this._internalAbort(),U!=null&U!==0&&(this._totalLength=U)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,P)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var W=C.loaded-this._lastTimeLoaded;this._lastTimeLoaded=C.loaded,this._speedSampler.addBytes(W)}},S.prototype._normalizeSpeed=function(C){var P=this._chunkSizeKBList,U=P.length-1,W=0,te=0,ne=U;if(C<P[0])return P[0];for(;te<=ne;){if((W=te+Math.floor((ne-te)/2))===U||C>=P[W]&&C<P[W+1])return P[W];P[W]<C?te=W+1:ne=W-1}},S.prototype._onLoad=function(C){if(this._status!==l.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var P=this._speedSampler.lastSecondKBps;if(P===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(P=this._speedSampler.currentKBps)),P!==0){var U=this._normalizeSpeed(P);this._currentSpeedNormalized!==U&&(this._currentSpeedNormalized=U,this._currentChunkSizeKB=U)}var W=C.target.response,te=this._range.from+this._receivedLength;this._receivedLength+=W.byteLength;var ne=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():ne=!0,this._onDataArrival&&this._onDataArrival(W,te,this._receivedLength),ne&&(this._status=l.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},S.prototype._onXhrError=function(C){this._status=l.c.kError;var P=0,U=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(P=l.b.EARLY_EOF,U={code:-1,msg:"RangeLoader meet Early-Eof"}):(P=l.b.EXCEPTION,U={code:-1,msg:C.constructor.name+" "+C.type}),!this._onError)throw new u.d(U.msg);this._onError(P,U)},S}(l.a),_=function(){var T=function(S,C){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,U){P.__proto__=U}||function(P,U){for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(P[W]=U[W])})(S,C)};return function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function P(){this.constructor=S}T(S,C),S.prototype=C===null?Object.create(C):(P.prototype=C.prototype,new P)}}(),w=function(T){function S(){var C=T.call(this,"websocket-loader")||this;return C.TAG="WebSocketLoader",C._needStash=!0,C._ws=null,C._requestAbort=!1,C._receivedLength=0,C}return _(S,T),S.isSupported=function(){try{return self.WebSocket!==void 0}catch{return!1}},S.prototype.destroy=function(){this._ws&&this.abort(),T.prototype.destroy.call(this)},S.prototype.open=function(C){try{var P=this._ws=new self.WebSocket(C.url);P.binaryType="arraybuffer",P.onopen=this._onWebSocketOpen.bind(this),P.onclose=this._onWebSocketClose.bind(this),P.onmessage=this._onWebSocketMessage.bind(this),P.onerror=this._onWebSocketError.bind(this),this._status=l.c.kConnecting}catch(W){this._status=l.c.kError;var U={code:W.code,msg:W.message};if(!this._onError)throw new u.d(U.msg);this._onError(l.b.EXCEPTION,U)}},S.prototype.abort=function(){var C=this._ws;!C||C.readyState!==0&&C.readyState!==1||(this._requestAbort=!0,C.close()),this._ws=null,this._status=l.c.kComplete},S.prototype._onWebSocketOpen=function(C){this._status=l.c.kBuffering},S.prototype._onWebSocketClose=function(C){this._requestAbort!==!0?(this._status=l.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},S.prototype._onWebSocketMessage=function(C){var P=this;if(C.data instanceof ArrayBuffer)this._dispatchArrayBuffer(C.data);else if(C.data instanceof Blob){var U=new FileReader;U.onload=function(){P._dispatchArrayBuffer(U.result)},U.readAsArrayBuffer(C.data)}else{this._status=l.c.kError;var W={code:-1,msg:"Unsupported WebSocket message type: "+C.data.constructor.name};if(!this._onError)throw new u.d(W.msg);this._onError(l.b.EXCEPTION,W)}},S.prototype._dispatchArrayBuffer=function(C){var P=C,U=this._receivedLength;this._receivedLength+=P.byteLength,this._onDataArrival&&this._onDataArrival(P,U,this._receivedLength)},S.prototype._onWebSocketError=function(C){this._status=l.c.kError;var P={code:C.code,msg:C.message};if(!this._onError)throw new u.d(P.msg);this._onError(l.b.EXCEPTION,P)},S}(l.a),x=function(){function T(S){this._zeroStart=S||!1}return T.prototype.getConfig=function(S,C){var P={};if(C.from!==0||C.to!==-1){var U=void 0;U=C.to!==-1?"bytes=".concat(C.from.toString(),"-").concat(C.to.toString()):"bytes=".concat(C.from.toString(),"-"),P.Range=U}else this._zeroStart&&(P.Range="bytes=0-");return{url:S,headers:P}},T.prototype.removeURLParameters=function(S){return S},T}(),E=function(){function T(S,C){this._startName=S,this._endName=C}return T.prototype.getConfig=function(S,C){var P=S;if(C.from!==0||C.to!==-1){var U=!0;P.indexOf("?")===-1&&(P+="?",U=!1),U&&(P+="&"),P+="".concat(this._startName,"=").concat(C.from.toString()),C.to!==-1&&(P+="&".concat(this._endName,"=").concat(C.to.toString()))}return{url:P,headers:{}}},T.prototype.removeURLParameters=function(S){var C=S.split("?")[0],P=void 0,U=S.indexOf("?");U!==-1&&(P=S.substring(U+1));var W="";if(P!=null&&P.length>0)for(var te=P.split("&"),ne=0;ne<te.length;ne++){var ae=te[ne].split("="),he=ne>0;ae[0]!==this._startName&&ae[0]!==this._endName&&(he&&(W+="&"),W+=te[ne])}return W.length===0?C:C+"?"+W},T}(),M=function(){function T(S,C,P){this.TAG="IOController",this._config=C,this._extraData=P,this._stashInitialSize=65536,C.stashInitialSize!=null&&C.stashInitialSize>0&&(this._stashInitialSize=C.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=Math.max(this._stashSize,3145728),this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,C.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=S,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(S.url),this._refTotalLength=S.filesize?S.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new s,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return T.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},T.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},T.prototype.isPaused=function(){return this._paused},Object.defineProperty(T.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"extraData",{get:function(){return this._extraData},set:function(S){this._extraData=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(S){this._onDataArrival=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(S){this._onSeeked=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onError",{get:function(){return this._onError},set:function(S){this._onError=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onComplete",{get:function(){return this._onComplete},set:function(S){this._onComplete=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(S){this._onRedirect=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(S){this._onRecoveredEarlyEof=S},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"currentSpeed",{get:function(){return this._loaderClass===v?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),T.prototype._selectSeekHandler=function(){var S=this._config;if(S.seekType==="range")this._seekHandler=new x(this._config.rangeLoadZeroStart);else if(S.seekType==="param"){var C=S.seekParamStart||"bstart",P=S.seekParamEnd||"bend";this._seekHandler=new E(C,P)}else{if(S.seekType!=="custom")throw new u.b("Invalid seekType in config: ".concat(S.seekType));if(typeof S.customSeekHandler!="function")throw new u.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new S.customSeekHandler}},T.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=w;else if(d.isSupported())this._loaderClass=d;else if(f.isSupported())this._loaderClass=f;else{if(!v.isSupported())throw new u.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=v}},T.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},T.prototype.open=function(S){this._currentRange={from:0,to:-1},S&&(this._currentRange.from=S),this._speedSampler.reset(),S||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},T.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},T.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},T.prototype.resume=function(){if(this._paused){this._paused=!1;var S=this._resumeFrom;this._resumeFrom=0,this._internalSeek(S,!0)}},T.prototype.seek=function(S){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(S,!0)},T.prototype._internalSeek=function(S,C){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(C),this._loader.destroy(),this._loader=null;var P={from:S,to:-1};this._currentRange={from:P.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,P),this._onSeeked&&this._onSeeked()},T.prototype.updateUrl=function(S){if(!S||typeof S!="string"||S.length===0)throw new u.b("Url must be a non-empty string!");this._dataSource.url=S},T.prototype._expandBuffer=function(S){for(var C=this._stashSize;C+1048576<S;)C*=2;if((C+=1048576)!==this._bufferSize){var P=new ArrayBuffer(C);if(this._stashUsed>0){var U=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(P,0,C).set(U,0)}this._stashBuffer=P,this._bufferSize=C}},T.prototype._normalizeSpeed=function(S){var C=this._speedNormalizeList,P=C.length-1,U=0,W=0,te=P;if(S<C[0])return C[0];for(;W<=te;){if((U=W+Math.floor((te-W)/2))===P||S>=C[U]&&S<C[U+1])return C[U];C[U]<S?W=U+1:te=U-1}},T.prototype._adjustStashSize=function(S){var C=0;(C=this._config.isLive?S/8:S<512?S:S>=512&&S<=1024?Math.floor(1.5*S):2*S)>8192&&(C=8192);var P=1024*C+1048576;this._bufferSize<P&&this._expandBuffer(P),this._stashSize=1024*C},T.prototype._dispatchChunks=function(S,C){return this._currentRange.to=C+S.byteLength-1,this._onDataArrival(S,C)},T.prototype._onURLRedirect=function(S){this._redirectedURL=S,this._onRedirect&&this._onRedirect(S)},T.prototype._onContentLengthKnown=function(S){S&&this._fullRequestFlag&&(this._totalLength=S,this._fullRequestFlag=!1)},T.prototype._onLoaderChunkArrival=function(S,C,P){if(!this._onDataArrival)throw new u.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(S.byteLength);var U=this._speedSampler.lastSecondKBps;if(U!==0){var W=this._normalizeSpeed(U);this._speedNormalized!==W&&(this._speedNormalized=W,this._adjustStashSize(W))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=C),this._stashUsed+S.byteLength<=this._stashSize)(ae=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(S),this._stashUsed),this._stashUsed+=S.byteLength;else if(ae=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var te=this._stashBuffer.slice(0,this._stashUsed);(he=this._dispatchChunks(te,this._stashByteStart))<te.byteLength?he>0&&(fe=new Uint8Array(te,he),ae.set(fe,0),this._stashUsed=fe.byteLength,this._stashByteStart+=he):(this._stashUsed=0,this._stashByteStart+=he),this._stashUsed+S.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+S.byteLength),ae=new Uint8Array(this._stashBuffer,0,this._bufferSize)),ae.set(new Uint8Array(S),this._stashUsed),this._stashUsed+=S.byteLength}else(he=this._dispatchChunks(S,C))<S.byteLength&&((ne=S.byteLength-he)>this._bufferSize&&(this._expandBuffer(ne),ae=new Uint8Array(this._stashBuffer,0,this._bufferSize)),ae.set(new Uint8Array(S,he),0),this._stashUsed+=ne,this._stashByteStart=C+he);else if(this._stashUsed===0){var ne;(he=this._dispatchChunks(S,C))<S.byteLength&&((ne=S.byteLength-he)>this._bufferSize&&this._expandBuffer(ne),(ae=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(S,he),0),this._stashUsed+=ne,this._stashByteStart=C+he)}else{var ae,he;if(this._stashUsed+S.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+S.byteLength),(ae=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(S),this._stashUsed),this._stashUsed+=S.byteLength,(he=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&he>0){var fe=new Uint8Array(this._stashBuffer,he);ae.set(fe,0)}this._stashUsed-=he,this._stashByteStart+=he}}},T.prototype._flushStashBuffer=function(S){if(this._stashUsed>0){var C=this._stashBuffer.slice(0,this._stashUsed),P=this._dispatchChunks(C,this._stashByteStart),U=C.byteLength-P;if(P<C.byteLength){if(!S){if(P>0){var W=new Uint8Array(this._stashBuffer,0,this._bufferSize),te=new Uint8Array(C,P);W.set(te,0),this._stashUsed=te.byteLength,this._stashByteStart+=P}return 0}a.a.w(this.TAG,"".concat(U," bytes unconsumed data remain when flush buffer, dropped"))}return this._stashUsed=0,this._stashByteStart=0,U}return 0},T.prototype._onLoaderComplete=function(S,C){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},T.prototype._onLoaderError=function(S,C){switch(a.a.e(this.TAG,"Loader error, code = ".concat(C.code,", msg = ").concat(C.msg)),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,S=l.b.UNRECOVERABLE_EARLY_EOF),S){case l.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var P=this._currentRange.to+1;return void(P<this._totalLength&&(a.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(P,!1)))}S=l.b.UNRECOVERABLE_EARLY_EOF;case l.b.UNRECOVERABLE_EARLY_EOF:case l.b.CONNECTING_TIMEOUT:case l.b.HTTP_STATUS_CODE_INVALID:case l.b.EXCEPTION:}if(!this._onError)throw new u.d("IOException: "+C.msg);this._onError(S,C)},T}();r.a=M},function(n,r,i){var o=function(){function a(){}return a.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(s,l){return s.__proto__=l,s},Object.assign=Object.assign||function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(s),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}return l},String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(s,l){var c=l>0?0|l:0;return this.substring(c,c+s.length)===s}}),typeof self.Promise!="function"&&i(21).polyfill()},a}();o.install(),r.a=o},function(n,r,i){var o=i(9),a=i.n(o),s=i(0),l=i(5),c=i(7),u=i(3),h=function(){function d(p){this.TAG="MSEController",this._config=p,this._emitter=new a.a,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onStartStreaming:this._onStartStreaming.bind(this),onEndStreaming:this._onEndStreaming.bind(this),onQualityChange:this._onQualityChange.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._useManagedMediaSource="ManagedMediaSource"in self&&!("MediaSource"in self),this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElementProxy=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]}}return d.prototype.destroy=function(){this._mediaSource&&this.shutdown(),this._mediaSourceObjectURL&&this.revokeObjectURL(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},d.prototype.on=function(p,f){this._emitter.addListener(p,f)},d.prototype.off=function(p,f){this._emitter.removeListener(p,f)},d.prototype.initialize=function(p){if(this._mediaSource)throw new u.a("MediaSource has been attached to an HTMLMediaElement!");this._useManagedMediaSource&&s.a.v(this.TAG,"Using ManagedMediaSource");var f=this._mediaSource=this._useManagedMediaSource?new self.ManagedMediaSource:new self.MediaSource;f.addEventListener("sourceopen",this.e.onSourceOpen),f.addEventListener("sourceended",this.e.onSourceEnded),f.addEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(f.addEventListener("startstreaming",this.e.onStartStreaming),f.addEventListener("endstreaming",this.e.onEndStreaming),f.addEventListener("qualitychange",this.e.onQualityChange)),this._mediaElementProxy=p},d.prototype.shutdown=function(){if(this._mediaSource){var p=this._mediaSource;for(var f in this._sourceBuffers){var m=this._pendingSegments[f];m.splice(0,m.length),this._pendingSegments[f]=null,this._pendingRemoveRanges[f]=null,this._lastInitSegments[f]=null;var b=this._sourceBuffers[f];if(b){if(p.readyState!=="closed"){try{p.removeSourceBuffer(b)}catch(v){s.a.e(this.TAG,v.message)}b.removeEventListener("error",this.e.onSourceBufferError),b.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[f]=null,this._sourceBuffers[f]=null}}if(p.readyState==="open")try{p.endOfStream()}catch(v){s.a.e(this.TAG,v.message)}this._mediaElementProxy=null,p.removeEventListener("sourceopen",this.e.onSourceOpen),p.removeEventListener("sourceended",this.e.onSourceEnded),p.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(p.removeEventListener("startstraming",this.e.onStartStreaming),p.removeEventListener("endstreaming",this.e.onEndStreaming),p.removeEventListener("qualitychange",this.e.onQualityChange)),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._mediaSource=null}},d.prototype.isManagedMediaSource=function(){return this._useManagedMediaSource},d.prototype.getObject=function(){if(!this._mediaSource)throw new u.a("MediaSource has not been initialized yet!");return this._mediaSource},d.prototype.getHandle=function(){if(!this._mediaSource)throw new u.a("MediaSource has not been initialized yet!");return this._mediaSource.handle},d.prototype.getObjectURL=function(){if(!this._mediaSource)throw new u.a("MediaSource has not been initialized yet!");return this._mediaSourceObjectURL==null&&(this._mediaSourceObjectURL=URL.createObjectURL(this._mediaSource)),this._mediaSourceObjectURL},d.prototype.revokeObjectURL=function(){this._mediaSourceObjectURL&&(URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},d.prototype.appendInitSegment=function(p,f){if(f===void 0&&(f=void 0),!this._mediaSource||this._mediaSource.readyState!=="open"||this._mediaSource.streaming===!1)return this._pendingSourceBufferInit.push(p),void this._pendingSegments[p.type].push(p);var m=p,b="".concat(m.container);m.codec&&m.codec.length>0&&(b+=";codecs=".concat(m.codec));var v=!1;if(s.a.v(this.TAG,"Received Initialization Segment, mimeType: "+b),this._lastInitSegments[m.type]=m,b!==this._mimeTypes[m.type]){if(this._mimeTypes[m.type])s.a.v(this.TAG,"Notice: ".concat(m.type," mimeType changed, origin: ").concat(this._mimeTypes[m.type],", target: ").concat(b));else{v=!0;try{var _=this._sourceBuffers[m.type]=this._mediaSource.addSourceBuffer(b);_.addEventListener("error",this.e.onSourceBufferError),_.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(w){return s.a.e(this.TAG,w.message),void this._emitter.emit(c.a.ERROR,{code:w.code,msg:w.message})}}this._mimeTypes[m.type]=b}f||this._pendingSegments[m.type].push(m),v||this._sourceBuffers[m.type]&&!this._sourceBuffers[m.type].updating&&this._doAppendSegments(),l.a.safari&&m.container==="audio/mpeg"&&m.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=m.mediaDuration/1e3,this._updateMediaSourceDuration())},d.prototype.appendMediaSegment=function(p){var f=p;this._pendingSegments[f.type].push(f),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var m=this._sourceBuffers[f.type];!m||m.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},d.prototype.flush=function(){for(var p in this._sourceBuffers)if(this._sourceBuffers[p]){var f=this._sourceBuffers[p];if(this._mediaSource.readyState==="open")try{f.abort()}catch(x){s.a.e(this.TAG,x.message)}var m=this._pendingSegments[p];if(m.splice(0,m.length),this._mediaSource.readyState!=="closed"){for(var b=0;b<f.buffered.length;b++){var v=f.buffered.start(b),_=f.buffered.end(b);this._pendingRemoveRanges[p].push({start:v,end:_})}if(f.updating||this._doRemoveRanges(),l.a.safari){var w=this._lastInitSegments[p];w&&(this._pendingSegments[p].push(w),f.updating||this._doAppendSegments())}}}},d.prototype.endOfStream=function(){var p=this._mediaSource,f=this._sourceBuffers;p&&p.readyState==="open"?f.video&&f.video.updating||f.audio&&f.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,p.endOfStream()):p&&p.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},d.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var p=this._mediaElementProxy.getCurrentTime();for(var f in this._sourceBuffers){var m=this._sourceBuffers[f];if(m){var b=m.buffered;if(b.length>=1&&p-b.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},d.prototype._doCleanupSourceBuffer=function(){var p=this._mediaElementProxy.getCurrentTime();for(var f in this._sourceBuffers){var m=this._sourceBuffers[f];if(m){for(var b=m.buffered,v=!1,_=0;_<b.length;_++){var w=b.start(_),x=b.end(_);if(w<=p&&p<x+3){if(p-w>=this._config.autoCleanupMaxBackwardDuration){v=!0;var E=p-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[f].push({start:w,end:E})}}else x<p&&(v=!0,this._pendingRemoveRanges[f].push({start:w,end:x}))}v&&!m.updating&&this._doRemoveRanges()}}},d.prototype._updateMediaSourceDuration=function(){var p=this._sourceBuffers;if(this._mediaElementProxy.getReadyState()!==0&&this._mediaSource.readyState==="open"&&!(p.video&&p.video.updating||p.audio&&p.audio.updating)){var f=this._mediaSource.duration,m=this._pendingMediaDuration;m>0&&(isNaN(f)||m>f)&&(s.a.v(this.TAG,"Update MediaSource duration from ".concat(f," to ").concat(m)),this._mediaSource.duration=m),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},d.prototype._doRemoveRanges=function(){for(var p in this._pendingRemoveRanges)if(this._sourceBuffers[p]&&!this._sourceBuffers[p].updating)for(var f=this._sourceBuffers[p],m=this._pendingRemoveRanges[p];m.length&&!f.updating;){var b=m.shift();f.remove(b.start,b.end)}},d.prototype._doAppendSegments=function(){var p=this._pendingSegments;for(var f in p)if(this._sourceBuffers[f]&&!this._sourceBuffers[f].updating&&this._mediaSource.streaming!==!1&&p[f].length>0){var m=p[f].shift();if(typeof m.timestampOffset=="number"&&isFinite(m.timestampOffset)){var b=this._sourceBuffers[f].timestampOffset,v=m.timestampOffset/1e3;Math.abs(b-v)>.1&&(s.a.v(this.TAG,"Update MPEG audio timestampOffset from ".concat(b," to ").concat(v)),this._sourceBuffers[f].timestampOffset=v),delete m.timestampOffset}if(!m.data||m.data.byteLength===0)continue;try{this._sourceBuffers[f].appendBuffer(m.data),this._isBufferFull=!1}catch(_){this._pendingSegments[f].unshift(m),_.code===22?(this._isBufferFull||this._emitter.emit(c.a.BUFFER_FULL),this._isBufferFull=!0):(s.a.e(this.TAG,_.message),this._emitter.emit(c.a.ERROR,{code:_.code,msg:_.message}))}}},d.prototype._onSourceOpen=function(){if(s.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var p=this._pendingSourceBufferInit;p.length;){var f=p.shift();this.appendInitSegment(f,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(c.a.SOURCE_OPEN)},d.prototype._onStartStreaming=function(){s.a.v(this.TAG,"ManagedMediaSource onStartStreaming"),this._emitter.emit(c.a.START_STREAMING)},d.prototype._onEndStreaming=function(){s.a.v(this.TAG,"ManagedMediaSource onEndStreaming"),this._emitter.emit(c.a.END_STREAMING)},d.prototype._onQualityChange=function(){s.a.v(this.TAG,"ManagedMediaSource onQualityChange")},d.prototype._onSourceEnded=function(){s.a.v(this.TAG,"MediaSource onSourceEnded")},d.prototype._onSourceClose=function(){s.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose),this._useManagedMediaSource&&(this._mediaSource.removeEventListener("startstraming",this.e.onStartStreaming),this._mediaSource.removeEventListener("endstreaming",this.e.onEndStreaming),this._mediaSource.removeEventListener("qualitychange",this.e.onQualityChange)))},d.prototype._hasPendingSegments=function(){var p=this._pendingSegments;return p.video.length>0||p.audio.length>0},d.prototype._hasPendingRemoveRanges=function(){var p=this._pendingRemoveRanges;return p.video.length>0||p.audio.length>0},d.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(c.a.UPDATE_END)},d.prototype._onSourceBufferError=function(p){s.a.e(this.TAG,"SourceBuffer Error: ".concat(p))},d}();r.a=h},function(n,r,i){var o=i(9),a=i.n(o),s=i(18),l=i.n(s),c=i(0),u=i(8),h=i(13),d=i(1),p=(i(19),i(12)),f=function(){function m(b,v){if(this.TAG="Transmuxer",this._emitter=new a.a,v.enableWorker&&typeof Worker<"u")try{this._worker=l()(19),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,v]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},u.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:u.a.getConfig()})}catch{c.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new h.a(b,v)}else this._controller=new h.a(b,v);if(this._controller){var _=this._controller;_.on(d.a.IO_ERROR,this._onIOError.bind(this)),_.on(d.a.DEMUX_ERROR,this._onDemuxError.bind(this)),_.on(d.a.INIT_SEGMENT,this._onInitSegment.bind(this)),_.on(d.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),_.on(d.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),_.on(d.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),_.on(d.a.MEDIA_INFO,this._onMediaInfo.bind(this)),_.on(d.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),_.on(d.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),_.on(d.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),_.on(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,this._onSynchronousKLVMetadataArrived.bind(this)),_.on(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,this._onAsynchronousKLVMetadataArrived.bind(this)),_.on(d.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),_.on(d.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),_.on(d.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),_.on(d.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),_.on(d.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),_.on(d.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return m.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),u.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},m.prototype.on=function(b,v){this._emitter.addListener(b,v)},m.prototype.off=function(b,v){this._emitter.removeListener(b,v)},m.prototype.hasWorker=function(){return this._worker!=null},m.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},m.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},m.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},m.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},m.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},m.prototype._onInitSegment=function(b,v){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.a.INIT_SEGMENT,b,v)})},m.prototype._onMediaSegment=function(b,v){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.a.MEDIA_SEGMENT,b,v)})},m.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(d.a.LOADING_COMPLETE)})},m.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(d.a.RECOVERED_EARLY_EOF)})},m.prototype._onMediaInfo=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.MEDIA_INFO,b)})},m.prototype._onMetaDataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.METADATA_ARRIVED,b)})},m.prototype._onScriptDataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.SCRIPTDATA_ARRIVED,b)})},m.prototype._onTimedID3MetadataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.TIMED_ID3_METADATA_ARRIVED,b)})},m.prototype._onSynchronousKLVMetadataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,b)})},m.prototype._onAsynchronousKLVMetadataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,b)})},m.prototype._onSMPTE2038MetadataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.SMPTE2038_METADATA_ARRIVED,b)})},m.prototype._onSCTE35MetadataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.SCTE35_METADATA_ARRIVED,b)})},m.prototype._onPESPrivateDataDescriptor=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.PES_PRIVATE_DATA_DESCRIPTOR,b)})},m.prototype._onPESPrivateDataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.PES_PRIVATE_DATA_ARRIVED,b)})},m.prototype._onStatisticsInfo=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.STATISTICS_INFO,b)})},m.prototype._onIOError=function(b,v){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.a.IO_ERROR,b,v)})},m.prototype._onDemuxError=function(b,v){var _=this;Promise.resolve().then(function(){_._emitter.emit(d.a.DEMUX_ERROR,b,v)})},m.prototype._onRecommendSeekpoint=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(d.a.RECOMMEND_SEEKPOINT,b)})},m.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},m.prototype._onWorkerMessage=function(b){var v=b.data,_=v.data;if(v.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(v.msg){case d.a.INIT_SEGMENT:case d.a.MEDIA_SEGMENT:this._emitter.emit(v.msg,_.type,_.data);break;case d.a.LOADING_COMPLETE:case d.a.RECOVERED_EARLY_EOF:this._emitter.emit(v.msg);break;case d.a.MEDIA_INFO:Object.setPrototypeOf(_,p.a.prototype),this._emitter.emit(v.msg,_);break;case d.a.METADATA_ARRIVED:case d.a.SCRIPTDATA_ARRIVED:case d.a.TIMED_ID3_METADATA_ARRIVED:case d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED:case d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED:case d.a.SMPTE2038_METADATA_ARRIVED:case d.a.SCTE35_METADATA_ARRIVED:case d.a.PES_PRIVATE_DATA_DESCRIPTOR:case d.a.PES_PRIVATE_DATA_ARRIVED:case d.a.STATISTICS_INFO:this._emitter.emit(v.msg,_);break;case d.a.IO_ERROR:case d.a.DEMUX_ERROR:this._emitter.emit(v.msg,_.type,_.info);break;case d.a.RECOMMEND_SEEKPOINT:this._emitter.emit(v.msg,_);break;case"logcat_callback":c.a.emitter.emit("log",_.type,_.logcat)}},m}();r.a=f},function(n,r,i){function o(c){var u={};function h(p){if(u[p])return u[p].exports;var f=u[p]={i:p,l:!1,exports:{}};return c[p].call(f.exports,f,f.exports,h),f.l=!0,f.exports}h.m=c,h.c=u,h.i=function(p){return p},h.d=function(p,f,m){h.o(p,f)||Object.defineProperty(p,f,{configurable:!1,enumerable:!0,get:m})},h.r=function(p){Object.defineProperty(p,"__esModule",{value:!0})},h.n=function(p){var f=p&&p.__esModule?function(){return p.default}:function(){return p};return h.d(f,"a",f),f},h.o=function(p,f){return Object.prototype.hasOwnProperty.call(p,f)},h.p="/",h.oe=function(p){throw p};var d=h(h.s=ENTRY_MODULE);return d.default||d}function a(c){return(c+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(c,u,h){var d={};d[h]=[];var p=u.toString(),f=p.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!f)return d;for(var m,b=f[1],v=new RegExp("(\\\\n|\\W)"+a(b)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");m=v.exec(p);)m[3]!=="dll-reference"&&d[h].push(m[3]);for(v=new RegExp("\\("+a(b)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");m=v.exec(p);)c[m[2]]||(d[h].push(m[1]),c[m[2]]=i(m[1]).m),d[m[2]]=d[m[2]]||[],d[m[2]].push(m[4]);for(var _,w=Object.keys(d),x=0;x<w.length;x++)for(var E=0;E<d[w[x]].length;E++)_=d[w[x]][E],isNaN(1*_)||(d[w[x]][E]=1*d[w[x]][E]);return d}function l(c){return Object.keys(c).reduce(function(u,h){return u||c[h].length>0},!1)}n.exports=function(c,u){u=u||{};var h={main:i.m},d=u.all?{main:Object.keys(h.main)}:function(v,_){for(var w={main:[_]},x={main:[]},E={main:{}};l(w);)for(var M=Object.keys(w),T=0;T<M.length;T++){var S=M[T],C=w[S].pop();if(E[S]=E[S]||{},!E[S][C]&&v[S][C]){E[S][C]=!0,x[S]=x[S]||[],x[S].push(C);for(var P=s(v,v[S][C],S),U=Object.keys(P),W=0;W<U.length;W++)w[U[W]]=w[U[W]]||[],w[U[W]]=w[U[W]].concat(P[U[W]])}}return x}(h,c),p="";Object.keys(d).filter(function(v){return v!=="main"}).forEach(function(v){for(var _=0;d[v][_];)_++;d[v].push(_),h[v][_]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",p=p+"var "+v+" = ("+o.toString().replace("ENTRY_MODULE",JSON.stringify(_))+")({"+d[v].map(function(w){return JSON.stringify(w)+": "+h[v][w].toString()}).join(",")+`});
`}),p=p+"new (("+o.toString().replace("ENTRY_MODULE",JSON.stringify(c))+")({"+d.main.map(function(v){return JSON.stringify(v)+": "+h.main[v].toString()}).join(",")+"}))(self);";var f=new self.Blob([p],{type:"text/javascript"});if(u.bare)return f;var m=(self.URL||self.webkitURL||self.mozURL||self.msURL).createObjectURL(f),b=new self.Worker(m);return b.objectURL=m,b}},function(n,r,i){i.r(r),i(0);var o=i(8),a=i(15),s=i(13),l=i(1);r.default=function(c){var u=null,h=(function(ne,ae){c.postMessage({msg:"logcat_callback",data:{type:ne,logcat:ae}})}).bind(this);function d(ne,ae){var he={msg:l.a.INIT_SEGMENT,data:{type:ne,data:ae}};c.postMessage(he,[ae.data])}function p(ne,ae){var he={msg:l.a.MEDIA_SEGMENT,data:{type:ne,data:ae}};c.postMessage(he,[ae.data])}function f(){var ne={msg:l.a.LOADING_COMPLETE};c.postMessage(ne)}function m(){var ne={msg:l.a.RECOVERED_EARLY_EOF};c.postMessage(ne)}function b(ne){var ae={msg:l.a.MEDIA_INFO,data:ne};c.postMessage(ae)}function v(ne){var ae={msg:l.a.METADATA_ARRIVED,data:ne};c.postMessage(ae)}function _(ne){var ae={msg:l.a.SCRIPTDATA_ARRIVED,data:ne};c.postMessage(ae)}function w(ne){var ae={msg:l.a.TIMED_ID3_METADATA_ARRIVED,data:ne};c.postMessage(ae)}function x(ne){var ae={msg:l.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,data:ne};c.postMessage(ae)}function E(ne){var ae={msg:l.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,data:ne};c.postMessage(ae)}function M(ne){var ae={msg:l.a.SMPTE2038_METADATA_ARRIVED,data:ne};c.postMessage(ae)}function T(ne){var ae={msg:l.a.SCTE35_METADATA_ARRIVED,data:ne};c.postMessage(ae)}function S(ne){var ae={msg:l.a.PES_PRIVATE_DATA_DESCRIPTOR,data:ne};c.postMessage(ae)}function C(ne){var ae={msg:l.a.PES_PRIVATE_DATA_ARRIVED,data:ne};c.postMessage(ae)}function P(ne){var ae={msg:l.a.STATISTICS_INFO,data:ne};c.postMessage(ae)}function U(ne,ae){c.postMessage({msg:l.a.IO_ERROR,data:{type:ne,info:ae}})}function W(ne,ae){c.postMessage({msg:l.a.DEMUX_ERROR,data:{type:ne,info:ae}})}function te(ne){c.postMessage({msg:l.a.RECOMMEND_SEEKPOINT,data:ne})}a.a.install(),c.addEventListener("message",function(ne){switch(ne.data.cmd){case"init":(u=new s.a(ne.data.param[0],ne.data.param[1])).on(l.a.IO_ERROR,U.bind(this)),u.on(l.a.DEMUX_ERROR,W.bind(this)),u.on(l.a.INIT_SEGMENT,d.bind(this)),u.on(l.a.MEDIA_SEGMENT,p.bind(this)),u.on(l.a.LOADING_COMPLETE,f.bind(this)),u.on(l.a.RECOVERED_EARLY_EOF,m.bind(this)),u.on(l.a.MEDIA_INFO,b.bind(this)),u.on(l.a.METADATA_ARRIVED,v.bind(this)),u.on(l.a.SCRIPTDATA_ARRIVED,_.bind(this)),u.on(l.a.TIMED_ID3_METADATA_ARRIVED,w.bind(this)),u.on(l.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,x.bind(this)),u.on(l.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,E.bind(this)),u.on(l.a.SMPTE2038_METADATA_ARRIVED,M.bind(this)),u.on(l.a.SCTE35_METADATA_ARRIVED,T.bind(this)),u.on(l.a.PES_PRIVATE_DATA_DESCRIPTOR,S.bind(this)),u.on(l.a.PES_PRIVATE_DATA_ARRIVED,C.bind(this)),u.on(l.a.STATISTICS_INFO,P.bind(this)),u.on(l.a.RECOMMEND_SEEKPOINT,te.bind(this));break;case"destroy":u&&(u.destroy(),u=null),c.postMessage({msg:"destroyed"});break;case"start":u.start();break;case"stop":u.stop();break;case"seek":u.seek(ne.data.param);break;case"pause":u.pause();break;case"resume":u.resume();break;case"logging_config":var ae=ne.data.param;o.a.applyConfig(ae),ae.enableCallback===!0?o.a.addLogListener(h):o.a.removeLogListener(h)}})}},function(n,r,i){n.exports=i(25).default},function(n,r,i){(function(o,a){/*!
             * @overview es6-promise - a tiny implementation of Promises/A+.
             * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
             * @license   Licensed under MIT license
             *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
             * @version   v4.2.8+1e68dce6
             */var s;s=function(){function l(de){return typeof de=="function"}var c=Array.isArray?Array.isArray:function(de){return Object.prototype.toString.call(de)==="[object Array]"},u=0,h=void 0,d=void 0,p=function(de,be){x[u]=de,x[u+1]=be,(u+=2)===2&&(d?d(E):P())},f=typeof window<"u"?window:void 0,m=f||{},b=m.MutationObserver||m.WebKitMutationObserver,v=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var de=setTimeout;return function(){return de(E,1)}}var x=new Array(1e3);function E(){for(var de=0;de<u;de+=2)(0,x[de])(x[de+1]),x[de]=void 0,x[de+1]=void 0;u=0}var M,T,S,C,P=void 0;function U(de,be){var Le=this,Ve=new this.constructor(ne);Ve[te]===void 0&&me(Ve);var He=Le._state;if(He){var st=arguments[He-1];p(function(){return K(He,Ve,st,Le._result)})}else H(Le,Ve,de,be);return Ve}function W(de){if(de&&typeof de=="object"&&de.constructor===this)return de;var be=new this(ne);return he(be,de),be}v?P=function(){return o.nextTick(E)}:b?(T=0,S=new b(E),C=document.createTextNode(""),S.observe(C,{characterData:!0}),P=function(){C.data=T=++T%2}):_?((M=new MessageChannel).port1.onmessage=E,P=function(){return M.port2.postMessage(0)}):P=f===void 0?function(){try{var de=Function("return this")().require("vertx");return(h=de.runOnLoop||de.runOnContext)!==void 0?function(){h(E)}:w()}catch{return w()}}():w();var te=Math.random().toString(36).substring(2);function ne(){}function ae(de,be,Le){be.constructor===de.constructor&&Le===U&&be.constructor.resolve===W?function(Ve,He){He._state===1?le(Ve,He._result):He._state===2?N(Ve,He._result):H(He,void 0,function(st){return he(Ve,st)},function(st){return N(Ve,st)})}(de,be):Le===void 0?le(de,be):l(Le)?function(Ve,He,st){p(function(Rt){var Et=!1,Ot=function(Kt,bt,rt,We){try{Kt.call(bt,rt,We)}catch(nn){return nn}}(st,He,function(Kt){Et||(Et=!0,He!==Kt?he(Rt,Kt):le(Rt,Kt))},function(Kt){Et||(Et=!0,N(Rt,Kt))},Rt._label);!Et&&Ot&&(Et=!0,N(Rt,Ot))},Ve)}(de,be,Le):le(de,be)}function he(de,be){if(de===be)N(de,new TypeError("You cannot resolve a promise with itself"));else if(He=typeof(Ve=be),Ve===null||He!=="object"&&He!=="function")le(de,be);else{var Le=void 0;try{Le=be.then}catch(st){return void N(de,st)}ae(de,be,Le)}var Ve,He}function fe(de){de._onerror&&de._onerror(de._result),F(de)}function le(de,be){de._state===void 0&&(de._result=be,de._state=1,de._subscribers.length!==0&&p(F,de))}function N(de,be){de._state===void 0&&(de._state=2,de._result=be,p(fe,de))}function H(de,be,Le,Ve){var He=de._subscribers,st=He.length;de._onerror=null,He[st]=be,He[st+1]=Le,He[st+2]=Ve,st===0&&de._state&&p(F,de)}function F(de){var be=de._subscribers,Le=de._state;if(be.length!==0){for(var Ve=void 0,He=void 0,st=de._result,Rt=0;Rt<be.length;Rt+=3)Ve=be[Rt],He=be[Rt+Le],Ve?K(Le,Ve,He,st):He(st);de._subscribers.length=0}}function K(de,be,Le,Ve){var He=l(Le),st=void 0,Rt=void 0,Et=!0;if(He){try{st=Le(Ve)}catch(Ot){Et=!1,Rt=Ot}if(be===st)return void N(be,new TypeError("A promises callback cannot return that same promise."))}else st=Ve;be._state!==void 0||(He&&Et?he(be,st):Et===!1?N(be,Rt):de===1?le(be,st):de===2&&N(be,st))}var ye=0;function me(de){de[te]=ye++,de._state=void 0,de._result=void 0,de._subscribers=[]}var Pe=function(){function de(be,Le){this._instanceConstructor=be,this.promise=new be(ne),this.promise[te]||me(this.promise),c(Le)?(this.length=Le.length,this._remaining=Le.length,this._result=new Array(this.length),this.length===0?le(this.promise,this._result):(this.length=this.length||0,this._enumerate(Le),this._remaining===0&&le(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return de.prototype._enumerate=function(be){for(var Le=0;this._state===void 0&&Le<be.length;Le++)this._eachEntry(be[Le],Le)},de.prototype._eachEntry=function(be,Le){var Ve=this._instanceConstructor,He=Ve.resolve;if(He===W){var st=void 0,Rt=void 0,Et=!1;try{st=be.then}catch(Kt){Et=!0,Rt=Kt}if(st===U&&be._state!==void 0)this._settledAt(be._state,Le,be._result);else if(typeof st!="function")this._remaining--,this._result[Le]=be;else if(Ve===Ue){var Ot=new Ve(ne);Et?N(Ot,Rt):ae(Ot,be,st),this._willSettleAt(Ot,Le)}else this._willSettleAt(new Ve(function(Kt){return Kt(be)}),Le)}else this._willSettleAt(He(be),Le)},de.prototype._settledAt=function(be,Le,Ve){var He=this.promise;He._state===void 0&&(this._remaining--,be===2?N(He,Ve):this._result[Le]=Ve),this._remaining===0&&le(He,this._result)},de.prototype._willSettleAt=function(be,Le){var Ve=this;H(be,void 0,function(He){return Ve._settledAt(1,Le,He)},function(He){return Ve._settledAt(2,Le,He)})},de}(),Ue=function(){function de(be){this[te]=ye++,this._result=this._state=void 0,this._subscribers=[],ne!==be&&(typeof be!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof de?function(Le,Ve){try{Ve(function(He){he(Le,He)},function(He){N(Le,He)})}catch(He){N(Le,He)}}(this,be):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return de.prototype.catch=function(be){return this.then(null,be)},de.prototype.finally=function(be){var Le=this.constructor;return l(be)?this.then(function(Ve){return Le.resolve(be()).then(function(){return Ve})},function(Ve){return Le.resolve(be()).then(function(){throw Ve})}):this.then(be,be)},de}();return Ue.prototype.then=U,Ue.all=function(de){return new Pe(this,de).promise},Ue.race=function(de){var be=this;return c(de)?new be(function(Le,Ve){for(var He=de.length,st=0;st<He;st++)be.resolve(de[st]).then(Le,Ve)}):new be(function(Le,Ve){return Ve(new TypeError("You must pass an array to race."))})},Ue.resolve=W,Ue.reject=function(de){var be=new this(ne);return N(be,de),be},Ue._setScheduler=function(de){d=de},Ue._setAsap=function(de){p=de},Ue._asap=p,Ue.polyfill=function(){var de=void 0;if(a!==void 0)de=a;else if(typeof self<"u")de=self;else try{de=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=de.Promise;if(be){var Le=null;try{Le=Object.prototype.toString.call(be.resolve())}catch{}if(Le==="[object Promise]"&&!be.cast)return}de.Promise=Ue},Ue.Promise=Ue,Ue},n.exports=s()}).call(this,i(22),i(23))},function(n,r){var i,o,a=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(_){if(i===setTimeout)return setTimeout(_,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(_,0);try{return i(_,0)}catch{try{return i.call(null,_,0)}catch{return i.call(this,_,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:s}catch{i=s}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var u,h=[],d=!1,p=-1;function f(){d&&u&&(d=!1,u.length?h=u.concat(h):p=-1,h.length&&m())}function m(){if(!d){var _=c(f);d=!0;for(var w=h.length;w;){for(u=h,h=[];++p<w;)u&&u[p].run();p=-1,w=h.length}u=null,d=!1,function(x){if(o===clearTimeout)return clearTimeout(x);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}(_)}}function b(_,w){this.fun=_,this.array=w}function v(){}a.nextTick=function(_){var w=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)w[x-1]=arguments[x];h.push(new b(_,w)),h.length!==1||d||c(m)},b.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(_){return[]},a.binding=function(_){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(_){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){i.r(r);var o=i(0),a=i(8),s=i(3),l=i(7),c=i(16),u=i(17),h=i(1),d=i(4),p=i(10);r.default=function(f){var m="PlayerEngineWorker",b=(function(N,H){f.postMessage({msg:"logcat_callback",type:N,logcat:H})}).bind(void 0),v=null,_=null,w=null,x=null,E=!1,M=!1,T=0,S=0,C=!1;function P(){w&&(w.shutdown(),w.destroy(),w=null)}function U(){if(v==null||_==null)throw new s.a("Worker not initialized");if(x)throw new s.a("Transmuxer has been initialized");M||(!_.deferLoadAfterSourceOpen||E?((x=new u.a(v,_)).on(h.a.INIT_SEGMENT,function(N,H){w.appendInitSegment(H)}),x.on(h.a.MEDIA_SEGMENT,function(N,H){w.appendMediaSegment(H),f.postMessage({msg:"buffered_position_changed",buffered_position_milliseconds:H.info.endDts})}),x.on(h.a.LOADING_COMPLETE,function(){w.endOfStream(),f.postMessage({msg:"player_event",event:d.a.LOADING_COMPLETE})}),x.on(h.a.RECOVERED_EARLY_EOF,function(){f.postMessage({msg:"player_event",event:d.a.RECOVERED_EARLY_EOF})}),x.on(h.a.IO_ERROR,function(N,H){f.postMessage({msg:"player_event",event:d.a.ERROR,error_type:p.b.NETWORK_ERROR,error_detail:N,info:H})}),x.on(h.a.DEMUX_ERROR,function(N,H){f.postMessage({msg:"player_event",event:d.a.ERROR,error_type:p.b.MEDIA_ERROR,error_detail:N,info:H})}),x.on(h.a.MEDIA_INFO,function(N){fe(h.a.MEDIA_INFO,N)}),x.on(h.a.STATISTICS_INFO,function(N){fe(h.a.STATISTICS_INFO,N)}),x.on(h.a.RECOMMEND_SEEKPOINT,function(N){var H;H=N,f.postMessage({msg:"transmuxing_event",event:h.a.RECOMMEND_SEEKPOINT,milliseconds:H})}),x.on(h.a.METADATA_ARRIVED,function(N){le(d.a.METADATA_ARRIVED,N)}),x.on(h.a.SCRIPTDATA_ARRIVED,function(N){le(d.a.SCRIPTDATA_ARRIVED,N)}),x.on(h.a.TIMED_ID3_METADATA_ARRIVED,function(N){le(d.a.TIMED_ID3_METADATA_ARRIVED,N)}),x.on(h.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(N){le(d.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,N)}),x.on(h.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(N){le(d.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,N)}),x.on(h.a.SMPTE2038_METADATA_ARRIVED,function(N){le(d.a.SMPTE2038_METADATA_ARRIVED,N)}),x.on(h.a.SCTE35_METADATA_ARRIVED,function(N){le(d.a.SCTE35_METADATA_ARRIVED,N)}),x.on(h.a.PES_PRIVATE_DATA_DESCRIPTOR,function(N){le(d.a.PES_PRIVATE_DATA_DESCRIPTOR,N)}),x.on(h.a.PES_PRIVATE_DATA_ARRIVED,function(N){le(d.a.PES_PRIVATE_DATA_ARRIVED,N)}),x.open()):M=!0)}function W(){w&&w.flush(),x&&(x.close(),x.destroy(),x=null)}function te(){E=!0,M&&(M=!1,U())}function ne(){f.postMessage({msg:"mse_event",event:l.a.UPDATE_END})}function ae(){o.a.v(m,"MSE SourceBuffer is full, report to main thread"),f.postMessage({msg:"mse_event",event:l.a.BUFFER_FULL})}function he(N){f.postMessage({msg:"player_event",event:d.a.ERROR,error_type:p.b.MEDIA_ERROR,error_detail:p.b.MEDIA_MSE_ERROR,info:N})}function fe(N,H){f.postMessage({msg:"transmuxing_event",event:N,info:H})}function le(N,H){f.postMessage({msg:"player_event",event:N,extraData:H})}f.addEventListener("message",function(N){if(!C){var H=N.data;switch(H.cmd){case"logging_config":var F=H;a.a.applyConfig(F.logging_config),F.logging_config.enableCallback===!0?a.a.addLogListener(b):a.a.removeLogListener(b);break;case"init":v=(F=H).media_data_source,_=F.config;break;case"destroy":x&&W(),w&&P(),C=!0,f.postMessage({msg:"destroyed"});break;case"initialize_mse":(function(){o.a.v(m,"Initializing MediaSource in DedicatedWorker"),(w=new c.a(_)).on(l.a.SOURCE_OPEN,te.bind(this)),w.on(l.a.UPDATE_END,ne.bind(this)),w.on(l.a.BUFFER_FULL,ae.bind(this)),w.on(l.a.ERROR,he.bind(this)),w.initialize({getCurrentTime:function(){return T},getReadyState:function(){return S}});var K=w.getHandle();f.postMessage({msg:"mse_init",handle:K},[K])})();break;case"shutdown_mse":P();break;case"load":U();break;case"unload":W();break;case"unbuffered_seek":F=H,w.flush(),x.seek(F.milliseconds);break;case"timeupdate":T=(F=H).current_time;break;case"readystatechange":S=(F=H).ready_state;break;case"pause_transmuxer":x.pause();break;case"resume_transmuxer":x.resume()}}})}},function(n,r,i){i.r(r);var o=i(15),a=i(14),s={enableWorker:!1,enableWorkerForMSE:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyChasingOnPaused:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,liveSync:!1,liveSyncMaxLatency:1.2,liveSyncTargetLatency:.8,liveSyncPlaybackRate:1.2,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function l(){return Object.assign({},s)}var c=function(){function N(){}return N.supportMSEH264Playback=function(){var H=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),F=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');return H||F},N.supportMSEH265Playback=function(){var H=self.MediaSource&&self.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"'),F=self.ManagedMediaSource&&self.ManagedMediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');return H||F},N.supportNetworkStreamIO=function(){var H=new a.a({},l()),F=H.loaderType;return H.destroy(),F=="fetch-stream-loader"||F=="xhr-moz-chunked-loader"},N.getNetworkLoaderTypeName=function(){var H=new a.a({},l()),F=H.loaderType;return H.destroy(),F},N.supportNativeMediaPlayback=function(H){N.videoElement==null&&(N.videoElement=window.document.createElement("video"));var F=N.videoElement.canPlayType(H);return F==="probably"||F=="maybe"},N.getFeatureList=function(){var H={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return H.msePlayback=N.supportMSEH264Playback(),H.networkStreamIO=N.supportNetworkStreamIO(),H.networkLoaderName=N.getNetworkLoaderTypeName(),H.mseLivePlayback=H.msePlayback&&H.networkStreamIO,H.mseH265Playback=N.supportMSEH265Playback(),H.nativeMP4H264Playback=N.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),H.nativeMP4H265Playback=N.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),H.nativeWebmVP8Playback=N.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),H.nativeWebmVP9Playback=N.supportNativeMediaPlayback('video/webm; codecs="vp9"'),H},N}(),u=i(2),h=i(0),d=i(9),p=i.n(d),f=i(16),m=i(4),b=i(17),v=i(7),_=i(10),w=i(3),x=i(1),E=i(5),M=i(11),T=function(){function N(H,F,K){this.TAG="SeekingHandler",this._config=null,this._media_element=null,this._always_seek_keyframe=!1,this._on_unbuffered_seek=null,this._request_set_current_time=!1,this._seek_request_record_clocktime=null,this._idr_sample_list=new M.a,this.e=null,this._config=H,this._media_element=F,this._on_unbuffered_seek=K,this.e={onMediaSeeking:this._onMediaSeeking.bind(this)};var ye=E.a.chrome&&(E.a.version.major<50||E.a.version.major===50&&E.a.version.build<2661);this._always_seek_keyframe=!!(ye||E.a.msedge||E.a.msie),this._always_seek_keyframe&&(this._config.accurateSeek=!1),this._media_element.addEventListener("seeking",this.e.onMediaSeeking)}return N.prototype.destroy=function(){this._idr_sample_list.clear(),this._idr_sample_list=null,this._media_element.removeEventListener("seeking",this.e.onMediaSeeking),this._media_element=null,this._on_unbuffered_seek=null},N.prototype.seek=function(H){var F=this._isPositionBuffered(H),K=!1;if(H<1&&this._media_element.buffered.length>0){var ye=this._media_element.buffered.start(0);(ye<1&&H<ye||E.a.safari)&&(K=!0,H=E.a.safari?.1:ye)}if(K)this.directSeek(H);else if(F)if(this._always_seek_keyframe){var me=this._getNearestKeyframe(Math.floor(1e3*H));me!=null&&(H=me.dts/1e3),this.directSeek(H)}else this.directSeek(H);else this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*H)),this._config.accurateSeek&&this.directSeek(H)},N.prototype.directSeek=function(H){this._request_set_current_time=!0,this._media_element.currentTime=H},N.prototype.appendSyncPoints=function(H){this._idr_sample_list.appendArray(H)},N.prototype._onMediaSeeking=function(H){if(this._request_set_current_time)this._request_set_current_time=!1;else{var F=this._media_element.currentTime,K=this._media_element.buffered;if(F<1&&K.length>0){var ye=K.start(0);if(ye<1&&F<ye||E.a.safari){var me=E.a.safari?.1:ye;return void this.directSeek(me)}}if(this._isPositionBuffered(F)){if(this._always_seek_keyframe){var Pe=this._getNearestKeyframe(Math.floor(1e3*F));Pe!=null&&(F=Pe.dts/1e3,this.directSeek(F))}}else this._seek_request_record_clocktime=N._getClockTime(),window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)}},N.prototype._pollAndApplyUnbufferedSeek=function(){if(this._seek_request_record_clocktime!=null)if(this._seek_request_record_clocktime<=N._getClockTime()-100){var H=this._media_element.currentTime;this._seek_request_record_clocktime=null,this._isPositionBuffered(H)||(this._idr_sample_list.clear(),this._on_unbuffered_seek(Math.floor(1e3*H)),this._config.accurateSeek&&this.directSeek(H))}else window.setTimeout(this._pollAndApplyUnbufferedSeek.bind(this),50)},N.prototype._isPositionBuffered=function(H){for(var F=this._media_element.buffered,K=0;K<F.length;K++){var ye=F.start(K),me=F.end(K);if(H>=ye&&H<me)return!0}return!1},N.prototype._getNearestKeyframe=function(H){return this._idr_sample_list.getLastSyncPointBeforeDts(H)},N._getClockTime=function(){return self.performance&&self.performance.now?self.performance.now():Date.now()},N}(),S=function(){function N(H,F,K,ye){this.TAG="LoadingController",this._config=null,this._media_element=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null,this._paused=!1,this.e=null,this._config=H,this._media_element=F,this._on_pause_transmuxer=K,this._on_resume_transmuxer=ye,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)}}return N.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this.e=null,this._media_element=null,this._config=null,this._on_pause_transmuxer=null,this._on_resume_transmuxer=null},N.prototype.notifyBufferedPositionChanged=function(H){!this._config.isLive&&this._config.lazyLoad&&(H==null?this._suspendTransmuxerIfNeeded():this._suspendTransmuxerIfBufferedPositionExceeded(H))},N.prototype._onMediaTimeUpdate=function(H){this._paused&&this._resumeTransmuxerIfNeeded()},N.prototype._suspendTransmuxerIfNeeded=function(){for(var H=this._media_element.buffered,F=this._media_element.currentTime,K=0,ye=0;ye<H.length;ye++){var me=H.start(ye),Pe=H.end(ye);if(me<=F&&F<Pe){K=Pe;break}}K>0&&this._suspendTransmuxerIfBufferedPositionExceeded(K)},N.prototype._suspendTransmuxerIfBufferedPositionExceeded=function(H){H>=this._media_element.currentTime+this._config.lazyLoadMaxDuration&&!this._paused&&(h.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this.suspendTransmuxer(),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate))},N.prototype.suspendTransmuxer=function(){this._paused=!0,this._on_pause_transmuxer()},N.prototype._resumeTransmuxerIfNeeded=function(){for(var H=this._media_element.buffered,F=this._media_element.currentTime,K=this._config.lazyLoadRecoverDuration,ye=!1,me=0;me<H.length;me++){var Pe=H.start(me),Ue=H.end(me);if(F>=Pe&&F<Ue){F>=Ue-K&&(ye=!0);break}}ye&&(h.a.v(this.TAG,"Continue loading from paused position"),this.resumeTransmuxer(),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate))},N.prototype.resumeTransmuxer=function(){this._paused=!1,this._on_resume_transmuxer()},N}(),C=function(){function N(H,F){this.TAG="StartupStallJumper",this._media_element=null,this._on_direct_seek=null,this._canplay_received=!1,this.e=null,this._media_element=H,this._on_direct_seek=F,this.e={onMediaCanPlay:this._onMediaCanPlay.bind(this),onMediaStalled:this._onMediaStalled.bind(this),onMediaProgress:this._onMediaProgress.bind(this)},this._media_element.addEventListener("canplay",this.e.onMediaCanPlay),this._media_element.addEventListener("stalled",this.e.onMediaStalled),this._media_element.addEventListener("progress",this.e.onMediaProgress)}return N.prototype.destroy=function(){this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay),this._media_element.removeEventListener("stalled",this.e.onMediaStalled),this._media_element.removeEventListener("progress",this.e.onMediaProgress),this._media_element=null,this._on_direct_seek=null},N.prototype._onMediaCanPlay=function(H){this._canplay_received=!0,this._media_element.removeEventListener("canplay",this.e.onMediaCanPlay)},N.prototype._onMediaStalled=function(H){this._detectAndFixStuckPlayback(!0)},N.prototype._onMediaProgress=function(H){this._detectAndFixStuckPlayback()},N.prototype._detectAndFixStuckPlayback=function(H){var F=this._media_element,K=F.buffered;H||!this._canplay_received||F.readyState<2?K.length>0&&F.currentTime<K.start(0)&&(h.a.w(this.TAG,"Playback seems stuck at ".concat(F.currentTime,", seek to ").concat(K.start(0))),this._on_direct_seek(K.start(0)),this._media_element.removeEventListener("progress",this.e.onMediaProgress)):this._media_element.removeEventListener("progress",this.e.onMediaProgress)},N}(),P=function(){function N(H,F,K){this._config=null,this._media_element=null,this._on_direct_seek=null,this._config=H,this._media_element=F,this._on_direct_seek=K}return N.prototype.destroy=function(){this._on_direct_seek=null,this._media_element=null,this._config=null},N.prototype.notifyBufferedRangeUpdate=function(){this._chaseLiveLatency()},N.prototype._chaseLiveLatency=function(){var H=this._media_element.buffered,F=this._media_element.currentTime,K=this._media_element.paused;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&H.length!=0&&(this._config.liveBufferLatencyChasingOnPaused||!K)){var ye=H.end(H.length-1);if(ye>this._config.liveBufferLatencyMaxLatency&&ye-F>this._config.liveBufferLatencyMaxLatency){var me=ye-this._config.liveBufferLatencyMinRemain;this._on_direct_seek(me)}}},N}(),U=function(){function N(H,F){this._config=null,this._media_element=null,this.e=null,this._config=H,this._media_element=F,this.e={onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this)},this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate)}return N.prototype.destroy=function(){this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element=null,this._config=null},N.prototype._onMediaTimeUpdate=function(H){if(this._config.isLive&&this._config.liveSync){var F=this._getCurrentLatency();if(F>this._config.liveSyncMaxLatency){var K=Math.min(2,Math.max(1,this._config.liveSyncPlaybackRate));this._media_element.playbackRate=K}else F>this._config.liveSyncTargetLatency||this._media_element.playbackRate!==1&&this._media_element.playbackRate!==0&&(this._media_element.playbackRate=1)}},N.prototype._getCurrentLatency=function(){if(!this._media_element)return 0;var H=this._media_element.buffered,F=this._media_element.currentTime;return H.length==0?0:H.end(H.length-1)-F},N}(),W=function(){function N(H,F){this.TAG="PlayerEngineMainThread",this._emitter=new d,this._media_element=null,this._mse_controller=null,this._transmuxer=null,this._pending_seek_time=null,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._mse_source_opened=!1,this._has_pending_load=!1,this._loaded_metadata_received=!1,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=H,this._config=l(),typeof F=="object"&&Object.assign(this._config,F),H.isLive===!0&&(this._config.isLive=!0),this.e={onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this)}}return N.prototype.destroy=function(){this._emitter.emit(m.a.DESTROYING),this._transmuxer&&this.unload(),this._media_element&&this.detachMediaElement(),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(H,F){var K=this;this._emitter.addListener(H,F),H===m.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return K._emitter.emit(m.a.MEDIA_INFO,K.mediaInfo)}):H==m.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return K._emitter.emit(m.a.STATISTICS_INFO,K.statisticsInfo)})},N.prototype.off=function(H,F){this._emitter.removeListener(H,F)},N.prototype.attachMediaElement=function(H){var F=this;this._media_element=H,H.src="",H.removeAttribute("src"),H.srcObject=null,H.load(),H.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._mse_controller=new f.a(this._config),this._mse_controller.on(v.a.UPDATE_END,this._onMSEUpdateEnd.bind(this)),this._mse_controller.on(v.a.BUFFER_FULL,this._onMSEBufferFull.bind(this)),this._mse_controller.on(v.a.SOURCE_OPEN,this._onMSESourceOpen.bind(this)),this._mse_controller.on(v.a.ERROR,this._onMSEError.bind(this)),this._mse_controller.on(v.a.START_STREAMING,this._onMSEStartStreaming.bind(this)),this._mse_controller.on(v.a.END_STREAMING,this._onMSEEndStreaming.bind(this)),this._mse_controller.initialize({getCurrentTime:function(){return F._media_element.currentTime},getReadyState:function(){return F._media_element.readyState}}),this._mse_controller.isManagedMediaSource()?(H.disableRemotePlayback=!0,H.srcObject=this._mse_controller.getObject()):H.src=this._mse_controller.getObjectURL()},N.prototype.detachMediaElement=function(){this._media_element&&(this._mse_controller.shutdown(),this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null,this._mse_controller.revokeObjectURL()),this._mse_controller&&(this._mse_controller.destroy(),this._mse_controller=null)},N.prototype.load=function(){var H=this;if(!this._media_element)throw new w.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new w.a("load() has been called, please call unload() first!");this._has_pending_load||(!this._config.deferLoadAfterSourceOpen||this._mse_source_opened?(this._transmuxer=new b.a(this._media_data_source,this._config),this._transmuxer.on(x.a.INIT_SEGMENT,function(F,K){H._mse_controller.appendInitSegment(K)}),this._transmuxer.on(x.a.MEDIA_SEGMENT,function(F,K){H._mse_controller.appendMediaSegment(K),!H._config.isLive&&F==="video"&&K.data&&K.data.byteLength>0&&"info"in K&&H._seeking_handler.appendSyncPoints(K.info.syncPoints),H._loading_controller.notifyBufferedPositionChanged(K.info.endDts/1e3)}),this._transmuxer.on(x.a.LOADING_COMPLETE,function(){H._mse_controller.endOfStream(),H._emitter.emit(m.a.LOADING_COMPLETE)}),this._transmuxer.on(x.a.RECOVERED_EARLY_EOF,function(){H._emitter.emit(m.a.RECOVERED_EARLY_EOF)}),this._transmuxer.on(x.a.IO_ERROR,function(F,K){H._emitter.emit(m.a.ERROR,_.b.NETWORK_ERROR,F,K)}),this._transmuxer.on(x.a.DEMUX_ERROR,function(F,K){H._emitter.emit(m.a.ERROR,_.b.MEDIA_ERROR,F,K)}),this._transmuxer.on(x.a.MEDIA_INFO,function(F){H._media_info=F,H._emitter.emit(m.a.MEDIA_INFO,Object.assign({},F))}),this._transmuxer.on(x.a.STATISTICS_INFO,function(F){H._statistics_info=H._fillStatisticsInfo(F),H._emitter.emit(m.a.STATISTICS_INFO,Object.assign({},F))}),this._transmuxer.on(x.a.RECOMMEND_SEEKPOINT,function(F){H._media_element&&!H._config.accurateSeek&&H._seeking_handler.directSeek(F/1e3)}),this._transmuxer.on(x.a.METADATA_ARRIVED,function(F){H._emitter.emit(m.a.METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.SCRIPTDATA_ARRIVED,function(F){H._emitter.emit(m.a.SCRIPTDATA_ARRIVED,F)}),this._transmuxer.on(x.a.TIMED_ID3_METADATA_ARRIVED,function(F){H._emitter.emit(m.a.TIMED_ID3_METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,function(F){H._emitter.emit(m.a.SYNCHRONOUS_KLV_METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,function(F){H._emitter.emit(m.a.ASYNCHRONOUS_KLV_METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.SMPTE2038_METADATA_ARRIVED,function(F){H._emitter.emit(m.a.SMPTE2038_METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.SCTE35_METADATA_ARRIVED,function(F){H._emitter.emit(m.a.SCTE35_METADATA_ARRIVED,F)}),this._transmuxer.on(x.a.PES_PRIVATE_DATA_DESCRIPTOR,function(F){H._emitter.emit(m.a.PES_PRIVATE_DATA_DESCRIPTOR,F)}),this._transmuxer.on(x.a.PES_PRIVATE_DATA_ARRIVED,function(F){H._emitter.emit(m.a.PES_PRIVATE_DATA_ARRIVED,F)}),this._seeking_handler=new T(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new S(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new C(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new P(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new U(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0),this._transmuxer.open()):this._has_pending_load=!0)},N.prototype.unload=function(){var H,F,K,ye,me,Pe,Ue,de,be;(H=this._media_element)===null||H===void 0||H.pause(),(F=this._live_latency_synchronizer)===null||F===void 0||F.destroy(),this._live_latency_synchronizer=null,(K=this._live_latency_chaser)===null||K===void 0||K.destroy(),this._live_latency_chaser=null,(ye=this._startup_stall_jumper)===null||ye===void 0||ye.destroy(),this._startup_stall_jumper=null,(me=this._loading_controller)===null||me===void 0||me.destroy(),this._loading_controller=null,(Pe=this._seeking_handler)===null||Pe===void 0||Pe.destroy(),this._seeking_handler=null,(Ue=this._mse_controller)===null||Ue===void 0||Ue.flush(),(de=this._transmuxer)===null||de===void 0||de.close(),(be=this._transmuxer)===null||be===void 0||be.destroy(),this._transmuxer=null},N.prototype.play=function(){return this._media_element.play()},N.prototype.pause=function(){this._media_element.pause()},N.prototype.seek=function(H){this._media_element&&this._seeking_handler?this._seeking_handler.seek(H):this._pending_seek_time=H},Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),N.prototype._onMSESourceOpen=function(){this._mse_source_opened=!0,this._has_pending_load&&(this._has_pending_load=!1,this.load())},N.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},N.prototype._onMSEBufferFull=function(){h.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},N.prototype._onMSEError=function(H){this._emitter.emit(m.a.ERROR,_.b.MEDIA_ERROR,_.a.MEDIA_MSE_ERROR,H)},N.prototype._onMSEStartStreaming=function(){this._loaded_metadata_received&&(this._config.isLive||(h.a.v(this.TAG,"Resume transmuxing task due to ManagedMediaSource onStartStreaming"),this._loading_controller.resumeTransmuxer()))},N.prototype._onMSEEndStreaming=function(){this._config.isLive||(h.a.v(this.TAG,"Suspend transmuxing task due to ManagedMediaSource onEndStreaming"),this._loading_controller.suspendTransmuxer())},N.prototype._onMediaLoadedMetadata=function(H){this._loaded_metadata_received=!0,this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},N.prototype._onRequestDirectSeek=function(H){this._seeking_handler.directSeek(H)},N.prototype._onRequiredUnbufferedSeek=function(H){this._mse_controller.flush(),this._transmuxer.seek(H)},N.prototype._onRequestPauseTransmuxer=function(){this._transmuxer.pause()},N.prototype._onRequestResumeTransmuxer=function(){this._transmuxer.resume()},N.prototype._fillStatisticsInfo=function(H){if(H.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return H;var F=!0,K=0,ye=0;if(this._media_element.getVideoPlaybackQuality){var me=this._media_element.getVideoPlaybackQuality();K=me.totalVideoFrames,ye=me.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(K=this._media_element.webkitDecodedFrameCount,ye=this._media_element.webkitDroppedFrameCount):F=!1;return F&&(H.decodedFrames=K,H.droppedFrames=ye),H},N}(),te=i(18),ne=i(8),ae=function(){function N(H,F){this.TAG="PlayerEngineDedicatedThread",this._emitter=new d,this._media_element=null,this._worker_destroying=!1,this._seeking_handler=null,this._loading_controller=null,this._startup_stall_jumper=null,this._live_latency_chaser=null,this._live_latency_synchronizer=null,this._pending_seek_time=null,this._media_info=null,this._statistics_info=null,this.e=null,this._media_data_source=H,this._config=l(),typeof F=="object"&&Object.assign(this._config,F),H.isLive===!0&&(this._config.isLive=!0),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this),onMediaLoadedMetadata:this._onMediaLoadedMetadata.bind(this),onMediaTimeUpdate:this._onMediaTimeUpdate.bind(this),onMediaReadyStateChanged:this._onMediaReadyStateChange.bind(this)},ne.a.registerListener(this.e.onLoggingConfigChanged),this._worker=te(24,{all:!0}),this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",media_data_source:this._media_data_source,config:this._config}),this._worker.postMessage({cmd:"logging_config",logging_config:ne.a.getConfig()})}return N.isSupported=function(){return!!(self.Worker&&self.MediaSource&&"canConstructInDedicatedWorker"in self.MediaSource&&self.MediaSource.canConstructInDedicatedWorker===!0)},N.prototype.destroy=function(){this._emitter.emit(m.a.DESTROYING),this.unload(),this.detachMediaElement(),this._worker_destroying=!0,this._worker.postMessage({cmd:"destroy"}),ne.a.removeListener(this.e.onLoggingConfigChanged),this.e=null,this._media_data_source=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(H,F){var K=this;this._emitter.addListener(H,F),H===m.a.MEDIA_INFO&&this._media_info?Promise.resolve().then(function(){return K._emitter.emit(m.a.MEDIA_INFO,K.mediaInfo)}):H==m.a.STATISTICS_INFO&&this._statistics_info&&Promise.resolve().then(function(){return K._emitter.emit(m.a.STATISTICS_INFO,K.statisticsInfo)})},N.prototype.off=function(H,F){this._emitter.removeListener(H,F)},N.prototype.attachMediaElement=function(H){this._media_element=H,this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element.addEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.addEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.addEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._worker.postMessage({cmd:"initialize_mse"})},N.prototype.detachMediaElement=function(){this._worker.postMessage({cmd:"shutdown_mse"}),this._media_element&&(this._media_element.removeEventListener("loadedmetadata",this.e.onMediaLoadedMetadata),this._media_element.removeEventListener("timeupdate",this.e.onMediaTimeUpdate),this._media_element.removeEventListener("readystatechange",this.e.onMediaReadyStateChanged),this._media_element.src="",this._media_element.removeAttribute("src"),this._media_element.srcObject=null,this._media_element.load(),this._media_element=null)},N.prototype.load=function(){this._worker.postMessage({cmd:"load"}),this._seeking_handler=new T(this._config,this._media_element,this._onRequiredUnbufferedSeek.bind(this)),this._loading_controller=new S(this._config,this._media_element,this._onRequestPauseTransmuxer.bind(this),this._onRequestResumeTransmuxer.bind(this)),this._startup_stall_jumper=new C(this._media_element,this._onRequestDirectSeek.bind(this)),this._config.isLive&&this._config.liveBufferLatencyChasing&&(this._live_latency_chaser=new P(this._config,this._media_element,this._onRequestDirectSeek.bind(this))),this._config.isLive&&this._config.liveSync&&(this._live_latency_synchronizer=new U(this._config,this._media_element)),this._media_element.readyState>0&&this._seeking_handler.directSeek(0)},N.prototype.unload=function(){var H,F,K,ye,me,Pe;(H=this._media_element)===null||H===void 0||H.pause(),this._worker.postMessage({cmd:"unload"}),(F=this._live_latency_synchronizer)===null||F===void 0||F.destroy(),this._live_latency_synchronizer=null,(K=this._live_latency_chaser)===null||K===void 0||K.destroy(),this._live_latency_chaser=null,(ye=this._startup_stall_jumper)===null||ye===void 0||ye.destroy(),this._startup_stall_jumper=null,(me=this._loading_controller)===null||me===void 0||me.destroy(),this._loading_controller=null,(Pe=this._seeking_handler)===null||Pe===void 0||Pe.destroy(),this._seeking_handler=null},N.prototype.play=function(){return this._media_element.play()},N.prototype.pause=function(){this._media_element.pause()},N.prototype.seek=function(H){this._media_element&&this._seeking_handler?this._seeking_handler.seek(H):this._pending_seek_time=H},Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return Object.assign({},this._media_info)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return Object.assign({},this._statistics_info)},enumerable:!1,configurable:!0}),N.prototype._onLoggingConfigChanged=function(H){var F;(F=this._worker)===null||F===void 0||F.postMessage({cmd:"logging_config",logging_config:H})},N.prototype._onMSEUpdateEnd=function(){this._config.isLive&&this._config.liveBufferLatencyChasing&&this._live_latency_chaser&&this._live_latency_chaser.notifyBufferedRangeUpdate(),this._loading_controller.notifyBufferedPositionChanged()},N.prototype._onMSEBufferFull=function(){h.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._loading_controller.suspendTransmuxer()},N.prototype._onMediaLoadedMetadata=function(H){this._pending_seek_time!=null&&(this._seeking_handler.seek(this._pending_seek_time),this._pending_seek_time=null)},N.prototype._onRequestDirectSeek=function(H){this._seeking_handler.directSeek(H)},N.prototype._onRequiredUnbufferedSeek=function(H){this._worker.postMessage({cmd:"unbuffered_seek",milliseconds:H})},N.prototype._onRequestPauseTransmuxer=function(){this._worker.postMessage({cmd:"pause_transmuxer"})},N.prototype._onRequestResumeTransmuxer=function(){this._worker.postMessage({cmd:"resume_transmuxer"})},N.prototype._onMediaTimeUpdate=function(H){this._worker.postMessage({cmd:"timeupdate",current_time:H.target.currentTime})},N.prototype._onMediaReadyStateChange=function(H){this._worker.postMessage({cmd:"readystatechange",ready_state:H.target.readyState})},N.prototype._onWorkerMessage=function(H){var F,K=H.data,ye=K.msg;if(ye=="destroyed"||this._worker_destroying)return this._worker_destroying=!1,(F=this._worker)===null||F===void 0||F.terminate(),void(this._worker=null);switch(ye){case"mse_init":var me=K;this._media_element.srcObject=me.handle;break;case"mse_event":(me=K).event==v.a.UPDATE_END?this._onMSEUpdateEnd():me.event==v.a.BUFFER_FULL&&this._onMSEBufferFull();break;case"transmuxing_event":if((me=K).event==x.a.MEDIA_INFO){var Pe=K;this._media_info=Pe.info,this._emitter.emit(m.a.MEDIA_INFO,Object.assign({},Pe.info))}else if(me.event==x.a.STATISTICS_INFO){var Ue=K;this._statistics_info=this._fillStatisticsInfo(Ue.info),this._emitter.emit(m.a.STATISTICS_INFO,Object.assign({},Ue.info))}else if(me.event==x.a.RECOMMEND_SEEKPOINT){var de=K;this._media_element&&!this._config.accurateSeek&&this._seeking_handler.directSeek(de.milliseconds/1e3)}break;case"player_event":if((me=K).event==m.a.ERROR){var be=K;this._emitter.emit(m.a.ERROR,be.error_type,be.error_detail,be.info)}else if("extraData"in me){var Le=K;this._emitter.emit(Le.event,Le.extraData)}break;case"logcat_callback":me=K,h.a.emitter.emit("log",me.type,me.logcat);break;case"buffered_position_changed":me=K,this._loading_controller.notifyBufferedPositionChanged(me.buffered_position_milliseconds/1e3)}},N.prototype._fillStatisticsInfo=function(H){if(H.playerType="MSEPlayer",!(this._media_element instanceof HTMLVideoElement))return H;var F=!0,K=0,ye=0;if(this._media_element.getVideoPlaybackQuality){var me=this._media_element.getVideoPlaybackQuality();K=me.totalVideoFrames,ye=me.droppedVideoFrames}else this._media_element.webkitDecodedFrameCount!=null?(K=this._media_element.webkitDecodedFrameCount,ye=this._media_element.webkitDroppedFrameCount):F=!1;return F&&(H.decodedFrames=K,H.droppedFrames=ye),H},N}(),he=function(){function N(H,F){this.TAG="MSEPlayer",this._type="MSEPlayer",this._media_element=null,this._player_engine=null;var K=H.type.toLowerCase();if(K!=="mse"&&K!=="mpegts"&&K!=="m2ts"&&K!=="flv")throw new w.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");if(F&&F.enableWorkerForMSE&&ae.isSupported())try{this._player_engine=new ae(H,F)}catch{h.a.e(this.TAG,"Error while initializing PlayerEngineDedicatedThread, fallback to PlayerEngineMainThread"),this._player_engine=new W(H,F)}else this._player_engine=new W(H,F)}return N.prototype.destroy=function(){this._player_engine.destroy(),this._player_engine=null,this._media_element=null},N.prototype.on=function(H,F){this._player_engine.on(H,F)},N.prototype.off=function(H,F){this._player_engine.off(H,F)},N.prototype.attachMediaElement=function(H){this._media_element=H,this._player_engine.attachMediaElement(H)},N.prototype.detachMediaElement=function(){this._media_element=null,this._player_engine.detachMediaElement()},N.prototype.load=function(){this._player_engine.load()},N.prototype.unload=function(){this._player_engine.unload()},N.prototype.play=function(){return this._player_engine.play()},N.prototype.pause=function(){this._player_engine.pause()},Object.defineProperty(N.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"buffered",{get:function(){return this._media_element.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"duration",{get:function(){return this._media_element.duration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"volume",{get:function(){return this._media_element.volume},set:function(H){this._media_element.volume=H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"muted",{get:function(){return this._media_element.muted},set:function(H){this._media_element.muted=H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"currentTime",{get:function(){return this._media_element?this._media_element.currentTime:0},set:function(H){this._player_engine.seek(H)},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"mediaInfo",{get:function(){return this._player_engine.mediaInfo},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){return this._player_engine.statisticsInfo},enumerable:!1,configurable:!0}),N}(),fe=function(){function N(H,F){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new p.a,this._config=l(),typeof F=="object"&&Object.assign(this._config,F);var K=H.type.toLowerCase();if(K==="mse"||K==="mpegts"||K==="m2ts"||K==="flv")throw new w.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(H.hasOwnProperty("segments"))throw new w.b("NativePlayer(".concat(H.type,") doesn't support multipart playback!"));this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=H,this._mediaElement=null}return N.prototype.destroy=function(){this._emitter.emit(m.a.DESTROYING),this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},N.prototype.on=function(H,F){var K=this;H===m.a.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){K._emitter.emit(m.a.MEDIA_INFO,K.mediaInfo)}):H===m.a.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){K._emitter.emit(m.a.STATISTICS_INFO,K.statisticsInfo)}),this._emitter.addListener(H,F)},N.prototype.off=function(H,F){this._emitter.removeListener(H,F)},N.prototype.attachMediaElement=function(H){if(this._mediaElement=H,H.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{H.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},N.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},N.prototype.load=function(){if(!this._mediaElement)throw new w.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},N.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},N.prototype.play=function(){return this._mediaElement.play()},N.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(N.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(H){this._mediaElement.volume=H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(H){this._mediaElement.muted=H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(H){this._mediaElement?this._mediaElement.currentTime=H:this._pendingSeekTime=H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"mediaInfo",{get:function(){var H={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(H.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(H.width=this._mediaElement.videoWidth,H.height=this._mediaElement.videoHeight)),H},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"statisticsInfo",{get:function(){var H={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return H;var F=!0,K=0,ye=0;if(this._mediaElement.getVideoPlaybackQuality){var me=this._mediaElement.getVideoPlaybackQuality();K=me.totalVideoFrames,ye=me.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(K=this._mediaElement.webkitDecodedFrameCount,ye=this._mediaElement.webkitDroppedFrameCount):F=!1;return F&&(H.decodedFrames=K,H.droppedFrames=ye),H},enumerable:!1,configurable:!0}),N.prototype._onvLoadedMetadata=function(H){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(m.a.MEDIA_INFO,this.mediaInfo)},N.prototype._reportStatisticsInfo=function(){this._emitter.emit(m.a.STATISTICS_INFO,this.statisticsInfo)},N}();o.a.install();var le={createPlayer:function(N,H){var F=N;if(F==null||typeof F!="object")throw new w.b("MediaDataSource must be an javascript object!");if(!F.hasOwnProperty("type"))throw new w.b("MediaDataSource must has type field to indicate video file type!");switch(F.type){case"mse":case"mpegts":case"m2ts":case"flv":return new he(F,H);default:return new fe(F,H)}},isSupported:function(){return c.supportMSEH264Playback()},getFeatureList:function(){return c.getFeatureList()}};le.BaseLoader=u.a,le.LoaderStatus=u.c,le.LoaderErrors=u.b,le.Events=m.a,le.ErrorTypes=_.b,le.ErrorDetails=_.a,le.MSEPlayer=he,le.NativePlayer=fe,le.LoggingControl=ne.a,Object.defineProperty(le,"version",{enumerable:!0,get:function(){return"1.8.0"}}),r.default=le}])})(gL);const ah=ad(gL.exports),FZ={position:"absolute",width:"100%",height:"100%",objectFit:"cover"},UZ=()=>{var e,t;const n=Dr(),r=((t=(e=n==null?void 0:n.config)==null?void 0:e.avatai)==null?void 0:t.done_video_urls[0])||"";return r?G("video",{autoPlay:!0,muted:!0,playsInline:!0,controls:!1,loop:!0,style:{...FZ,zIndex:1},src:r,preload:"auto"}):null},jZ=re.memo(()=>{const e=re.useRef(null),[t,n]=re.useState(null),r=Se(Ds),i=r==null?void 0:r.pull_stream_url,o=c=>{window.console.error("file: BackgroundVideo.tsx:276  useEffect  error:",c)},a=c=>{e.current&&(c.speed>0?e.current.style.zIndex==="2"||e.current.style.setProperty("z-index","2"):e.current.style.setProperty("z-index","0"))};re.useEffect(()=>{if(window.console.log("file: BackgroundVideo.tsx:12  BackgroundVideo  streamUrl:",i),!i)return;let c=()=>{};if(ah.isSupported()){const u=ah.createPlayer({type:"flv",url:i,isLive:!0},{stashInitialSize:128,liveBufferLatencyChasing:!0,liveSync:!0});u.on(ah.Events.ERROR,o),u.on(ah.Events.STATISTICS_INFO,a),n(u);const h=()=>{c();try{u.unload()}catch{}try{u.detachMediaElement()}catch{}};kt.avatarPlayer={play:()=>{window.console.log("chatBoxUtils.avatarPlayer play!!"),u.play()},reload:()=>{},destroy:h},u.attachMediaElement(e.current),u.load(),window.console.log("regular PLAY!!"),u.play(),c=()=>{u.off(ah.Events.ERROR,o),u.off(ah.Events.STATISTICS_INFO,a)}}return()=>{var u;window.console.log("CLEANING!!!"),(u=kt.avatarPlayer)==null||u.destroy()}},[i]);const s=Se(c=>c.chatBox.showChatBox);re.useEffect(()=>{if(t)if(window.console.log("file: BackgroundVideo.tsx:118  useEffect  showChatBox:",s),s)try{t==null||t.play()}catch{}else try{t==null||t.pause()}catch{}},[t,s]);const l={position:"absolute",opacity:Se(c=>c.chatBox.showAvatarVideo)?1:0,width:"100%",height:"100%",overflow:"hidden"};return Fe("div",{style:l,children:[G(UZ,{}),G("video",{ref:e,controls:!1,playsInline:!0,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover"}})]})}),VZ=re.memo(()=>{var e,t;const n=Dr(),r=US(),i=(e=n==null?void 0:n.config)==null?void 0:e.avatai,o=i==null?void 0:i.welcome_video_urls,a=Se(S=>S.chatBox.showChatBox),s=Se(S=>S.chatBox.chatBoxWidth),l=Se(S=>S.chatBox.chatBoxHeight),c=Se(S=>S.chatBox.botMode),u=Se(S=>S.chatBox.isUserTyping),h=Se(S=>S.chatBox.showAvatarVideo),d=re.useRef(null),[p,f]=re.useState(null),m=re.useRef(null),[b,v]=re.useState(null),[_,w]=re.useState(null),x=E2();re.useLayoutEffect(()=>{const S=()=>{var C,P,U,W;const te=(P=(C=kt.containerRef)==null?void 0:C.current)==null?void 0:P.getBoundingClientRect(),ne=(W=(U=kt.headerRef)==null?void 0:U.current)==null?void 0:W.getBoundingClientRect();te&&v(te),ne&&w(ne)};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[a,l,s]),re.useLayoutEffect(()=>{kt.avatarVideoContainerRef=d},[]),re.useEffect(()=>{if(o&&o.length>0){const S=Math.floor(Math.random()*o.length),C=o[S];f(C)}},[o]);const E=re.useCallback(()=>{m.current&&(m.current.style.display="none")},[]),M={position:"fixed",overflow:"hidden",boxShadow:"0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)",width:2/3*l,height:l},T=(b==null?void 0:b.top)??0;if(M.left=(b==null?void 0:b.left)??0,c==="avataiToggle"&&b){M.top=T;const S=b==null?void 0:b.height;M.height=S,M.width=2/3*S,M.left-=M.width+10,$t||(M.borderRadius="8px")}if(c==="avatai"&&(M.top=(_==null?void 0:_.bottom)??0,$t?(M.width="100vw",M.height="100vh"):(M.height=((b==null?void 0:b.height)??0)-((_==null?void 0:_.height)??0),M.borderBottomLeftRadius="8px",M.borderBottomRightRadius="8px")),$t&&u&&wj){const S=(((t=window.visualViewport)==null?void 0:t.height)||window.innerHeight)-window.innerHeight;M.top=Math.abs(S)>100?0:230}return(!h||x||!a||!b)&&(M.display="none"),Jr(c)?G(re.Suspense,{fallback:G("div",{children:"Loading video player..."}),children:Fe("div",{ref:d,style:{...M},children:[a&&!r&&p&&!x&&G("video",{ref:m,autoPlay:!0,playsInline:!0,controls:!1,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",zIndex:3},onEnded:E,children:G("source",{src:p,type:"video/mp4"})}),G(jZ,{})]})}):(om(),null)}),qZ=()=>{var e;const t=Dr(),n=(e=t==null?void 0:t.config)==null?void 0:e.churn_control,r=re.useRef(null),i=Se(o=>o.chatBox.source);re.useEffect(()=>{if(ar(n))return;const{cancel_url:o,cancel_button_text:a,cancel_button_query_selector:s,cancel_button_xpath:l}=n,c=async()=>{let m;if(await new Promise(b=>setTimeout(b,10)),l)try{m=document.evaluate(l,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch(b){window.console.error("Error evaluating XPath",b)}if(s&&!m&&(m=document.querySelector(s)),a&&!m&&(m=Array.from(document.querySelectorAll("button, a, input[type='button'], input[type='submit']")).find(b=>{var v;return((v=b.textContent)==null?void 0:v.trim().toLowerCase())===a.trim().toLowerCase()})),m){const b=m.getBoundingClientRect();(b.top>=window.innerHeight||b.bottom<=0)&&(m=null)}return m},u=m=>{var b;if(!m)return void window.console.log("No button found");const v=m.cloneNode(!0);Object.assign(m.style,{position:"fixed",top:"-100vh",opacity:"0",visibility:"hidden",display:"none",width:"1px",height:"1px",overflow:"hidden"}),(b=m.parentNode)==null||b.insertBefore(v,m.nextSibling),window.livexCCFn=()=>{m.click()},v.onclick=_=>{window.console.log("Custom handler executed"),_.preventDefault(),_.stopImmediatePropagation(),function(w){const x={type:"support",parameters:{twi:"cancel_subscription"},subscription:{cancel_function_name:"livexCCFn",customer_id:Sw(w)}};window.livexChatbot.sendMessage("Cancel Subscription",JSON.stringify(x))}(i)},r.current=v},h=()=>{const m=new MutationObserver(()=>{document.body.contains(r.current)||(window.console.log("Cloned button removed, re-processing"),m.disconnect(),f())});return m.observe(document.body,{childList:!0,subtree:!0}),m};let d=null,p=null;const f=async()=>{if(window.console.log("Checking and processing button"),(Array.isArray(o)?o:[o]).some(m=>window.location.href.includes(m))){const m=await c();m?(u(m),p=h()):d=(()=>{window.console.log("startObservingForButton");const b=new MutationObserver(async()=>{window.console.log("Checking for button");const v=await c();v&&(b.disconnect(),u(v),p=h())});return b.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),b})()}else window.console.log("URL not matched")};return f(),()=>{d&&d.disconnect(),p&&p.disconnect()}},[n,i])};qr.use(wV).init({resources:uF,fallbackLng:j0,lng:j0,interpolation:{escapeValue:!1}});const HZ=new aU;let vL=!1;const yL=e=>{var t,n,r;qZ();const i=re.useRef(null),o=tk({key:"livex",container:i.current||void 0}),a=Se(Ps),s=a&&a>0,l=Se(K=>K.chatBox.showChatBox),c=In(),{mutate:u}=A2(),{mutate:h}=jd(),{agent:d,gatewayHost:p,chatHost:f,firebaseConfig:m,popupQuestions:b}=e,v=Se(K=>K.chatBox.agent),_=re.useMemo(()=>gb(n7,e.options||{}),[e.options]),w=e.source||"chatbox",x=e.botMode||((t=d==null?void 0:d.config)==null?void 0:t.chatbot_mode),E=Se(Ds),M=E==null?void 0:E.id;re.useEffect(()=>{const K=window.zE;if(K){try{if(K("webWidget:get","chat:isChatting"))return;K("webWidget","hide")}catch{}c(gm(!0))}else c(gm(!0))},[c]);const T=Se(K=>K.chatBox.useLiveXCopilot);pr.chatHost=f,pr.gatewayHost=p,re.useEffect(()=>{m&&(kt.firebaseApp||(kt.firebaseApp=$M(m)),kt.analytics||(kt.analytics=tY(kt.firebaseApp)),kt.firestore||(kt.firestore=function(K,ye){const me=typeof K=="string"?K:"(default)",Pe=dp(typeof K=="object"?K:GM(),"firestore").getImmediate({identifier:me});if(!Pe._initialized){const Ue=JK("firestore");Ue&&hJ(Pe,...Ue)}return Pe}(kt.firebaseApp)))},[m]);const S=(n=d==null?void 0:d.config)==null?void 0:n.style,C=!((r=S==null?void 0:S.expansion)==null||!r.default),{i18n:P}=cE(),U=Se(K=>K.chatBox.languageCode);re.useEffect(()=>{P.changeLanguage(U)},[P,U]),re.useEffect(()=>{!d||d.id==="loading"||c(Rj({agent:d,initExpanded:C,source:w,botMode:x,options:_}))},[d,x,c,C,_,w]),re.useEffect(()=>{vL||v&&(c(na((K=>{const ye=io.getState(),{botMode:me,source:Pe}=ye.chatBox,Ue=K.threadId||"";if(Jr(me))return!1;if(_j.includes(me??"")||xj.includes(Pe??""))return!0;if(me==="searchBar")return!1;const de=ye.chat.threads[Ue];return _m(de)?(K.dispatch(ko({threadId:Ue})),!1):localStorage.getItem("openChatBox")==="true"})({threadId:M,dispatch:c}))),vL=!0)},[c,v,M]);const W=Se(K=>K.chatBox.showWelcomeMessage),te=So(d),ne=te.primary_color;(()=>{var K;const ye=io==null?void 0:io.getState();((K=ye==null?void 0:ye.chatBox)==null?void 0:K.source)==="chatbox"&&(s1("website"),s1("buyNow"),s1("buyWithShopPay"),s1("prime"))})(),re.useEffect(()=>()=>{c(Ij(null))},[c]);const ae=()=>{var K,ye;if(l)return(K=d==null?void 0:d.config)!=null&&K.chatbot_button_close_icon?G(ug,{url:d==null?void 0:d.config.chatbot_button_close_icon,size:32}):G(tV,{style:{color:"white"}});const me=(ye=d==null?void 0:d.config)==null?void 0:ye.chatbot_button_icon;if(me)return me.endsWith(".svg")?G(ug,{url:me,size:32}):G("img",{src:me,style:{position:"absolute",objectFit:"cover",width:"100%",height:"100%",borderRadius:"100%",border:`3px solid ${te.primary_color}`}});const Pe=ei(ne);return G(IJ,{color:Pe})},he=re.useCallback(()=>{c(na(!0))},[c]),fe=re.useCallback(K=>{K.shiftKey&&(localStorage.removeItem("hasPlayedWelcomeVideo"),c(Nw(!0))),c(na(!1))},[c]),le=()=>{var K;const ye=((K=d==null?void 0:d.config)==null?void 0:K.red_dot_indicator)||{enabled:!0,size:0,indicator_text:"1",color:"rgb(220, 38, 38)",animate:!0},{enabled:me,size:Pe,color:Ue,animate:de,indicator_text:be}=ye;if(!me||!W)return null;const Le={};let Ve="absolute top-0 right-0 rounded-full text-white flex items-center justify-center border-white border z-10";return Pe>0?(Le.width=Pe,Le.height=Pe):Ve+=$t?" w-4 h-4":" w-5 h-5",Le.backgroundColor=Ue,Fe(wl,{children:[de&&G("div",{style:Le,className:Ve+" animate-ping",children:be}),G("div",{style:Le,className:Ve,children:be})]})},N=(()=>{var K;const ye=$l(),me=vm(),Pe=Gl(),Ue=Se(Le=>Le.chatBox.agent),de=((K=Ue==null?void 0:Ue.config)==null?void 0:K.style)??{},be={right:"18px",bottom:(de==null?void 0:de.vertical_offset)??"18px",zIndex:9999};return ye||me||Pe?(be.right="0px",be.bottom="0px",be):((de==null?void 0:de.horizontal)==="left"&&(delete be.right,be.left="30px"),(de==null?void 0:de.vertical)==="top"&&(delete be.bottom,be.top=(de==null?void 0:de.vertical_offset)??"18px"),de!=null&&de.z_index&&(be.zIndex=de==null?void 0:de.z_index),be)})(),H=(()=>{var K;const ye=Se(Et=>Et.chatBox.showChatBox),me=$l(),Pe=vm(),Ue=Gl(),de=Se(Et=>Et.chatBox.agent),be=((K=de==null?void 0:de.config)==null?void 0:K.style)??{},Le=So(),{primary_color:Ve,name:He}=Le;let st=Ve;He==="gradient"&&(st=`linear-gradient(125deg, ${Le.primary_color} 0%, ${Le.secondary_color} 100%)`);const Rt={background:st,right:Bp,bottom:(be==null?void 0:be.vertical_offset)??Bp,zIndex:1,width:60,height:60,boxShadow:G_};return me||Pe||Ue?{display:"none"}:($t&&(Rt.width=48,Rt.height=48,ye&&(Rt.opacity=0)),(be==null?void 0:be.horizontal)==="left"&&(delete Rt.right,Rt.left=Bp),(be==null?void 0:be.vertical)==="top"&&(delete Rt.bottom,Rt.top=(be==null?void 0:be.vertical_offset)??Bp),Rt)})();re.useEffect(()=>{window.livexChatbot||(window.livexChatbot={}),window.livexChatbot.open=()=>{he()},window.livexChatbot.close=(K=!1)=>{fe({shiftKey:K})},window.livexChatbot.openStatus=()=>l?"open":"closed",window.livexChatbot.setAgentConfig=K=>{if(d==null||!d.config)return;const ye=ZJ(d.config,me=>{Object.assign(me,K)});c(kj({...d,config:ye}))},window.livexChatbot.clearConversations=async()=>{await c(Vj(null)),u()},window.livexChatbot.setUseLiveXCopilot=K=>{c(gm(K))},window.livexChatbot.setShowSearchBar=K=>{c(zZ(K))},window.livexChatbot.sendMessage=async(K,ye)=>{M||await c(Su()),c(na(!0)),c(Fa({text:K,command:ye})),setTimeout(()=>{_.autoScrollToBottom&&kt.scrollToBottom(200)},100)}},[d,u,c,fe,he,_.autoScrollToBottom,l,M]),re.useEffect(()=>{const K=async()=>{if(!Jr(x)||!M)return;const ye=io.getState().chat.threads[M];ye&&((me=>{if(me==null||!me.id)return;const Pe=Uw();Pe[me.id]=me,za(Pe)})({...ye,pull_stream_url:""}),await x9(M,!0),h({event_name:"ChatbotBeforeUnload"}))};return window.addEventListener("beforeunload",K),()=>{window.removeEventListener("beforeunload",K)}},[x,u,h,M]);const F={...e,onClose:fe,options:_};return Fe(WP,{value:o,children:[G(PZ,{}),Fe("livex-chatbox-button-container",{ref:i,style:N,children:[(()=>{if(!T||S!=null&&S.hide_chatbot_button)return null;let K="flex items-center justify-center rounded-full fixed right-0 bottom-0 p-2 transition-transform duration-200 ease-in-out hover:scale-110 cursor-pointer";!s&&!l&&W&&(K+=" custom-animate-bounce");const ye=Fe("div",{className:K,style:H,onClick:Pe=>{l?fe(Pe):c(na(!0))},children:[le(),ae()]},"chatbot-button"),me=G(OJ,{agent:d,popupQuestions:b},"welcom-message");return l?[ye]:(S==null?void 0:S.horizontal)==="left"?[ye,me]:[me,ye]})(),G(RJ,{...F})]})]})},$Z=({children:e})=>{const t=re.useRef(null),[n,r]=re.useState(null);return re.useEffect(()=>{if(t.current)if(t.current.shadowRoot)r(t.current.shadowRoot);else{const i=t.current.attachShadow({mode:"open"}),o=document.createElement("style");o.textContent=`.livex-chatbox-markdown p{overflow-wrap:anywhere}@media (prefers-color-scheme: dark){.livex-chatbox-markdown{color-scheme:dark;--color-prettylights-syntax-comment: #8b949e;--color-prettylights-syntax-constant: #79c0ff;--color-prettylights-syntax-entity: #d2a8ff;--color-prettylights-syntax-storage-modifier-import: #c9d1d9;--color-prettylights-syntax-entity-tag: #7ee787;--color-prettylights-syntax-keyword: #ff7b72;--color-prettylights-syntax-string: #a5d6ff;--color-prettylights-syntax-variable: #ffa657;--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;--color-prettylights-syntax-invalid-illegal-bg: #8e1519;--color-prettylights-syntax-carriage-return-text: #f0f6fc;--color-prettylights-syntax-carriage-return-bg: #b62324;--color-prettylights-syntax-string-regexp: #7ee787;--color-prettylights-syntax-markup-list: #f2cc60;--color-prettylights-syntax-markup-heading: #1f6feb;--color-prettylights-syntax-markup-italic: #c9d1d9;--color-prettylights-syntax-markup-bold: #c9d1d9;--color-prettylights-syntax-markup-deleted-text: #ffdcd7;--color-prettylights-syntax-markup-deleted-bg: #67060c;--color-prettylights-syntax-markup-inserted-text: #aff5b4;--color-prettylights-syntax-markup-inserted-bg: #033a16;--color-prettylights-syntax-markup-changed-text: #ffdfb6;--color-prettylights-syntax-markup-changed-bg: #5a1e02;--color-prettylights-syntax-markup-ignored-text: #c9d1d9;--color-prettylights-syntax-markup-ignored-bg: #1158c7;--color-prettylights-syntax-meta-diff-range: #d2a8ff;--color-prettylights-syntax-brackethighlighter-angle: #8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;--color-fg-muted: #8b949e;--color-fg-subtle: #6e7681;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #30363d;--color-border-muted: #21262d;--color-neutral-muted: rgba(110, 118, 129, .4);--color-accent-fg: #58a6ff;--color-accent-emphasis: #1f6feb;--color-attention-subtle: rgba(187, 128, 9, .15);--color-danger-fg: #f85149}}@media (prefers-color-scheme: light){.livex-chatbox-markdown{color-scheme:light;--color-prettylights-syntax-comment: #6e7781;--color-prettylights-syntax-constant: #0550ae;--color-prettylights-syntax-entity: #8250df;--color-prettylights-syntax-storage-modifier-import: #24292f;--color-prettylights-syntax-entity-tag: #116329;--color-prettylights-syntax-keyword: #cf222e;--color-prettylights-syntax-string: #0a3069;--color-prettylights-syntax-variable: #953800;--color-prettylights-syntax-brackethighlighter-unmatched: #82071e;--color-prettylights-syntax-invalid-illegal-text: #f6f8fa;--color-prettylights-syntax-invalid-illegal-bg: #82071e;--color-prettylights-syntax-carriage-return-text: #f6f8fa;--color-prettylights-syntax-carriage-return-bg: #cf222e;--color-prettylights-syntax-string-regexp: #116329;--color-prettylights-syntax-markup-list: #3b2300;--color-prettylights-syntax-markup-heading: #0550ae;--color-prettylights-syntax-markup-italic: #24292f;--color-prettylights-syntax-markup-bold: #24292f;--color-prettylights-syntax-markup-deleted-text: #82071e;--color-prettylights-syntax-markup-deleted-bg: #ffebe9;--color-prettylights-syntax-markup-inserted-text: #116329;--color-prettylights-syntax-markup-inserted-bg: #dafbe1;--color-prettylights-syntax-markup-changed-text: #953800;--color-prettylights-syntax-markup-changed-bg: #ffd8b5;--color-prettylights-syntax-markup-ignored-text: #eaeef2;--color-prettylights-syntax-markup-ignored-bg: #0550ae;--color-prettylights-syntax-meta-diff-range: #8250df;--color-prettylights-syntax-brackethighlighter-angle: #57606a;--color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;--color-prettylights-syntax-constant-other-reference-link: #0a3069;--color-fg-muted: #57606a;--color-fg-subtle: #6e7781;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #d0d7de;--color-border-muted: hsla(210, 18%, 87%, 1);--color-neutral-muted: rgba(175, 184, 193, .2);--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-attention-subtle: #fff8c5;--color-danger-fg: #cf222e}}.livex-chatbox-markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:var(--color-fg-default);background-color:var(--color-canvas-default);font-size:.875em;word-wrap:break-word;width:100%}.livex-chatbox-markdown .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.livex-chatbox-markdown h1:hover .anchor .octicon-link:before,.livex-chatbox-markdown h2:hover .anchor .octicon-link:before,.livex-chatbox-markdown h3:hover .anchor .octicon-link:before,.livex-chatbox-markdown h4:hover .anchor .octicon-link:before,.livex-chatbox-markdown h5:hover .anchor .octicon-link:before,.livex-chatbox-markdown h6:hover .anchor .octicon-link:before{width:1em;height:1em;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.livex-chatbox-markdown details,.livex-chatbox-markdown figcaption,.livex-chatbox-markdown figure{display:block}.livex-chatbox-markdown summary{display:list-item}.livex-chatbox-markdown [hidden]{display:none!important}.livex-chatbox-markdown a{background-color:transparent;color:var(--color-accent-fg);text-decoration:none}.livex-chatbox-markdown abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.livex-chatbox-markdown b,.livex-chatbox-markdown strong{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dfn{font-style:italic}.livex-chatbox-markdown h1{margin:.67em 0;font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:2em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}.livex-chatbox-markdown small{font-size:90%}.livex-chatbox-markdown sub,.livex-chatbox-markdown sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.livex-chatbox-markdown sub{bottom:-.25em}.livex-chatbox-markdown sup{top:-.5em}.livex-chatbox-markdown img{border-style:none;max-width:100%;box-sizing:content-box;background-color:var(--color-canvas-default)}.livex-chatbox-markdown code,.livex-chatbox-markdown kbd,.livex-chatbox-markdown pre,.livex-chatbox-markdown samp{font-family:monospace;font-size:1em}.livex-chatbox-markdown figure{margin:1em 3.25em}.livex-chatbox-markdown hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid var(--color-border-muted);height:.25em;padding:0;margin:1.5em 0;background-color:var(--color-border-default);border:0}.livex-chatbox-markdown input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.livex-chatbox-markdown [type=button],.livex-chatbox-markdown [type=reset],.livex-chatbox-markdown [type=submit]{-webkit-appearance:button}.livex-chatbox-markdown [type=checkbox],.livex-chatbox-markdown [type=radio]{box-sizing:border-box;padding:0}.livex-chatbox-markdown [type=search]::-webkit-search-cancel-button,.livex-chatbox-markdown [type=search]::-webkit-search-decoration{-webkit-appearance:none}.livex-chatbox-markdown ::-webkit-input-placeholder{color:inherit;opacity:.54}.livex-chatbox-markdown ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.livex-chatbox-markdown a:hover{text-decoration:underline}.livex-chatbox-markdown ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown ::placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown hr:before{display:table;content:""}.livex-chatbox-markdown hr:after{display:table;clear:both;content:""}.livex-chatbox-markdown table{border-spacing:0;border-collapse:collapse;display:block;width:-moz-max-content;width:max-content;max-width:100%;overflow:auto}.livex-chatbox-markdown td,.livex-chatbox-markdown th{padding:0;width:10%}.livex-chatbox-markdown details summary{cursor:pointer}.livex-chatbox-markdown details:not([open])>*:not(summary){display:none!important}.livex-chatbox-markdown a:focus,.livex-chatbox-markdown [role=button]:focus,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=checkbox]:focus{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:focus:not(:focus-visible),.livex-chatbox-markdown [role=button]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=radio]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.livex-chatbox-markdown a:focus-visible,.livex-chatbox-markdown [role=button]:focus-visible,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:not([class]):focus,.livex-chatbox-markdown a:not([class]):focus-visible,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline-offset:0}.livex-chatbox-markdown kbd{display:inline-block;padding:3px .3125em;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:.625em;color:var(--color-fg-default);vertical-align:middle;background-color:var(--color-canvas-subtle);border:solid 1px var(--color-neutral-muted);border-bottom-color:var(--color-neutral-muted);border-radius:.375em;box-shadow:inset 0 -1px 0 var(--color-neutral-muted)}.livex-chatbox-markdown h1,.livex-chatbox-markdown h2,.livex-chatbox-markdown h3,.livex-chatbox-markdown h4,.livex-chatbox-markdown h5,.livex-chatbox-markdown h6{margin-top:1.5em;margin-bottom:1em;font-weight:var(--base-text-weight-semibold, 600);line-height:1.25}.livex-chatbox-markdown h2{font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown h3{font-weight:var(--base-text-weight-semibold, 600);font-size:1.25em}.livex-chatbox-markdown h4{font-weight:var(--base-text-weight-semibold, 600);font-size:1em}.livex-chatbox-markdown h5{font-weight:var(--base-text-weight-semibold, 600);font-size:.875em}.livex-chatbox-markdown h6{font-weight:var(--base-text-weight-semibold, 600);font-size:.85em;color:var(--color-fg-muted)}.livex-chatbox-markdown p{margin-top:0;margin-bottom:.625em}.livex-chatbox-markdown blockquote{margin:0;padding:0 1em;color:var(--color-fg-muted);border-left:.25em solid var(--color-border-default)}.livex-chatbox-markdown ul{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:disc}.livex-chatbox-markdown ol{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:decimal}.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ul ol{list-style-type:lower-roman}.livex-chatbox-markdown ul ul ol,.livex-chatbox-markdown ul ol ol,.livex-chatbox-markdown ol ul ol,.livex-chatbox-markdown ol ol ol{list-style-type:lower-alpha}.livex-chatbox-markdown dd{margin-left:0}.livex-chatbox-markdown tt,.livex-chatbox-markdown code,.livex-chatbox-markdown samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em}.livex-chatbox-markdown pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em;word-wrap:normal}.livex-chatbox-markdown .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.livex-chatbox-markdown input::-webkit-outer-spin-button,.livex-chatbox-markdown input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.livex-chatbox-markdown:before{display:table;content:""}.livex-chatbox-markdown:after{display:table;clear:both;content:""}.livex-chatbox-markdown>*:first-child{margin-top:0!important}.livex-chatbox-markdown>*:last-child{margin-bottom:0!important}.livex-chatbox-markdown .absent{color:var(--color-danger-fg)}.livex-chatbox-markdown .anchor{float:left;padding-right:.25em;margin-left:-1.25em;line-height:1}.livex-chatbox-markdown .anchor:focus{outline:none}.livex-chatbox-markdown p,.livex-chatbox-markdown blockquote,.livex-chatbox-markdown ul,.livex-chatbox-markdown ol,.livex-chatbox-markdown dl,.livex-chatbox-markdown table,.livex-chatbox-markdown pre,.livex-chatbox-markdown details{margin-top:0;margin-bottom:1em}.livex-chatbox-markdown blockquote>:first-child{margin-top:0}.livex-chatbox-markdown blockquote>:last-child{margin-bottom:0}.livex-chatbox-markdown h1 .octicon-link,.livex-chatbox-markdown h2 .octicon-link,.livex-chatbox-markdown h3 .octicon-link,.livex-chatbox-markdown h4 .octicon-link,.livex-chatbox-markdown h5 .octicon-link,.livex-chatbox-markdown h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.livex-chatbox-markdown h1:hover .anchor,.livex-chatbox-markdown h2:hover .anchor,.livex-chatbox-markdown h3:hover .anchor,.livex-chatbox-markdown h4:hover .anchor,.livex-chatbox-markdown h5:hover .anchor,.livex-chatbox-markdown h6:hover .anchor{text-decoration:none}.livex-chatbox-markdown h1:hover .anchor .octicon-link,.livex-chatbox-markdown h2:hover .anchor .octicon-link,.livex-chatbox-markdown h3:hover .anchor .octicon-link,.livex-chatbox-markdown h4:hover .anchor .octicon-link,.livex-chatbox-markdown h5:hover .anchor .octicon-link,.livex-chatbox-markdown h6:hover .anchor .octicon-link{visibility:visible}.livex-chatbox-markdown h1 tt,.livex-chatbox-markdown h1 code,.livex-chatbox-markdown h2 tt,.livex-chatbox-markdown h2 code,.livex-chatbox-markdown h3 tt,.livex-chatbox-markdown h3 code,.livex-chatbox-markdown h4 tt,.livex-chatbox-markdown h4 code,.livex-chatbox-markdown h5 tt,.livex-chatbox-markdown h5 code,.livex-chatbox-markdown h6 tt,.livex-chatbox-markdown h6 code{padding:0 .2em;font-size:inherit}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2,.livex-chatbox-markdown summary h3,.livex-chatbox-markdown summary h4,.livex-chatbox-markdown summary h5,.livex-chatbox-markdown summary h6{display:inline-block}.livex-chatbox-markdown summary h1 .anchor,.livex-chatbox-markdown summary h2 .anchor,.livex-chatbox-markdown summary h3 .anchor,.livex-chatbox-markdown summary h4 .anchor,.livex-chatbox-markdown summary h5 .anchor,.livex-chatbox-markdown summary h6 .anchor{margin-left:-2.5em}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2{padding-bottom:0;border-bottom:0}.livex-chatbox-markdown ul.no-list,.livex-chatbox-markdown ol.no-list{padding:0;list-style-type:none}.livex-chatbox-markdown ol[type=a]{list-style-type:lower-alpha}.livex-chatbox-markdown ol[type=A]{list-style-type:upper-alpha}.livex-chatbox-markdown ol[type=i]{list-style-type:lower-roman}.livex-chatbox-markdown ol[type=I]{list-style-type:upper-roman}.livex-chatbox-markdown ol[type="1"]{list-style-type:decimal}.livex-chatbox-markdown div>ol:not([type]){list-style-type:decimal}.livex-chatbox-markdown ul ul,.livex-chatbox-markdown ul ol,.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ol ul{margin-top:0;margin-bottom:0}.livex-chatbox-markdown li>p{margin-top:1em}.livex-chatbox-markdown li+li{margin-top:.25em}.livex-chatbox-markdown dl{padding:0}.livex-chatbox-markdown dl dt{padding:0;margin-top:1em;font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dl dd{padding:0 1em;margin-bottom:1em}.livex-chatbox-markdown table th{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown table th,.livex-chatbox-markdown table td{padding:.375em .8125em;border:1px solid var(--color-border-default)}.livex-chatbox-markdown table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}.livex-chatbox-markdown table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}.livex-chatbox-markdown table img{background-color:transparent}.livex-chatbox-markdown img[align=right]{padding-left:1.25em}.livex-chatbox-markdown img[align=left]{padding-right:1.25em}.livex-chatbox-markdown .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.livex-chatbox-markdown span.frame{display:block;overflow:hidden}.livex-chatbox-markdown span.frame>span{display:block;float:left;width:auto;padding:.4375em;margin:.8125em 0 0;overflow:hidden;border:1px solid var(--color-border-default)}.livex-chatbox-markdown span.frame span img{display:block;float:left}.livex-chatbox-markdown span.frame span span{display:block;padding:.3125em 0 0;clear:both;color:var(--color-fg-default)}.livex-chatbox-markdown span.align-center{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-center>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:center}.livex-chatbox-markdown span.align-center span img{margin:0 auto;text-align:center}.livex-chatbox-markdown span.align-right{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-right>span{display:block;margin:.8125em 0 0;overflow:hidden;text-align:right}.livex-chatbox-markdown span.align-right span img{margin:0;text-align:right}.livex-chatbox-markdown span.float-left{display:block;float:left;margin-right:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-left span{margin:.8125em 0 0}.livex-chatbox-markdown span.float-right{display:block;float:right;margin-left:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-right>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:right}.livex-chatbox-markdown code,.livex-chatbox-markdown tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:var(--color-neutral-muted);border-radius:.375em}.livex-chatbox-markdown code br,.livex-chatbox-markdown tt br{display:none}.livex-chatbox-markdown del code{text-decoration:inherit}.livex-chatbox-markdown samp{font-size:85%}.livex-chatbox-markdown pre code{font-size:100%}.livex-chatbox-markdown pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.livex-chatbox-markdown .highlight{margin-bottom:1em}.livex-chatbox-markdown .highlight pre{margin-bottom:0;word-break:normal}.livex-chatbox-markdown .highlight pre,.livex-chatbox-markdown pre{padding:1em;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-canvas-subtle);border-radius:.375em}.livex-chatbox-markdown pre code,.livex-chatbox-markdown pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.livex-chatbox-markdown .csv-data td,.livex-chatbox-markdown .csv-data th{padding:.3125em;overflow:hidden;font-size:.75em;line-height:1;text-align:left;white-space:nowrap}.livex-chatbox-markdown .csv-data .blob-num{padding:.625em .5em .5em;text-align:right;background:var(--color-canvas-default);border:0}.livex-chatbox-markdown .csv-data tr{border-top:0}.livex-chatbox-markdown .csv-data th{font-weight:var(--base-text-weight-semibold, 600);background:var(--color-canvas-subtle);border-top:0}.livex-chatbox-markdown [data-footnote-ref]:before{content:"["}.livex-chatbox-markdown [data-footnote-ref]:after{content:"]"}.livex-chatbox-markdown .footnotes{font-size:.75em;color:var(--color-fg-muted);border-top:1px solid var(--color-border-default)}.livex-chatbox-markdown .footnotes ol{padding-left:1em}.livex-chatbox-markdown .footnotes ol ul{display:inline-block;padding-left:1em;margin-top:1em}.livex-chatbox-markdown .footnotes li{position:relative}.livex-chatbox-markdown .footnotes li:target:before{position:absolute;top:-.5em;right:-.5em;bottom:-.5em;left:-1.5em;pointer-events:none;content:"";border:2px solid var(--color-accent-emphasis);border-radius:.375em}.livex-chatbox-markdown .footnotes li:target{color:var(--color-fg-default)}.livex-chatbox-markdown .footnotes .data-footnote-backref g-emoji{font-family:monospace}.livex-chatbox-markdown .pl-c{color:var(--color-prettylights-syntax-comment)}.livex-chatbox-markdown .pl-c1,.livex-chatbox-markdown .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}.livex-chatbox-markdown .pl-e,.livex-chatbox-markdown .pl-en{color:var(--color-prettylights-syntax-entity)}.livex-chatbox-markdown .pl-smi,.livex-chatbox-markdown .pl-s .pl-s1{color:var(--color-prettylights-syntax-storage-modifier-import)}.livex-chatbox-markdown .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}.livex-chatbox-markdown .pl-k{color:var(--color-prettylights-syntax-keyword)}.livex-chatbox-markdown .pl-s,.livex-chatbox-markdown .pl-pds,.livex-chatbox-markdown .pl-s .pl-pse .pl-s1,.livex-chatbox-markdown .pl-sr,.livex-chatbox-markdown .pl-sr .pl-cce,.livex-chatbox-markdown .pl-sr .pl-sre,.livex-chatbox-markdown .pl-sr .pl-sra{color:var(--color-prettylights-syntax-string)}.livex-chatbox-markdown .pl-v,.livex-chatbox-markdown .pl-smw{color:var(--color-prettylights-syntax-variable)}.livex-chatbox-markdown .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}.livex-chatbox-markdown .pl-ii{color:var(--color-prettylights-syntax-invalid-illegal-text);background-color:var(--color-prettylights-syntax-invalid-illegal-bg)}.livex-chatbox-markdown .pl-c2{color:var(--color-prettylights-syntax-carriage-return-text);background-color:var(--color-prettylights-syntax-carriage-return-bg)}.livex-chatbox-markdown .pl-sr .pl-cce{font-weight:700;color:var(--color-prettylights-syntax-string-regexp)}.livex-chatbox-markdown .pl-ml{color:var(--color-prettylights-syntax-markup-list)}.livex-chatbox-markdown .pl-mh,.livex-chatbox-markdown .pl-mh .pl-en,.livex-chatbox-markdown .pl-ms{font-weight:700;color:var(--color-prettylights-syntax-markup-heading)}.livex-chatbox-markdown .pl-mi{font-style:italic;color:var(--color-prettylights-syntax-markup-italic)}.livex-chatbox-markdown .pl-mb{font-weight:700;color:var(--color-prettylights-syntax-markup-bold)}.livex-chatbox-markdown .pl-md{color:var(--color-prettylights-syntax-markup-deleted-text);background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.livex-chatbox-markdown .pl-mi1{color:var(--color-prettylights-syntax-markup-inserted-text);background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.livex-chatbox-markdown .pl-mc{color:var(--color-prettylights-syntax-markup-changed-text);background-color:var(--color-prettylights-syntax-markup-changed-bg)}.livex-chatbox-markdown .pl-mi2{color:var(--color-prettylights-syntax-markup-ignored-text);background-color:var(--color-prettylights-syntax-markup-ignored-bg)}.livex-chatbox-markdown .pl-mdr{font-weight:700;color:var(--color-prettylights-syntax-meta-diff-range)}.livex-chatbox-markdown .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}.livex-chatbox-markdown .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}.livex-chatbox-markdown .pl-corl{text-decoration:underline;color:var(--color-prettylights-syntax-constant-other-reference-link)}.livex-chatbox-markdown g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:.875em;font-style:normal!important;font-weight:var(--base-text-weight-normal, 400);line-height:1;vertical-align:-.075em}.livex-chatbox-markdown g-emoji img{width:1em;height:1em}.livex-chatbox-markdown .task-list-item{list-style-type:none}.livex-chatbox-markdown .task-list-item label{font-weight:var(--base-text-weight-normal, 400)}.livex-chatbox-markdown .task-list-item.enabled label{cursor:pointer}.livex-chatbox-markdown .task-list-item+.task-list-item{margin-top:.25em}.livex-chatbox-markdown .task-list-item .handle{display:none}.livex-chatbox-markdown .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.livex-chatbox-markdown .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.livex-chatbox-markdown .contains-task-list{position:relative}.livex-chatbox-markdown .contains-task-list:hover .task-list-item-convert-container,.livex-chatbox-markdown .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:1.5em;overflow:visible;clip:auto}.livex-chatbox-markdown ::-webkit-calendar-picker-indicator{filter:invert(50%)}.custom-animate-bounce{animation:bounce 2s linear;animation-iteration-count:1}@keyframes bounce{0%{transform:translateY(0);animation-timing-function:ease-out}16%{transform:translateY(-35%);animation-timing-function:ease-in}32%{transform:translateY(0);animation-timing-function:ease-out}48%{transform:translateY(-30%);animation-timing-function:ease-in}64%{transform:translateY(0);animation-timing-function:ease-out}80%{transform:translateY(-25%);animation-timing-function:ease-in}96%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out}}[debug] *{outline:4px dashed hsl(320 100% 50%)}.tooltip{position:absolute;visibility:hidden}.has-tooltip:hover .tooltip{visibility:visible;z-index:50}livex-chatbox-button-container{position:fixed;font-weight:400;font-family:Poppins,Inter,sans-serif;font-size:16px;line-height:1.5}livex-chatbox-button-container *{box-sizing:border-box;border-style:solid;border-width:0;margin:0;padding:0;line-height:inherit}livex-chatbox-button-container button{background-color:transparent}livex-chatbox-button-container img,livex-chatbox-button-container video{height:auto;display:block}livex-chatbox-button-container a{color:inherit;text-decoration:inherit}livex-chatbox-button-container button,livex-chatbox-button-container input,livex-chatbox-button-container optgroup,livex-chatbox-button-container select,livex-chatbox-button-container textarea,livex-chatbox-button-container fieldset{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit}livex-chatbox-button-container ol,livex-chatbox-button-container ul,livex-chatbox-button-container menu{list-style:none}livex-chatbox-button-container img,livex-chatbox-button-container svg,livex-chatbox-button-container video,livex-chatbox-button-container canvas,livex-chatbox-button-container audio,livex-chatbox-button-container iframe,livex-chatbox-button-container embed,livex-chatbox-button-container object{display:block;vertical-align:middle}livex-chatbox-button-container svg{width:100%;height:100%}livex-message-header-container{display:flex;justify-content:"center";align-items:baseline;gap:.25em;height:auto}livex-message-header-container-h1{font-size:.875em;font-style:normal;font-weight:500;line-height:1.25em;margin:.25em;color:#a0aec0}livex-message-header-container-h2{font-size:.75em;font-style:normal;font-weight:300;line-height:1em;color:#a0aec0}livex-message-pair-container{display:flex;flex-direction:column;gap:1em;scroll-margin-top:1em}livex-product-selector-center-column{display:flex;align-items:center;position:relative;overflow-x:auto}livex-product-name{font-size:.6em;max-width:90px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}livex-product-info-container{transition:border-color .3s ease;border-width:2px;border-style:solid;border-radius:.5em;cursor:pointer;overflow:hidden}livex-product-desc-container{display:flex;flex-direction:column;align-items:center;position:relative;flex:1;width:100%}livex-product-price-container{display:flex;gap:5px}livex-chatbot-icon-button{cursor:pointer;color:#fff;padding:5px;margin:-5px;border:none;border-radius:50%;width:34px;height:34px;display:flex;justify-content:center;align-items:center;transition:background-color .2s ease-in-out}livex-chatbot-header-buttons-container{display:flex;align-items:flex-end;-moz-column-gap:.75em;column-gap:.75em}livex-chatbot-message-footer{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;align-self:stretch;width:100%;border-radius:.75em;font-size:.625em;font-style:normal;font-weight:500}livex-chatbot-message-footer-feedback{display:flex;align-items:center;margin-left:auto;padding:5px;justify-content:flex-end}livex-chatbot-message-footer-source-info{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}livex-hr{border-top-width:1px;border-top-color:#cbd5e0;width:100%}livex-checkbox-container{display:flex;align-items:center}livex-checkmark-container{border:1px solid #777;margin-right:.5em}livex-form-component-radio-buttons-container{display:flex;flex-direction:column;margin-top:.5em;row-gap:.5em}livex-radio-button-container{display:flex;align-items:center;-moz-column-gap:1em;column-gap:1em}livex-radio-button-check-marker{width:15px;height:15px;border-radius:50%;border:1px solid #777;margin-right:.5em}livex-typing-effect-container{display:flex;width:100%;-moz-column-gap:.5em;column-gap:.5em;position:relative}livex-typing-background-container{margin-left:.75em}livex-typing-dots-container{top:13px;left:25px;position:absolute}@keyframes livex-blink{0%{opacity:.1}20%{opacity:1}to{opacity:.1}}livex-typing-dot{content:"";animation:livex-blink 1s .2s infinite;animation-fill-mode:both;height:8px;width:8px;background:#666;position:absolute;left:4px;top:0;border-radius:50%}livex-typing-dot#livex-typing-dot-2{animation-delay:.2s;margin-left:15px}livex-typing-dot#livex-typing-dot-3{animation-delay:.3s;margin-left:30px}livex-chatbox-message-composer-input-wrapper pre,livex-chatbox-message-composer-input-wrapper textarea{height:100%;background-color:#fff;white-space:pre-wrap;overflow-wrap:anywhere;max-height:200px;resize:none;font-size:16px;padding-top:11px;padding-bottom:10px;margin-left:36px}livex-chatbox-message-composer-input-wrapper pre{visibility:hidden;overflow:hidden;margin-right:36px;padding-top:6px;font-family:Poppins,Inter,sans-serif}livex-chatbox-message-composer-input-wrapper textarea{position:absolute;width:calc(100% - 72px);overflow:auto;border:0!important;outline:0!important;box-shadow:none!important}livex-chatbox-message-composer-input-wrapper textarea:active,livex-chatbox-message-composer-input-wrapper textarea:focus{border:0!important;outline:0!important;box-shadow:none!important}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Poppins,Inter,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 320px){.\\!container{max-width:320px!important}.container{max-width:320px}}@media (min-width: 450px){.\\!container{max-width:450px!important}.container{max-width:450px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.bottom-9{bottom:2.25em}.right-0{right:0}.top-0{top:0}.top-\\[64px\\]{top:64px}.isolate{isolation:isolate}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[1000\\]{z-index:1000}.z-\\[22\\]{z-index:22}.m-4{margin:1em}.mx-12{margin-left:3em;margin-right:3em}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.-ml-2{margin-left:-.5em}.-mt-8{margin-top:-2em}.mb-2{margin-bottom:.5em}.ml-3{margin-left:.75em}.ml-auto{margin-left:auto}.mr-2{margin-right:.5em}.mr-4{margin-right:1em}.mt-1{margin-top:.25em}.mt-2{margin-top:.5em}.mt-4{margin-top:1em}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-10{height:2.5em}.h-12{height:3em}.h-4{height:1em}.h-40{height:10em}.h-5{height:1.25em}.h-6{height:1.5em}.h-7{height:1.75em}.h-8{height:2em}.h-\\[44px\\]{height:44px}.h-\\[50px\\]{height:50px}.h-\\[60px\\]{height:60px}.h-full{height:100%}.max-h-\\[calc\\(100vh-7em\\)\\]{max-height:calc(100vh - 7em)}.w-12{width:3em}.w-4{width:1em}.w-40{width:10em}.w-5{width:1.25em}.w-6{width:1.5em}.w-7{width:1.75em}.w-8{width:2em}.w-\\[48\\%\\]{width:48%}.w-\\[50px\\]{width:50px}.w-\\[60px\\]{width:60px}.w-full{width:100%}.min-w-80{min-width:20em}.max-w-\\[350px\\]{max-width:350px}.max-w-\\[670px\\]{max-width:670px}.max-w-\\[830px\\]{max-width:830px}.max-w-\\[900px\\]{max-width:900px}.flex-1{flex:1 1 0%}.flex-none{flex:none}.flex-grow{flex-grow:1}.scale-50{--tw-scale-x: .5;--tw-scale-y: .5;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade{animation:fadeIn .5s ease-in-out}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.resize{resize:both}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1{gap:.25em}.gap-16{gap:4em}.gap-2{gap:.5em}.gap-3{gap:.75em}.gap-4{gap:1em}.gap-5{gap:1.25em}.gap-6{gap:1.5em}.gap-x-4{-moz-column-gap:1em;column-gap:1em}.self-stretch{align-self:stretch}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25em}.rounded-2xl{border-radius:1em}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5em}.rounded-md{border-radius:.375em}.rounded-xl{border-radius:.75em}.rounded-b-lg{border-bottom-right-radius:.5em;border-bottom-left-radius:.5em}.rounded-t-lg{border-top-left-radius:.5em;border-top-right-radius:.5em}.border{border-width:1px}.border-0{border-width:0px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-r-4{border-right-width:4px}.border-t{border-top-width:1px}.border-blue500{--tw-border-opacity: 1;border-color:rgb(61 90 254 / var(--tw-border-opacity))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}.border-slate-700{--tw-border-opacity: 1;border-color:rgb(51 65 85 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-blue500{--tw-bg-opacity: 1;background-color:rgb(61 90 254 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-65{--tw-bg-opacity: .65}.fill-blue-600{fill:#2563eb}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.p-1{padding:.25em}.p-12{padding:3em}.p-2{padding:.5em}.p-2\\.5{padding:.625em}.p-4{padding:1em}.p-6{padding:1.5em}.px-2{padding-left:.5em;padding-right:.5em}.px-2\\.5{padding-left:.625em;padding-right:.625em}.px-3{padding-left:.75em;padding-right:.75em}.px-4{padding-left:1em;padding-right:1em}.py-1{padding-top:.25em;padding-bottom:.25em}.py-1\\.5{padding-top:.375em;padding-bottom:.375em}.py-2{padding-top:.5em;padding-bottom:.5em}.py-3{padding-top:.75em;padding-bottom:.75em}.py-5{padding-top:1.25em;padding-bottom:1.25em}.pb-10{padding-bottom:2.5em}.pr-9{padding-right:2.25em}.pt-24{padding-top:6em}.pt-4{padding-top:1em}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:24px;line-height:32px}.text-3xl{font-size:30px;line-height:36px}.text-base{font-size:16px;line-height:24px}.text-lg{font-size:18px;line-height:28px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-thin{font-weight:100}.uppercase{text-transform:uppercase}.leading-6{line-height:1.5em}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-black200{color:#1b1b1bbf}.text-black300{--tw-text-opacity: 1;color:rgb(84 84 84 / var(--tw-text-opacity))}.text-blue500{--tw-text-opacity: 1;color:rgb(61 90 254 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity: 1;color:rgb(71 85 105 / var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-opacity-50{--tw-text-opacity: .5}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.opacity-50{opacity:.5}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.ring-gray-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.placeholder\\:text-sm::-moz-placeholder{font-size:14px;line-height:20px}.placeholder\\:text-sm::placeholder{font-size:14px;line-height:20px}.placeholder\\:text-gray-400::-moz-placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.placeholder\\:text-gray-400::placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.last\\:border-b-0:last-child{border-bottom-width:0px}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:rounded-full:hover{border-radius:9999px}.hover\\:border-2:hover{border-width:2px}.hover\\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity))}.hover\\:border-gray-700:hover{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.hover\\:border-transparent:hover{border-color:transparent}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:bg-slate-500:hover{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.hover\\:bg-opacity-100:hover{--tw-bg-opacity: 1}.hover\\:text-blue-900:hover{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity))}.hover\\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.hover\\:text-opacity-100:hover{--tw-text-opacity: 1}.hover\\:ring-4:hover{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.hover\\:ring-slate-300:hover{--tw-ring-opacity: 1;--tw-ring-color: rgb(203 213 225 / var(--tw-ring-opacity))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-4:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-indigo-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity))}@media (min-width: 320px){.xs\\:flex{display:flex}}@media (min-width: 450px){.sm\\:text-lg{font-size:18px;line-height:28px}.sm\\:text-sm{font-size:14px;line-height:20px}.sm\\:leading-6{line-height:1.5em}}@media (min-width: 768px){.md\\:max-h-full{max-height:100%}.md\\:w-1\\/3{width:33.333333%}.md\\:w-2\\/3{width:66.666667%}.md\\:w-96{width:24em}.md\\:w-full{width:100%}.md\\:max-w-96{max-width:24em}}`,i.appendChild(o),r(i)}},[]),G("div",{ref:t,style:{display:"block"},children:n&&Ly.createPortal(e,n)})},GZ=e=>{var t,n;const r=e.agent,i=e.source==="playground",o=((n=(t=r==null?void 0:r.config)==null?void 0:t.style)==null?void 0:n.z_index)||1e3;return window.console.log("file: index.tsx:462  ChatBoxButton  zIndex:",o),G(cN,{store:io,children:G(cU,{client:HZ,children:Fe("div",{style:{position:"fixed",right:0,bottom:0,display:"block",zIndex:o},children:[i&&G(yL,{...e}),!i&&G($Z,{children:G(yL,{...e})}),G(VZ,{})]})})})},WZ="0.2.40",h5="https://api.copilot.livex.ai";function KZ(){if(!localStorage.getItem("lvxcplt-visitor-id")){const e="0"+Date.now().toString(16)+function(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let i=0;i<t;i++)r+=n.charAt(Math.floor(62*Math.random()));return r}(12);return localStorage.setItem("lvxcplt-visitor-id",e),e}return localStorage.getItem("lvxcplt-visitor-id")}const bL=()=>{const e=window.location.href,t=new URL(e);return encodeURIComponent(t.origin+t.pathname)},wL=async e=>{var i;const t=bL(),n=KZ(),r=`${h5}/api/v1/users/publicagents/${e}?u=${n}&url=${t}`;try{const o=await fetch(r),a=await o.json();return a!=null&&a.response&&!((i=a==null?void 0:a.response)!=null&&i.inactive)?a.response:null}catch(o){return console.error("Error fetching agent data:",o),null}},_L="https://chat.copilot.livex.ai",d5=({botId:e,botMode:t,botSource:n})=>{var m;const[r,i]=re.useState(null),[o,a]=re.useState(!0),[s,l]=re.useState(!0),[c,u]=re.useState(!1),[h,d]=re.useState([]);re.useEffect(()=>{wL(e).then(b=>{if(!b)throw new Error("No agent data found");i(b)}).catch(b=>{console.error("Error fetching agent data:",b)}).finally(()=>{a(!1)}),fetch(`${h5}/api/v1/users/subscriptions/public-account-quota/${e}`).then(b=>b.json()).then(b=>{var v;u(((v=b==null?void 0:b.response)==null?void 0:v.has_quota)??!1),l(!1)}).catch(b=>{console.error("Error fetching quota data:",b)})},[e]),re.useEffect(()=>{const b=bL();e&&b&&fetch(`${_L}/api/v1/customized_message/?chatbot_id=${e}&url=${b}`).then(v=>v.json()).then(v=>{d(v.messages)}).catch(v=>{console.error("Error fetching customized message:",v)})},[e]),t=t??((m=r==null?void 0:r.config)==null?void 0:m.chatbot_mode);const p={agent:r,chatHost:_L,gatewayHost:h5,firebaseConfig:JSON.parse('{"apiKey":"AIzaSyDh5QuHaNYkMS4-H4DccmSjZVO1LElxQew","authDomain":"livex-copilot-prd.firebaseapp.com","projectId":"livex-copilot-prd","storageBucket":"livex-copilot-prd.appspot.com","messagingSenderId":"156138751423","appId":"1:156138751423:web:7ec32f201069fdfc564d0a"}'),botMode:t,source:n,popupQuestions:h},f=Gr.jsx(GZ,{...p});return Gr.jsx(Gr.Fragment,{children:o||s?Gr.jsx("p",{children:"Loading..."}):r&&c&&f})};d5.propTypes={botId:Dy.string.isRequired,botMode:Dy.string,botSource:Dy.string};const QZ="0.50.0",xL=()=>{const e=document.createElement("style");e.textContent=`.livex-chatbox-markdown p{overflow-wrap:anywhere}@media (prefers-color-scheme: dark){.livex-chatbox-markdown{color-scheme:dark;--color-prettylights-syntax-comment: #8b949e;--color-prettylights-syntax-constant: #79c0ff;--color-prettylights-syntax-entity: #d2a8ff;--color-prettylights-syntax-storage-modifier-import: #c9d1d9;--color-prettylights-syntax-entity-tag: #7ee787;--color-prettylights-syntax-keyword: #ff7b72;--color-prettylights-syntax-string: #a5d6ff;--color-prettylights-syntax-variable: #ffa657;--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;--color-prettylights-syntax-invalid-illegal-bg: #8e1519;--color-prettylights-syntax-carriage-return-text: #f0f6fc;--color-prettylights-syntax-carriage-return-bg: #b62324;--color-prettylights-syntax-string-regexp: #7ee787;--color-prettylights-syntax-markup-list: #f2cc60;--color-prettylights-syntax-markup-heading: #1f6feb;--color-prettylights-syntax-markup-italic: #c9d1d9;--color-prettylights-syntax-markup-bold: #c9d1d9;--color-prettylights-syntax-markup-deleted-text: #ffdcd7;--color-prettylights-syntax-markup-deleted-bg: #67060c;--color-prettylights-syntax-markup-inserted-text: #aff5b4;--color-prettylights-syntax-markup-inserted-bg: #033a16;--color-prettylights-syntax-markup-changed-text: #ffdfb6;--color-prettylights-syntax-markup-changed-bg: #5a1e02;--color-prettylights-syntax-markup-ignored-text: #c9d1d9;--color-prettylights-syntax-markup-ignored-bg: #1158c7;--color-prettylights-syntax-meta-diff-range: #d2a8ff;--color-prettylights-syntax-brackethighlighter-angle: #8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;--color-fg-muted: #8b949e;--color-fg-subtle: #6e7681;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #30363d;--color-border-muted: #21262d;--color-neutral-muted: rgba(110, 118, 129, .4);--color-accent-fg: #58a6ff;--color-accent-emphasis: #1f6feb;--color-attention-subtle: rgba(187, 128, 9, .15);--color-danger-fg: #f85149}}@media (prefers-color-scheme: light){.livex-chatbox-markdown{color-scheme:light;--color-prettylights-syntax-comment: #6e7781;--color-prettylights-syntax-constant: #0550ae;--color-prettylights-syntax-entity: #8250df;--color-prettylights-syntax-storage-modifier-import: #24292f;--color-prettylights-syntax-entity-tag: #116329;--color-prettylights-syntax-keyword: #cf222e;--color-prettylights-syntax-string: #0a3069;--color-prettylights-syntax-variable: #953800;--color-prettylights-syntax-brackethighlighter-unmatched: #82071e;--color-prettylights-syntax-invalid-illegal-text: #f6f8fa;--color-prettylights-syntax-invalid-illegal-bg: #82071e;--color-prettylights-syntax-carriage-return-text: #f6f8fa;--color-prettylights-syntax-carriage-return-bg: #cf222e;--color-prettylights-syntax-string-regexp: #116329;--color-prettylights-syntax-markup-list: #3b2300;--color-prettylights-syntax-markup-heading: #0550ae;--color-prettylights-syntax-markup-italic: #24292f;--color-prettylights-syntax-markup-bold: #24292f;--color-prettylights-syntax-markup-deleted-text: #82071e;--color-prettylights-syntax-markup-deleted-bg: #ffebe9;--color-prettylights-syntax-markup-inserted-text: #116329;--color-prettylights-syntax-markup-inserted-bg: #dafbe1;--color-prettylights-syntax-markup-changed-text: #953800;--color-prettylights-syntax-markup-changed-bg: #ffd8b5;--color-prettylights-syntax-markup-ignored-text: #eaeef2;--color-prettylights-syntax-markup-ignored-bg: #0550ae;--color-prettylights-syntax-meta-diff-range: #8250df;--color-prettylights-syntax-brackethighlighter-angle: #57606a;--color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;--color-prettylights-syntax-constant-other-reference-link: #0a3069;--color-fg-muted: #57606a;--color-fg-subtle: #6e7781;--color-canvas-default: transparent;--color-canvas-subtle: transparent;--color-border-default: #d0d7de;--color-border-muted: hsla(210, 18%, 87%, 1);--color-neutral-muted: rgba(175, 184, 193, .2);--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-attention-subtle: #fff8c5;--color-danger-fg: #cf222e}}.livex-chatbox-markdown{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:var(--color-fg-default);background-color:var(--color-canvas-default);font-size:.875em;word-wrap:break-word;width:100%}.livex-chatbox-markdown .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.livex-chatbox-markdown h1:hover .anchor .octicon-link:before,.livex-chatbox-markdown h2:hover .anchor .octicon-link:before,.livex-chatbox-markdown h3:hover .anchor .octicon-link:before,.livex-chatbox-markdown h4:hover .anchor .octicon-link:before,.livex-chatbox-markdown h5:hover .anchor .octicon-link:before,.livex-chatbox-markdown h6:hover .anchor .octicon-link:before{width:1em;height:1em;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.livex-chatbox-markdown details,.livex-chatbox-markdown figcaption,.livex-chatbox-markdown figure{display:block}.livex-chatbox-markdown summary{display:list-item}.livex-chatbox-markdown [hidden]{display:none!important}.livex-chatbox-markdown a{background-color:transparent;color:var(--color-accent-fg);text-decoration:none}.livex-chatbox-markdown abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.livex-chatbox-markdown b,.livex-chatbox-markdown strong{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dfn{font-style:italic}.livex-chatbox-markdown h1{margin:.67em 0;font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:2em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}.livex-chatbox-markdown small{font-size:90%}.livex-chatbox-markdown sub,.livex-chatbox-markdown sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.livex-chatbox-markdown sub{bottom:-.25em}.livex-chatbox-markdown sup{top:-.5em}.livex-chatbox-markdown img{border-style:none;max-width:100%;box-sizing:content-box;background-color:var(--color-canvas-default)}.livex-chatbox-markdown code,.livex-chatbox-markdown kbd,.livex-chatbox-markdown pre,.livex-chatbox-markdown samp{font-family:monospace;font-size:1em}.livex-chatbox-markdown figure{margin:1em 3.25em}.livex-chatbox-markdown hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid var(--color-border-muted);height:.25em;padding:0;margin:1.5em 0;background-color:var(--color-border-default);border:0}.livex-chatbox-markdown input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.livex-chatbox-markdown [type=button],.livex-chatbox-markdown [type=reset],.livex-chatbox-markdown [type=submit]{-webkit-appearance:button}.livex-chatbox-markdown [type=checkbox],.livex-chatbox-markdown [type=radio]{box-sizing:border-box;padding:0}.livex-chatbox-markdown [type=search]::-webkit-search-cancel-button,.livex-chatbox-markdown [type=search]::-webkit-search-decoration{-webkit-appearance:none}.livex-chatbox-markdown ::-webkit-input-placeholder{color:inherit;opacity:.54}.livex-chatbox-markdown ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.livex-chatbox-markdown a:hover{text-decoration:underline}.livex-chatbox-markdown ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown ::placeholder{color:var(--color-fg-subtle);opacity:1}.livex-chatbox-markdown hr:before{display:table;content:""}.livex-chatbox-markdown hr:after{display:table;clear:both;content:""}.livex-chatbox-markdown table{border-spacing:0;border-collapse:collapse;display:block;width:-moz-max-content;width:max-content;max-width:100%;overflow:auto}.livex-chatbox-markdown td,.livex-chatbox-markdown th{padding:0;width:10%}.livex-chatbox-markdown details summary{cursor:pointer}.livex-chatbox-markdown details:not([open])>*:not(summary){display:none!important}.livex-chatbox-markdown a:focus,.livex-chatbox-markdown [role=button]:focus,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=checkbox]:focus{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:focus:not(:focus-visible),.livex-chatbox-markdown [role=button]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=radio]:focus:not(:focus-visible),.livex-chatbox-markdown input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.livex-chatbox-markdown a:focus-visible,.livex-chatbox-markdown [role=button]:focus-visible,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline:2px solid var(--color-accent-fg);outline-offset:-2px;box-shadow:none}.livex-chatbox-markdown a:not([class]):focus,.livex-chatbox-markdown a:not([class]):focus-visible,.livex-chatbox-markdown input[type=radio]:focus,.livex-chatbox-markdown input[type=radio]:focus-visible,.livex-chatbox-markdown input[type=checkbox]:focus,.livex-chatbox-markdown input[type=checkbox]:focus-visible{outline-offset:0}.livex-chatbox-markdown kbd{display:inline-block;padding:3px .3125em;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:.625em;color:var(--color-fg-default);vertical-align:middle;background-color:var(--color-canvas-subtle);border:solid 1px var(--color-neutral-muted);border-bottom-color:var(--color-neutral-muted);border-radius:.375em;box-shadow:inset 0 -1px 0 var(--color-neutral-muted)}.livex-chatbox-markdown h1,.livex-chatbox-markdown h2,.livex-chatbox-markdown h3,.livex-chatbox-markdown h4,.livex-chatbox-markdown h5,.livex-chatbox-markdown h6{margin-top:1.5em;margin-bottom:1em;font-weight:var(--base-text-weight-semibold, 600);line-height:1.25}.livex-chatbox-markdown h2{font-weight:var(--base-text-weight-semibold, 600);padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid var(--color-border-muted)}.livex-chatbox-markdown h3{font-weight:var(--base-text-weight-semibold, 600);font-size:1.25em}.livex-chatbox-markdown h4{font-weight:var(--base-text-weight-semibold, 600);font-size:1em}.livex-chatbox-markdown h5{font-weight:var(--base-text-weight-semibold, 600);font-size:.875em}.livex-chatbox-markdown h6{font-weight:var(--base-text-weight-semibold, 600);font-size:.85em;color:var(--color-fg-muted)}.livex-chatbox-markdown p{margin-top:0;margin-bottom:.625em}.livex-chatbox-markdown blockquote{margin:0;padding:0 1em;color:var(--color-fg-muted);border-left:.25em solid var(--color-border-default)}.livex-chatbox-markdown ul{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:disc}.livex-chatbox-markdown ol{margin-top:0;margin-bottom:0;padding-left:2em;list-style-type:decimal}.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ul ol{list-style-type:lower-roman}.livex-chatbox-markdown ul ul ol,.livex-chatbox-markdown ul ol ol,.livex-chatbox-markdown ol ul ol,.livex-chatbox-markdown ol ol ol{list-style-type:lower-alpha}.livex-chatbox-markdown dd{margin-left:0}.livex-chatbox-markdown tt,.livex-chatbox-markdown code,.livex-chatbox-markdown samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em}.livex-chatbox-markdown pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:.75em;word-wrap:normal}.livex-chatbox-markdown .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.livex-chatbox-markdown input::-webkit-outer-spin-button,.livex-chatbox-markdown input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.livex-chatbox-markdown:before{display:table;content:""}.livex-chatbox-markdown:after{display:table;clear:both;content:""}.livex-chatbox-markdown>*:first-child{margin-top:0!important}.livex-chatbox-markdown>*:last-child{margin-bottom:0!important}.livex-chatbox-markdown .absent{color:var(--color-danger-fg)}.livex-chatbox-markdown .anchor{float:left;padding-right:.25em;margin-left:-1.25em;line-height:1}.livex-chatbox-markdown .anchor:focus{outline:none}.livex-chatbox-markdown p,.livex-chatbox-markdown blockquote,.livex-chatbox-markdown ul,.livex-chatbox-markdown ol,.livex-chatbox-markdown dl,.livex-chatbox-markdown table,.livex-chatbox-markdown pre,.livex-chatbox-markdown details{margin-top:0;margin-bottom:1em}.livex-chatbox-markdown blockquote>:first-child{margin-top:0}.livex-chatbox-markdown blockquote>:last-child{margin-bottom:0}.livex-chatbox-markdown h1 .octicon-link,.livex-chatbox-markdown h2 .octicon-link,.livex-chatbox-markdown h3 .octicon-link,.livex-chatbox-markdown h4 .octicon-link,.livex-chatbox-markdown h5 .octicon-link,.livex-chatbox-markdown h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.livex-chatbox-markdown h1:hover .anchor,.livex-chatbox-markdown h2:hover .anchor,.livex-chatbox-markdown h3:hover .anchor,.livex-chatbox-markdown h4:hover .anchor,.livex-chatbox-markdown h5:hover .anchor,.livex-chatbox-markdown h6:hover .anchor{text-decoration:none}.livex-chatbox-markdown h1:hover .anchor .octicon-link,.livex-chatbox-markdown h2:hover .anchor .octicon-link,.livex-chatbox-markdown h3:hover .anchor .octicon-link,.livex-chatbox-markdown h4:hover .anchor .octicon-link,.livex-chatbox-markdown h5:hover .anchor .octicon-link,.livex-chatbox-markdown h6:hover .anchor .octicon-link{visibility:visible}.livex-chatbox-markdown h1 tt,.livex-chatbox-markdown h1 code,.livex-chatbox-markdown h2 tt,.livex-chatbox-markdown h2 code,.livex-chatbox-markdown h3 tt,.livex-chatbox-markdown h3 code,.livex-chatbox-markdown h4 tt,.livex-chatbox-markdown h4 code,.livex-chatbox-markdown h5 tt,.livex-chatbox-markdown h5 code,.livex-chatbox-markdown h6 tt,.livex-chatbox-markdown h6 code{padding:0 .2em;font-size:inherit}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2,.livex-chatbox-markdown summary h3,.livex-chatbox-markdown summary h4,.livex-chatbox-markdown summary h5,.livex-chatbox-markdown summary h6{display:inline-block}.livex-chatbox-markdown summary h1 .anchor,.livex-chatbox-markdown summary h2 .anchor,.livex-chatbox-markdown summary h3 .anchor,.livex-chatbox-markdown summary h4 .anchor,.livex-chatbox-markdown summary h5 .anchor,.livex-chatbox-markdown summary h6 .anchor{margin-left:-2.5em}.livex-chatbox-markdown summary h1,.livex-chatbox-markdown summary h2{padding-bottom:0;border-bottom:0}.livex-chatbox-markdown ul.no-list,.livex-chatbox-markdown ol.no-list{padding:0;list-style-type:none}.livex-chatbox-markdown ol[type=a]{list-style-type:lower-alpha}.livex-chatbox-markdown ol[type=A]{list-style-type:upper-alpha}.livex-chatbox-markdown ol[type=i]{list-style-type:lower-roman}.livex-chatbox-markdown ol[type=I]{list-style-type:upper-roman}.livex-chatbox-markdown ol[type="1"]{list-style-type:decimal}.livex-chatbox-markdown div>ol:not([type]){list-style-type:decimal}.livex-chatbox-markdown ul ul,.livex-chatbox-markdown ul ol,.livex-chatbox-markdown ol ol,.livex-chatbox-markdown ol ul{margin-top:0;margin-bottom:0}.livex-chatbox-markdown li>p{margin-top:1em}.livex-chatbox-markdown li+li{margin-top:.25em}.livex-chatbox-markdown dl{padding:0}.livex-chatbox-markdown dl dt{padding:0;margin-top:1em;font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown dl dd{padding:0 1em;margin-bottom:1em}.livex-chatbox-markdown table th{font-weight:var(--base-text-weight-semibold, 600)}.livex-chatbox-markdown table th,.livex-chatbox-markdown table td{padding:.375em .8125em;border:1px solid var(--color-border-default)}.livex-chatbox-markdown table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}.livex-chatbox-markdown table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}.livex-chatbox-markdown table img{background-color:transparent}.livex-chatbox-markdown img[align=right]{padding-left:1.25em}.livex-chatbox-markdown img[align=left]{padding-right:1.25em}.livex-chatbox-markdown .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.livex-chatbox-markdown span.frame{display:block;overflow:hidden}.livex-chatbox-markdown span.frame>span{display:block;float:left;width:auto;padding:.4375em;margin:.8125em 0 0;overflow:hidden;border:1px solid var(--color-border-default)}.livex-chatbox-markdown span.frame span img{display:block;float:left}.livex-chatbox-markdown span.frame span span{display:block;padding:.3125em 0 0;clear:both;color:var(--color-fg-default)}.livex-chatbox-markdown span.align-center{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-center>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:center}.livex-chatbox-markdown span.align-center span img{margin:0 auto;text-align:center}.livex-chatbox-markdown span.align-right{display:block;overflow:hidden;clear:both}.livex-chatbox-markdown span.align-right>span{display:block;margin:.8125em 0 0;overflow:hidden;text-align:right}.livex-chatbox-markdown span.align-right span img{margin:0;text-align:right}.livex-chatbox-markdown span.float-left{display:block;float:left;margin-right:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-left span{margin:.8125em 0 0}.livex-chatbox-markdown span.float-right{display:block;float:right;margin-left:.8125em;overflow:hidden}.livex-chatbox-markdown span.float-right>span{display:block;margin:.8125em auto 0;overflow:hidden;text-align:right}.livex-chatbox-markdown code,.livex-chatbox-markdown tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:var(--color-neutral-muted);border-radius:.375em}.livex-chatbox-markdown code br,.livex-chatbox-markdown tt br{display:none}.livex-chatbox-markdown del code{text-decoration:inherit}.livex-chatbox-markdown samp{font-size:85%}.livex-chatbox-markdown pre code{font-size:100%}.livex-chatbox-markdown pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.livex-chatbox-markdown .highlight{margin-bottom:1em}.livex-chatbox-markdown .highlight pre{margin-bottom:0;word-break:normal}.livex-chatbox-markdown .highlight pre,.livex-chatbox-markdown pre{padding:1em;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-canvas-subtle);border-radius:.375em}.livex-chatbox-markdown pre code,.livex-chatbox-markdown pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.livex-chatbox-markdown .csv-data td,.livex-chatbox-markdown .csv-data th{padding:.3125em;overflow:hidden;font-size:.75em;line-height:1;text-align:left;white-space:nowrap}.livex-chatbox-markdown .csv-data .blob-num{padding:.625em .5em .5em;text-align:right;background:var(--color-canvas-default);border:0}.livex-chatbox-markdown .csv-data tr{border-top:0}.livex-chatbox-markdown .csv-data th{font-weight:var(--base-text-weight-semibold, 600);background:var(--color-canvas-subtle);border-top:0}.livex-chatbox-markdown [data-footnote-ref]:before{content:"["}.livex-chatbox-markdown [data-footnote-ref]:after{content:"]"}.livex-chatbox-markdown .footnotes{font-size:.75em;color:var(--color-fg-muted);border-top:1px solid var(--color-border-default)}.livex-chatbox-markdown .footnotes ol{padding-left:1em}.livex-chatbox-markdown .footnotes ol ul{display:inline-block;padding-left:1em;margin-top:1em}.livex-chatbox-markdown .footnotes li{position:relative}.livex-chatbox-markdown .footnotes li:target:before{position:absolute;top:-.5em;right:-.5em;bottom:-.5em;left:-1.5em;pointer-events:none;content:"";border:2px solid var(--color-accent-emphasis);border-radius:.375em}.livex-chatbox-markdown .footnotes li:target{color:var(--color-fg-default)}.livex-chatbox-markdown .footnotes .data-footnote-backref g-emoji{font-family:monospace}.livex-chatbox-markdown .pl-c{color:var(--color-prettylights-syntax-comment)}.livex-chatbox-markdown .pl-c1,.livex-chatbox-markdown .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}.livex-chatbox-markdown .pl-e,.livex-chatbox-markdown .pl-en{color:var(--color-prettylights-syntax-entity)}.livex-chatbox-markdown .pl-smi,.livex-chatbox-markdown .pl-s .pl-s1{color:var(--color-prettylights-syntax-storage-modifier-import)}.livex-chatbox-markdown .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}.livex-chatbox-markdown .pl-k{color:var(--color-prettylights-syntax-keyword)}.livex-chatbox-markdown .pl-s,.livex-chatbox-markdown .pl-pds,.livex-chatbox-markdown .pl-s .pl-pse .pl-s1,.livex-chatbox-markdown .pl-sr,.livex-chatbox-markdown .pl-sr .pl-cce,.livex-chatbox-markdown .pl-sr .pl-sre,.livex-chatbox-markdown .pl-sr .pl-sra{color:var(--color-prettylights-syntax-string)}.livex-chatbox-markdown .pl-v,.livex-chatbox-markdown .pl-smw{color:var(--color-prettylights-syntax-variable)}.livex-chatbox-markdown .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}.livex-chatbox-markdown .pl-ii{color:var(--color-prettylights-syntax-invalid-illegal-text);background-color:var(--color-prettylights-syntax-invalid-illegal-bg)}.livex-chatbox-markdown .pl-c2{color:var(--color-prettylights-syntax-carriage-return-text);background-color:var(--color-prettylights-syntax-carriage-return-bg)}.livex-chatbox-markdown .pl-sr .pl-cce{font-weight:700;color:var(--color-prettylights-syntax-string-regexp)}.livex-chatbox-markdown .pl-ml{color:var(--color-prettylights-syntax-markup-list)}.livex-chatbox-markdown .pl-mh,.livex-chatbox-markdown .pl-mh .pl-en,.livex-chatbox-markdown .pl-ms{font-weight:700;color:var(--color-prettylights-syntax-markup-heading)}.livex-chatbox-markdown .pl-mi{font-style:italic;color:var(--color-prettylights-syntax-markup-italic)}.livex-chatbox-markdown .pl-mb{font-weight:700;color:var(--color-prettylights-syntax-markup-bold)}.livex-chatbox-markdown .pl-md{color:var(--color-prettylights-syntax-markup-deleted-text);background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.livex-chatbox-markdown .pl-mi1{color:var(--color-prettylights-syntax-markup-inserted-text);background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.livex-chatbox-markdown .pl-mc{color:var(--color-prettylights-syntax-markup-changed-text);background-color:var(--color-prettylights-syntax-markup-changed-bg)}.livex-chatbox-markdown .pl-mi2{color:var(--color-prettylights-syntax-markup-ignored-text);background-color:var(--color-prettylights-syntax-markup-ignored-bg)}.livex-chatbox-markdown .pl-mdr{font-weight:700;color:var(--color-prettylights-syntax-meta-diff-range)}.livex-chatbox-markdown .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}.livex-chatbox-markdown .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}.livex-chatbox-markdown .pl-corl{text-decoration:underline;color:var(--color-prettylights-syntax-constant-other-reference-link)}.livex-chatbox-markdown g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:.875em;font-style:normal!important;font-weight:var(--base-text-weight-normal, 400);line-height:1;vertical-align:-.075em}.livex-chatbox-markdown g-emoji img{width:1em;height:1em}.livex-chatbox-markdown .task-list-item{list-style-type:none}.livex-chatbox-markdown .task-list-item label{font-weight:var(--base-text-weight-normal, 400)}.livex-chatbox-markdown .task-list-item.enabled label{cursor:pointer}.livex-chatbox-markdown .task-list-item+.task-list-item{margin-top:.25em}.livex-chatbox-markdown .task-list-item .handle{display:none}.livex-chatbox-markdown .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.livex-chatbox-markdown .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.livex-chatbox-markdown .contains-task-list{position:relative}.livex-chatbox-markdown .contains-task-list:hover .task-list-item-convert-container,.livex-chatbox-markdown .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:1.5em;overflow:visible;clip:auto}.livex-chatbox-markdown ::-webkit-calendar-picker-indicator{filter:invert(50%)}.custom-animate-bounce{animation:bounce 2s linear;animation-iteration-count:1}@keyframes bounce{0%{transform:translateY(0);animation-timing-function:ease-out}16%{transform:translateY(-35%);animation-timing-function:ease-in}32%{transform:translateY(0);animation-timing-function:ease-out}48%{transform:translateY(-30%);animation-timing-function:ease-in}64%{transform:translateY(0);animation-timing-function:ease-out}80%{transform:translateY(-25%);animation-timing-function:ease-in}96%{transform:translateY(0);animation-timing-function:ease-out}to{transform:translateY(0);animation-timing-function:ease-out}}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Poppins,Inter,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}.gap-x-4{-moz-column-gap:1em;column-gap:1em}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}[debug] *{outline:4px dashed hsl(320 100% 50%)}.tooltip{position:absolute;visibility:hidden}.has-tooltip:hover .tooltip{visibility:visible;z-index:50}livex-chatbox-button-container{position:fixed;font-weight:400;font-family:Poppins,Inter,sans-serif;font-size:16px;line-height:1.5}livex-chatbox-button-container *{box-sizing:border-box;border-style:solid;border-width:0;margin:0;padding:0;line-height:inherit}livex-chatbox-button-container button{background-color:transparent}livex-chatbox-button-container img,livex-chatbox-button-container video{height:auto;display:block}livex-chatbox-button-container a{color:inherit;text-decoration:inherit}livex-chatbox-button-container button,livex-chatbox-button-container input,livex-chatbox-button-container optgroup,livex-chatbox-button-container select,livex-chatbox-button-container textarea,livex-chatbox-button-container fieldset{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit}livex-chatbox-button-container ol,livex-chatbox-button-container ul,livex-chatbox-button-container menu{list-style:none}livex-chatbox-button-container img,livex-chatbox-button-container svg,livex-chatbox-button-container video,livex-chatbox-button-container canvas,livex-chatbox-button-container audio,livex-chatbox-button-container iframe,livex-chatbox-button-container embed,livex-chatbox-button-container object{display:block;vertical-align:middle}livex-chatbox-button-container svg{width:100%;height:100%}livex-message-header-container{display:flex;justify-content:"center";align-items:baseline;gap:.25em;height:auto}livex-message-header-container-h1{font-size:.875em;font-style:normal;font-weight:500;line-height:1.25em;margin:.25em;color:#a0aec0}livex-message-header-container-h2{font-size:.75em;font-style:normal;font-weight:300;line-height:1em;color:#a0aec0}livex-message-pair-container{display:flex;flex-direction:column;gap:1em;scroll-margin-top:1em}livex-product-selector-center-column{display:flex;align-items:center;position:relative;overflow-x:auto}livex-product-name{font-size:.6em;max-width:90px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}livex-product-info-container{transition:border-color .3s ease;border-width:2px;border-style:solid;border-radius:.5em;cursor:pointer;overflow:hidden}livex-product-desc-container{display:flex;flex-direction:column;align-items:center;position:relative;flex:1;width:100%}livex-product-price-container{display:flex;gap:5px}livex-chatbot-icon-button{cursor:pointer;color:#fff;padding:5px;margin:-5px;border:none;border-radius:50%;width:34px;height:34px;display:flex;justify-content:center;align-items:center;transition:background-color .2s ease-in-out}livex-chatbot-header-buttons-container{display:flex;align-items:flex-end;-moz-column-gap:.75em;column-gap:.75em}livex-chatbot-message-footer{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;align-self:stretch;width:100%;border-radius:.75em;font-size:.625em;font-style:normal;font-weight:500}livex-chatbot-message-footer-feedback{display:flex;align-items:center;margin-left:auto;padding:5px;justify-content:flex-end}livex-chatbot-message-footer-source-info{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}livex-hr{border-top-width:1px;border-top-color:#cbd5e0;width:100%}livex-checkbox-container{display:flex;align-items:center}livex-checkmark-container{border:1px solid #777;margin-right:.5em}livex-form-component-radio-buttons-container{display:flex;flex-direction:column;margin-top:.5em;row-gap:.5em}livex-radio-button-container{display:flex;align-items:center;-moz-column-gap:1em;column-gap:1em}livex-radio-button-check-marker{width:15px;height:15px;border-radius:50%;border:1px solid #777;margin-right:.5em}livex-typing-effect-container{display:flex;width:100%;-moz-column-gap:.5em;column-gap:.5em;position:relative}livex-typing-background-container{margin-left:.75em}livex-typing-dots-container{top:13px;left:25px;position:absolute}@keyframes livex-blink{0%{opacity:.1}20%{opacity:1}to{opacity:.1}}livex-typing-dot{content:"";animation:livex-blink 1s .2s infinite;animation-fill-mode:both;height:8px;width:8px;background:#666;position:absolute;left:4px;top:0;border-radius:50%}livex-typing-dot#livex-typing-dot-2{animation-delay:.2s;margin-left:15px}livex-typing-dot#livex-typing-dot-3{animation-delay:.3s;margin-left:30px}livex-chatbox-message-composer-input-wrapper pre,livex-chatbox-message-composer-input-wrapper textarea{height:100%;background-color:#fff;white-space:pre-wrap;overflow-wrap:anywhere;max-height:200px;resize:none;font-size:16px;padding-top:11px;padding-bottom:10px;margin-left:36px}livex-chatbox-message-composer-input-wrapper pre{visibility:hidden;overflow:hidden;margin-right:36px;padding-top:6px;font-family:Poppins,Inter,sans-serif}livex-chatbox-message-composer-input-wrapper textarea{position:absolute;width:calc(100% - 72px);overflow:auto;border:0!important;outline:0!important;box-shadow:none!important}livex-chatbox-message-composer-input-wrapper textarea:active,livex-chatbox-message-composer-input-wrapper textarea:focus{border:0!important;outline:0!important;box-shadow:none!important}.placeholder\\:text-sm::-moz-placeholder{font-size:14px;line-height:20px}.placeholder\\:text-gray-400::-moz-placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:Poppins,Inter,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 320px){.\\!container{max-width:320px!important}.container{max-width:320px}}@media (min-width: 450px){.\\!container{max-width:450px!important}.container{max-width:450px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.bottom-9{bottom:2.25em}.right-0{right:0}.top-0{top:0}.isolate{isolation:isolate}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.z-\\[22\\]{z-index:22}.m-4{margin:1em}.mx-12{margin-left:3em;margin-right:3em}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.-ml-2{margin-left:-.5em}.-mt-8{margin-top:-2em}.mb-2{margin-bottom:.5em}.ml-3{margin-left:.75em}.ml-auto{margin-left:auto}.mr-2{margin-right:.5em}.mr-4{margin-right:1em}.mt-1{margin-top:.25em}.mt-2{margin-top:.5em}.mt-4{margin-top:1em}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.hidden{display:none}.h-10{height:2.5em}.h-12{height:3em}.h-4{height:1em}.h-40{height:10em}.h-5{height:1.25em}.h-6{height:1.5em}.h-7{height:1.75em}.h-8{height:2em}.h-\\[44px\\]{height:44px}.h-\\[50px\\]{height:50px}.h-full{height:100%}.max-h-\\[calc\\(100vh-7em\\)\\]{max-height:calc(100vh - 7em)}.w-12{width:3em}.w-4{width:1em}.w-40{width:10em}.w-5{width:1.25em}.w-6{width:1.5em}.w-7{width:1.75em}.w-8{width:2em}.w-\\[48\\%\\]{width:48%}.w-\\[50px\\]{width:50px}.w-full{width:100%}.min-w-80{min-width:20em}.max-w-\\[350px\\]{max-width:350px}.max-w-\\[670px\\]{max-width:670px}.max-w-\\[830px\\]{max-width:830px}.max-w-\\[900px\\]{max-width:900px}.flex-1{flex:1 1 0%}.flex-none{flex:none}.flex-grow{flex-grow:1}.scale-50{--tw-scale-x: .5;--tw-scale-y: .5;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate-fade{animation:fadeIn .5s ease-in-out}@keyframes ping{75%,to{transform:scale(2);opacity:0}}.animate-ping{animation:ping 1s cubic-bezier(0,0,.2,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-default{cursor:default}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.resize{resize:both}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.gap-1{gap:.25em}.gap-16{gap:4em}.gap-2{gap:.5em}.gap-3{gap:.75em}.gap-4{gap:1em}.gap-5{gap:1.25em}.gap-6{gap:1.5em}.gap-x-4{column-gap:1em}.self-stretch{align-self:stretch}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.whitespace-pre{white-space:pre}.whitespace-pre-wrap{white-space:pre-wrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25em}.rounded-2xl{border-radius:1em}.rounded-\\[10px\\]{border-radius:10px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5em}.rounded-md{border-radius:.375em}.rounded-xl{border-radius:.75em}.border{border-width:1px}.border-0{border-width:0px}.border-b{border-bottom-width:1px}.border-r-4{border-right-width:4px}.border-t{border-top-width:1px}.border-blue500{--tw-border-opacity: 1;border-color:rgb(61 90 254 / var(--tw-border-opacity))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity))}.border-slate-200{--tw-border-opacity: 1;border-color:rgb(226 232 240 / var(--tw-border-opacity))}.border-slate-700{--tw-border-opacity: 1;border-color:rgb(51 65 85 / var(--tw-border-opacity))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-blue500{--tw-bg-opacity: 1;background-color:rgb(61 90 254 / var(--tw-bg-opacity))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-slate-600{--tw-bg-opacity: 1;background-color:rgb(71 85 105 / var(--tw-bg-opacity))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-65{--tw-bg-opacity: .65}.fill-blue-600{fill:#2563eb}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-1{padding:.25em}.p-12{padding:3em}.p-2{padding:.5em}.p-2\\.5{padding:.625em}.p-4{padding:1em}.p-6{padding:1.5em}.px-2{padding-left:.5em;padding-right:.5em}.px-2\\.5{padding-left:.625em;padding-right:.625em}.px-3{padding-left:.75em;padding-right:.75em}.px-4{padding-left:1em;padding-right:1em}.py-1{padding-top:.25em;padding-bottom:.25em}.py-1\\.5{padding-top:.375em;padding-bottom:.375em}.py-2{padding-top:.5em;padding-bottom:.5em}.py-3{padding-top:.75em;padding-bottom:.75em}.py-5{padding-top:1.25em;padding-bottom:1.25em}.pb-10{padding-bottom:2.5em}.pr-9{padding-right:2.25em}.pt-24{padding-top:6em}.pt-4{padding-top:1em}.text-left{text-align:left}.text-center{text-align:center}.text-2xl{font-size:24px;line-height:32px}.text-3xl{font-size:30px;line-height:36px}.text-base{font-size:16px;line-height:24px}.text-lg{font-size:18px;line-height:28px}.text-sm{font-size:14px;line-height:20px}.text-xl{font-size:20px;line-height:28px}.text-xs{font-size:12px;line-height:16px}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-light{font-weight:300}.font-medium{font-weight:500}.font-semibold{font-weight:600}.font-thin{font-weight:100}.uppercase{text-transform:uppercase}.leading-6{line-height:1.5em}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-black200{color:#1b1b1bbf}.text-black300{--tw-text-opacity: 1;color:rgb(84 84 84 / var(--tw-text-opacity))}.text-blue500{--tw-text-opacity: 1;color:rgb(61 90 254 / var(--tw-text-opacity))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-indigo-600{--tw-text-opacity: 1;color:rgb(79 70 229 / var(--tw-text-opacity))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity: 1;color:rgb(100 116 139 / var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity: 1;color:rgb(51 65 85 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-opacity-50{--tw-text-opacity: .5}.underline{text-decoration-line:underline}.line-through{text-decoration-line:line-through}.opacity-50{opacity:.5}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring-1{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.ring-gray-300{--tw-ring-opacity: 1;--tw-ring-color: rgb(209 213 219 / var(--tw-ring-opacity))}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.placeholder\\:text-sm::placeholder{font-size:14px;line-height:20px}.placeholder\\:text-gray-400::placeholder{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.last\\:border-b-0:last-child{border-bottom-width:0px}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:rounded-full:hover{border-radius:9999px}.hover\\:border-2:hover{border-width:2px}.hover\\:border-blue-300:hover{--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity))}.hover\\:border-gray-700:hover{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.hover\\:border-transparent:hover{border-color:transparent}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.hover\\:bg-slate-500:hover{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity))}.hover\\:bg-opacity-100:hover{--tw-bg-opacity: 1}.hover\\:text-blue-900:hover{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity))}.hover\\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.hover\\:text-opacity-100:hover{--tw-text-opacity: 1}.hover\\:ring-4:hover{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.hover\\:ring-slate-300:hover{--tw-ring-opacity: 1;--tw-ring-color: rgb(203 213 225 / var(--tw-ring-opacity))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-4:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-300:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(147 197 253 / var(--tw-ring-opacity))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-indigo-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(79 70 229 / var(--tw-ring-opacity))}@media (min-width: 320px){.xs\\:flex{display:flex}}@media (min-width: 450px){.sm\\:text-lg{font-size:18px;line-height:28px}.sm\\:text-sm{font-size:14px;line-height:20px}.sm\\:leading-6{line-height:1.5em}}@media (min-width: 768px){.md\\:max-h-full{max-height:100%}.md\\:w-1\\/3{width:33.333333%}.md\\:w-2\\/3{width:66.666667%}.md\\:w-96{width:24em}.md\\:w-full{width:100%}.md\\:max-w-96{max-width:24em}}
`;const t=(()=>{const c=document.querySelector("script[data-root-id], script[data-bot-id]");if(c)return c;const u=document.querySelectorAll("script");for(let h=0;h<u.length;h++){const d=u[h];if(d.src&&d.src.includes("/livex.min.js"))return d}return console.error("Cannot find script tag of LiveX chatbot"),null})();let n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"),document.head.appendChild(n);const r=(()=>{if(t){const c=t==null?void 0:t.getAttribute("data-bot-id");if(c)return c;{const u=new URL(t.src).searchParams.get("chatbot_id");if(u)return u}}return null})(),i=(()=>t?t.getAttribute("data-bot-mode"):null)(),o=(()=>t?t.getAttribute("data-bot-source"):null)()||"chatbox",a=(t==null?void 0:t.getAttribute("data-root-id"))||"livex-chatbox-root";let s=document.getElementById(a);s||(s=document.createElement("div"),s.setAttribute("id","livex-chatbox-root"),document.body.appendChild(s)),s.setAttribute("ver",QZ),s.setAttribute("ver_box",WZ);const l="display: block; position: fixed; bottom: 0; right: 0;";s.setAttribute("style",l),wL(r).then(c=>{var h,d;const u=((d=(h=c==null?void 0:c.config)==null?void 0:h.style)==null?void 0:d.z_index)||1500;s.setAttribute("style",`${l} z-index: ${u};`)}),i==="avatai"?(()=>{const c=document.createElement("script");c.type="text/javascript",c.src="https://chatbox.copilot.livex.ai/node-player/NodePlayer.min.js",document.head.appendChild(c),s.appendChild(e),r?nf.createRoot(s).render(Gr.jsx(d5,{botId:r,botMode:i,botSource:o})):console.error("Cannot find LiveX chatbot id")})():(()=>{let c=s.shadowRoot;c||(c=s.attachShadow({mode:"open"}),c.appendChild(e));const u=document.createElement("div");u.setAttribute("id","app"),c.appendChild(u),r?nf.createRoot(u).render(Gr.jsx(d5,{botId:r,botMode:i,botSource:o})):console.error("Cannot find LiveX chatbot id")})()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",xL):xL()})();
